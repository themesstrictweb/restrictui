{
  "file-upload/avatar-upload": {
    "code": "'use client';\n\nimport { formatBytes, useFileUpload, type FileWithPreview } from '@/hooks/use-file-upload';\nimport { Alert, AlertContent, AlertDescription, AlertIcon, AlertTitle } from '@/components/ui/alert';\nimport { Button } from '@/components/ui/button';\nimport { TriangleAlert, User, X } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface AvatarUploadProps {\n  maxSize?: number;\n  className?: string;\n  onFileChange?: (file: FileWithPreview | null) => void;\n  defaultAvatar?: string;\n}\n\nexport default function AvatarUpload({\n  maxSize = 2 * 1024 * 1024, // 2MB\n  className,\n  onFileChange,\n  defaultAvatar,\n}: AvatarUploadProps) {\n  const [\n    { files, isDragging, errors },\n    { removeFile, handleDragEnter, handleDragLeave, handleDragOver, handleDrop, openFileDialog, getInputProps },\n  ] = useFileUpload({\n    maxFiles: 1,\n    maxSize,\n    accept: 'image/*',\n    multiple: false,\n    onFilesChange: (files) => {\n      onFileChange?.(files[0] || null);\n    },\n  });\n\n  const currentFile = files[0];\n  const previewUrl = currentFile?.preview || defaultAvatar;\n\n  const handleRemove = () => {\n    if (currentFile) {\n      removeFile(currentFile.id);\n    }\n  };\n\n  return (\n    <div className={cn('flex flex-col items-center gap-4', className)}>\n      {/* Avatar Preview */}\n      <div className=\"relative\">\n        <div\n          className={cn(\n            'group/avatar relative h-24 w-24 cursor-pointer overflow-hidden rounded-full border border-dashed transition-colors',\n            isDragging ? 'border-primary bg-primary/5' : 'border-muted-foreground/25 hover:border-muted-foreground/20',\n            previewUrl && 'border-solid',\n          )}\n          onDragEnter={handleDragEnter}\n          onDragLeave={handleDragLeave}\n          onDragOver={handleDragOver}\n          onDrop={handleDrop}\n          onClick={openFileDialog}\n        >\n          <input {...getInputProps()} className=\"sr-only\" />\n\n          {previewUrl ? (\n            <img src={previewUrl} alt=\"Avatar\" className=\"h-full w-full object-cover\" />\n          ) : (\n            <div className=\"flex h-full w-full items-center justify-center\">\n              <User className=\"size-6 text-muted-foreground\" />\n            </div>\n          )}\n        </div>\n\n        {/* Remove Button - only show when file is uploaded */}\n        {currentFile && (\n          <Button\n            size=\"icon\"\n            variant=\"outline\"\n            onClick={handleRemove}\n            className=\"size-6 absolute end-0 top-0 rounded-full\"\n            aria-label=\"Remove avatar\"\n          >\n            <X className=\"size-3.5\" />\n          </Button>\n        )}\n      </div>\n\n      {/* Upload Instructions */}\n      <div className=\"text-center space-y-0.5\">\n        <p className=\"text-sm font-medium\">{currentFile ? 'Avatar uploaded' : 'Upload avatar'}</p>\n        <p className=\"text-xs text-muted-foreground\">PNG, JPG up to {formatBytes(maxSize)}</p>\n      </div>\n\n      {/* Error Messages */}\n      {errors.length > 0 && (\n        <Alert variant=\"destructive\" appearance=\"light\" className=\"mt-5\">\n          <AlertIcon>\n            <TriangleAlert />\n          </AlertIcon>\n          <AlertContent>\n            <AlertTitle>File upload error(s)</AlertTitle>\n            <AlertDescription>\n              {errors.map((error, index) => (\n                <p key={index} className=\"last:mb-0\">\n                  {error}\n                </p>\n              ))}\n            </AlertDescription>\n          </AlertContent>\n        </Alert>\n      )}\n    </div>\n  );\n}\n",
    "highlightedCode": "<pre class=\"shiki github-dark-default\" style=\"background-color:#0d1117;color:#e6edf3\" tabindex=\"0\"><code data-line-numbers=\"\"><span class=\"line\"><span style=\"color:#A5D6FF\">'use client'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { formatBytes, useFileUpload, </span><span style=\"color:#FF7B72\">type</span><span style=\"color:#E6EDF3\"> FileWithPreview } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/hooks/use-file-upload'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Alert, AlertContent, AlertDescription, AlertIcon, AlertTitle } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/alert'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Button } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/button'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { TriangleAlert, User, X } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'lucide-react'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { cn } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/lib/utils'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">interface</span><span style=\"color:#FFA657\"> AvatarUploadProps</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">  onFileChange</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">file</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileWithPreview</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#79C0FF\"> null</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#79C0FF\"> void</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  defaultAvatar</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">export</span><span style=\"color:#FF7B72\"> default</span><span style=\"color:#FF7B72\"> function</span><span style=\"color:#D2A8FF\"> AvatarUpload</span><span style=\"color:#FFA657\">({</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 2</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FFA657\">, </span><span style=\"color:#8B949E\">// 2MB</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  onFileChange,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  defaultAvatar,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">}</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> AvatarUploadProps) </span><span style=\"color:#E6EDF3\">{</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { </span><span style=\"color:#79C0FF\">files</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">isDragging</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">errors</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { </span><span style=\"color:#79C0FF\">removeFile</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">handleDragEnter</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">handleDragLeave</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">handleDragOver</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">handleDrop</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">openFileDialog</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">getInputProps</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  ] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useFileUpload</span><span style=\"color:#E6EDF3\">({</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    maxFiles: </span><span style=\"color:#79C0FF\">1</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    maxSize,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    accept: </span><span style=\"color:#A5D6FF\">'image/*'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    multiple: </span><span style=\"color:#79C0FF\">false</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    onFilesChange</span><span style=\"color:#E6EDF3\">: (</span><span style=\"color:#FFA657\">files</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      onFileChange</span><span style=\"color:#E6EDF3\">?.(files[</span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">||</span><span style=\"color:#79C0FF\"> null</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> currentFile</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> files[</span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">];</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> previewUrl</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> currentFile?.preview </span><span style=\"color:#FF7B72\">||</span><span style=\"color:#E6EDF3\"> defaultAvatar;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> handleRemove</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> () </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (currentFile) {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      removeFile</span><span style=\"color:#E6EDF3\">(currentFile.id);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  return</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'flex flex-col items-center gap-4'</span><span style=\"color:#E6EDF3\">, className)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Avatar Preview */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"relative\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">          className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#A5D6FF\">            'group/avatar relative h-24 w-24 cursor-pointer overflow-hidden rounded-full border border-dashed transition-colors'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            isDragging </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'border-primary bg-primary/5'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'border-muted-foreground/25 hover:border-muted-foreground/20'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            previewUrl </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#A5D6FF\"> 'border-solid'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">          onDragEnter</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragEnter</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">          onDragLeave</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragLeave</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">          onDragOver</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragOver</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">          onDrop</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDrop</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">          onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">openFileDialog</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">input</span><span style=\"color:#FF7B72\"> {...</span><span style=\"color:#D2A8FF\">getInputProps</span><span style=\"color:#E6EDF3\">()</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sr-only\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          {</span><span style=\"color:#E6EDF3\">previewUrl </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">img</span><span style=\"color:#79C0FF\"> src</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">previewUrl</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> alt</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"Avatar\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-full w-full object-cover\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          ) </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex h-full w-full items-center justify-center\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">User</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-6 text-muted-foreground\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        {</span><span style=\"color:#8B949E\">/* Remove Button - only show when file is uploaded */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        {</span><span style=\"color:#E6EDF3\">currentFile </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">Button</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">            size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"icon\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">            variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"outline\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">            onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleRemove</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">            className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-6 absolute end-0 top-0 rounded-full\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">            aria-label</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"Remove avatar\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">X</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-3.5\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Upload Instructions */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-center space-y-0.5\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-sm font-medium\"</span><span style=\"color:#E6EDF3\">></span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">currentFile </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'Avatar uploaded'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'Upload avatar'</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">&#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-muted-foreground\"</span><span style=\"color:#E6EDF3\">>PNG, JPG up to </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#E6EDF3\">(maxSize)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">&#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Error Messages */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"destructive\"</span><span style=\"color:#79C0FF\"> appearance</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"light\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mt-5\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">TriangleAlert</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">>File upload error(s)&#x3C;/</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">error</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#FFA657\">index</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">index</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"last:mb-0\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#E6EDF3\">error</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span></code></pre>"
  },
  "file-upload/card-upload": {
    "code": "'use client';\n\nimport { useEffect, useState } from 'react';\nimport {\n  formatBytes,\n  useFileUpload,\n  type FileMetadata,\n  type FileWithPreview,\n} from '@/hooks/use-file-upload';\nimport { Alert, AlertContent, AlertDescription, AlertIcon, AlertTitle } from '@/components/ui/alert';\nimport { Button } from '@/components/ui/button';\nimport { Tooltip, TooltipContent, TooltipTrigger } from '@/components/ui/tooltip';\nimport {\n  CloudUpload,\n  FileArchiveIcon,\n  FileSpreadsheetIcon,\n  FileTextIcon,\n  HeadphonesIcon,\n  ImageIcon,\n  RefreshCwIcon,\n  Trash2,\n  TriangleAlert,\n  Upload,\n  VideoIcon,\n  XIcon,\n} from 'lucide-react';\nimport { toAbsoluteUrl } from '@/lib/helpers';\nimport { cn } from '@/lib/utils';\n\n// Extend FileWithPreview to include upload status and progress\ninterface FileUploadItem extends FileWithPreview {\n  progress: number;\n  status: 'uploading' | 'completed' | 'error';\n  error?: string;\n}\n\ninterface CardUploadProps {\n  maxFiles?: number;\n  maxSize?: number;\n  accept?: string;\n  multiple?: boolean;\n  className?: string;\n  onFilesChange?: (files: FileUploadItem[]) => void;\n  simulateUpload?: boolean;\n}\n\nexport default function CardUpload({\n  maxFiles = 10,\n  maxSize = 50 * 1024 * 1024, // 50MB\n  accept = '*',\n  multiple = true,\n  className,\n  onFilesChange,\n  simulateUpload = true,\n}: CardUploadProps) {\n  // Create default files using FileMetadata type\n  const defaultFiles: FileMetadata[] = [\n    {\n      id: 'default-card-1',\n      name: 'intro.zip',\n      size: 252846,\n      type: 'application/zip',\n      url: toAbsoluteUrl('/media/files/intro.zip'),\n    },\n    {\n      id: 'default-card-2',\n      name: 'image-01.jpg',\n      size: 1536000,\n      type: 'image/jpeg',\n      url: 'https://picsum.photos/1000/800?grayscale&random=3',\n    },\n    {\n      id: 'default-card-3',\n      name: 'audio.mp3',\n      size: 1536000,\n      type: 'audio/mpeg',\n      url: toAbsoluteUrl('/media/files/audio.mp3'),\n    },\n  ];\n\n  // Convert default files to FileUploadItem format\n  const defaultUploadFiles: FileUploadItem[] = defaultFiles.map((file) => ({\n    id: file.id,\n    file: {\n      id: file.id,\n      name: file.name,\n      size: file.size,\n      type: file.type,\n    } as unknown as File,\n    preview: file.url,\n    progress: 100,\n    status: 'completed' as const,\n  }));\n\n  const [uploadFiles, setUploadFiles] = useState<FileUploadItem[]>(defaultUploadFiles);\n\n  const [\n    { isDragging, errors },\n    {\n      removeFile,\n      clearFiles,\n      handleDragEnter,\n      handleDragLeave,\n      handleDragOver,\n      handleDrop,\n      openFileDialog,\n      getInputProps,\n    },\n  ] = useFileUpload({\n    maxFiles,\n    maxSize,\n    accept,\n    multiple,\n    initialFiles: defaultFiles,\n    onFilesChange: (newFiles) => {\n      // Convert to upload items when files change, preserving existing status\n      const newUploadFiles = newFiles.map((file) => {\n        // Check if this file already exists in uploadFiles\n        const existingFile = uploadFiles.find((existing) => existing.id === file.id);\n\n        if (existingFile) {\n          // Preserve existing file status and progress\n          return {\n            ...existingFile,\n            ...file, // Update any changed properties from the file\n          };\n        } else {\n          // New file - set to uploading\n          return {\n            ...file,\n            progress: 0,\n            status: 'uploading' as const,\n          };\n        }\n      });\n\n      setUploadFiles(newUploadFiles);\n      onFilesChange?.(newUploadFiles);\n    },\n  });\n\n  // Simulate upload progress for new files\n  useEffect(() => {\n    if (!simulateUpload) return;\n\n    const uploadingFiles = uploadFiles.filter((file) => file.status === 'uploading');\n    if (uploadingFiles.length === 0) return;\n\n    const interval = setInterval(() => {\n      setUploadFiles((prev) =>\n        prev.map((file) => {\n          if (file.status !== 'uploading') return file;\n\n          const increment = Math.random() * 20 + 5; // Random increment between 5-25%\n          const newProgress = Math.min(file.progress + increment, 100);\n\n          if (newProgress >= 100) {\n            // Simulate occasional failures (10% chance)\n            const shouldFail = Math.random() < 0.1;\n            return {\n              ...file,\n              progress: 100,\n              status: shouldFail ? ('error' as const) : ('completed' as const),\n              error: shouldFail ? 'Upload failed. Please try again.' : undefined,\n            };\n          }\n\n          return { ...file, progress: newProgress };\n        }),\n      );\n    }, 500);\n\n    return () => clearInterval(interval);\n  }, [uploadFiles, simulateUpload]);\n\n  const removeUploadFile = (fileId: string) => {\n    const fileToRemove = uploadFiles.find((f) => f.id === fileId);\n    if (fileToRemove) {\n      removeFile(fileToRemove.id);\n    }\n  };\n\n  const retryUpload = (fileId: string) => {\n    setUploadFiles((prev) =>\n      prev.map((file) =>\n        file.id === fileId ? { ...file, progress: 0, status: 'uploading' as const, error: undefined } : file,\n      ),\n    );\n  };\n\n  const getFileIcon = (file: File | FileMetadata) => {\n    const type = file instanceof File ? file.type : file.type;\n    if (type.startsWith('image/')) return <ImageIcon className=\"size-6\" />;\n    if (type.startsWith('video/')) return <VideoIcon className=\"size-6\" />;\n    if (type.startsWith('audio/')) return <HeadphonesIcon className=\"size-6\" />;\n    if (type.includes('pdf')) return <FileTextIcon className=\"size-6\" />;\n    if (type.includes('word') || type.includes('doc')) return <FileTextIcon className=\"size-6\" />;\n    if (type.includes('excel') || type.includes('sheet')) return <FileSpreadsheetIcon className=\"size-6\" />;\n    if (type.includes('zip') || type.includes('rar')) return <FileArchiveIcon className=\"size-6\" />;\n    return <FileTextIcon className=\"size-6\" />;\n  };\n\n  return (\n    <div className={cn('w-full space-y-4', className)}>\n      {/* Upload Area */}\n      <div\n        className={cn(\n          'relative rounded-lg border border-dashed p-6 text-center transition-colors',\n          isDragging ? 'border-primary bg-primary/5' : 'border-muted-foreground/25 hover:border-muted-foreground/50',\n        )}\n        onDragEnter={handleDragEnter}\n        onDragLeave={handleDragLeave}\n        onDragOver={handleDragOver}\n        onDrop={handleDrop}\n      >\n        <input {...getInputProps()} className=\"sr-only\" />\n\n        <div className=\"flex flex-col items-center gap-4\">\n          <div\n            className={cn(\n              'flex h-12 w-12 items-center justify-center rounded-full bg-muted transition-colors',\n              isDragging ? 'border-primary bg-primary/10' : 'border-muted-foreground/25',\n            )}\n          >\n            <Upload className=\"h-5 w-5 text-muted-foreground\" />\n          </div>\n\n          <div className=\"space-y-2\">\n            <p className=\"text-sm font-medium\">\n              Drop files here or{' '}\n              <button\n                type=\"button\"\n                onClick={openFileDialog}\n                className=\"cursor-pointer text-primary underline-offset-4 hover:underline\"\n              >\n                browse files\n              </button>\n            </p>\n            <p className=\"text-xs text-muted-foreground\">\n              Maximum file size: {formatBytes(maxSize)} â€¢ Maximum files: {maxFiles}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Files Grid */}\n      {uploadFiles.length > 0 && (\n        <div className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-sm font-medium\">Files ({uploadFiles.length})</h3>\n            <div className=\"flex gap-2\">\n              <Button onClick={openFileDialog} variant=\"outline\" size=\"sm\">\n                <CloudUpload />\n                Add files\n              </Button>\n              <Button onClick={clearFiles} variant=\"outline\" size=\"sm\">\n                <Trash2 />\n                Remove all\n              </Button>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-3 lg:grid-cols-4\">\n            {uploadFiles.map((fileItem) => (\n              <div key={fileItem.id} className=\"relative group\">\n                {/* Remove button */}\n                <Button\n                  onClick={() => removeUploadFile(fileItem.id)}\n                  variant=\"outline\"\n                  size=\"icon\"\n                  className=\"absolute -end-2 -top-2 z-10 size-6 rounded-full opacity-0 transition-opacity group-hover:opacity-100\"\n                >\n                  <XIcon className=\"size-3\" />\n                </Button>\n\n                {/* Wrapper */}\n                <div className=\"relative overflow-hidden rounded-lg border bg-card transition-colors\">\n                  {/* Image preview or file icon area */}\n                  <div className=\"relative aspect-square bg-muted border-b border-border\">\n                    {fileItem.file.type.startsWith('image/') && fileItem.preview ? (\n                      <>\n                        {/* Image cover */}\n                        <img src={fileItem.preview} alt={fileItem.file.name} className=\"h-full w-full object-cover\" />\n                        {/* Progress overlay for uploading images */}\n                        {fileItem.status === 'uploading' && (\n                          <div className=\"absolute inset-0 flex items-center justify-center bg-black/50\">\n                            <div className=\"relative\">\n                              <svg className=\"size-12 -rotate-90\" viewBox=\"0 0 48 48\">\n                                <circle\n                                  cx=\"24\"\n                                  cy=\"24\"\n                                  r=\"20\"\n                                  fill=\"none\"\n                                  stroke=\"currentColor\"\n                                  strokeWidth=\"3\"\n                                  className=\"text-muted/60\"\n                                />\n                                <circle\n                                  cx=\"24\"\n                                  cy=\"24\"\n                                  r=\"20\"\n                                  fill=\"none\"\n                                  stroke=\"currentColor\"\n                                  strokeWidth=\"3\"\n                                  strokeDasharray={`${2 * Math.PI * 20}`}\n                                  strokeDashoffset={`${2 * Math.PI * 20 * (1 - fileItem.progress / 100)}`}\n                                  className=\"text-white transition-all duration-300\"\n                                  strokeLinecap=\"round\"\n                                />\n                              </svg>\n                            </div>\n                          </div>\n                        )}\n                      </>\n                    ) : (\n                      /* File icon area for non-images */\n                      <div className=\"flex h-full items-center justify-center text-muted-foreground/80\">\n                        {fileItem.status === 'uploading' ? (\n                          <div className=\"relative\">\n                            <svg className=\"size-12 -rotate-90\" viewBox=\"0 0 48 48\">\n                              <circle\n                                cx=\"24\"\n                                cy=\"24\"\n                                r=\"20\"\n                                fill=\"none\"\n                                stroke=\"currentColor\"\n                                strokeWidth=\"3\"\n                                className=\"text-muted-foreground/20\"\n                              />\n                              <circle\n                                cx=\"24\"\n                                cy=\"24\"\n                                r=\"20\"\n                                fill=\"none\"\n                                stroke=\"currentColor\"\n                                strokeWidth=\"3\"\n                                strokeDasharray={`${2 * Math.PI * 20}`}\n                                strokeDashoffset={`${2 * Math.PI * 20 * (1 - fileItem.progress / 100)}`}\n                                className=\"text-primary transition-all duration-300\"\n                                strokeLinecap=\"round\"\n                              />\n                            </svg>\n                            <div className=\"absolute inset-0 flex items-center justify-center\">\n                              {getFileIcon(fileItem.file)}\n                            </div>\n                          </div>\n                        ) : (\n                          <div className=\"text-4xl\">{getFileIcon(fileItem.file)}</div>\n                        )}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* File info footer */}\n                  <div className=\"p-3\">\n                    <div className=\"space-y-1\">\n                      <p className=\"truncate text-sm font-medium\">{fileItem.file.name}</p>\n                      <div className=\"relative flex items-center justify-between gap-2\">\n                        <span className=\"text-xs text-muted-foreground\">{formatBytes(fileItem.file.size)}</span>\n\n                        {fileItem.status === 'error' && fileItem.error && (\n                          <Tooltip>\n                            <TooltipTrigger asChild>\n                              <Button\n                                onClick={() => retryUpload(fileItem.id)}\n                                variant=\"ghost\"\n                                size=\"icon\"\n                                className=\"absolute end-0 -top-1.25 size-6 text-destructive hover:bg-destructive/10 hover:text-destructive\"\n                              >\n                                <RefreshCwIcon className=\"size-3 opacity-100\" />\n                              </Button>\n                            </TooltipTrigger>\n                            <TooltipContent>Upload failed. Retry</TooltipContent>\n                          </Tooltip>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Error Messages */}\n      {errors.length > 0 && (\n        <Alert variant=\"destructive\" appearance=\"light\" className=\"mt-5\">\n          <AlertIcon>\n            <TriangleAlert />\n          </AlertIcon>\n          <AlertContent>\n            <AlertTitle>File upload error(s)</AlertTitle>\n            <AlertDescription>\n              {errors.map((error, index) => (\n                <p key={index} className=\"last:mb-0\">\n                  {error}\n                </p>\n              ))}\n            </AlertDescription>\n          </AlertContent>\n        </Alert>\n      )}\n    </div>\n  );\n}\n",
    "highlightedCode": "<pre class=\"shiki github-dark-default\" style=\"background-color:#0d1117;color:#e6edf3\" tabindex=\"0\"><code data-line-numbers=\"\"><span class=\"line\"><span style=\"color:#A5D6FF\">'use client'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { useEffect, useState } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'react'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  formatBytes,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  useFileUpload,</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  type</span><span style=\"color:#E6EDF3\"> FileMetadata,</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  type</span><span style=\"color:#E6EDF3\"> FileWithPreview,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">} </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/hooks/use-file-upload'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Alert, AlertContent, AlertDescription, AlertIcon, AlertTitle } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/alert'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Button } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/button'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Tooltip, TooltipContent, TooltipTrigger } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/tooltip'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  CloudUpload,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  FileArchiveIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  FileSpreadsheetIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  FileTextIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  HeadphonesIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  ImageIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  RefreshCwIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  Trash2,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  TriangleAlert,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  Upload,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  VideoIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  XIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">} </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'lucide-react'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { toAbsoluteUrl } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/lib/helpers'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { cn } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/lib/utils'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">// Extend FileWithPreview to include upload status and progress</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">interface</span><span style=\"color:#FFA657\"> FileUploadItem</span><span style=\"color:#FF7B72\"> extends</span><span style=\"color:#79C0FF\"> FileWithPreview</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  progress</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  status</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#A5D6FF\"> 'uploading'</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#A5D6FF\"> 'completed'</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#A5D6FF\"> 'error'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  error</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">interface</span><span style=\"color:#FFA657\"> CardUploadProps</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxFiles</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  accept</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  multiple</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> boolean</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">  onFilesChange</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">files</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileUploadItem</span><span style=\"color:#E6EDF3\">[]) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#79C0FF\"> void</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  simulateUpload</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> boolean</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">export</span><span style=\"color:#FF7B72\"> default</span><span style=\"color:#FF7B72\"> function</span><span style=\"color:#D2A8FF\"> CardUpload</span><span style=\"color:#FFA657\">({</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxFiles </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 10</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 50</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FFA657\">, </span><span style=\"color:#8B949E\">// 50MB</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  accept </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\"> '*'</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  multiple </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> true</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  onFilesChange,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  simulateUpload </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> true</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">}</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> CardUploadProps) </span><span style=\"color:#E6EDF3\">{</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">  // Create default files using FileMetadata type</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> defaultFiles</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileMetadata</span><span style=\"color:#E6EDF3\">[] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#E6EDF3\"> [</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      id: </span><span style=\"color:#A5D6FF\">'default-card-1'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      name: </span><span style=\"color:#A5D6FF\">'intro.zip'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      size: </span><span style=\"color:#79C0FF\">252846</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      type: </span><span style=\"color:#A5D6FF\">'application/zip'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      url: </span><span style=\"color:#D2A8FF\">toAbsoluteUrl</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'/media/files/intro.zip'</span><span style=\"color:#E6EDF3\">),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      id: </span><span style=\"color:#A5D6FF\">'default-card-2'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      name: </span><span style=\"color:#A5D6FF\">'image-01.jpg'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      size: </span><span style=\"color:#79C0FF\">1536000</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      type: </span><span style=\"color:#A5D6FF\">'image/jpeg'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      url: </span><span style=\"color:#A5D6FF\">'https://picsum.photos/1000/800?grayscale&#x26;random=3'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      id: </span><span style=\"color:#A5D6FF\">'default-card-3'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      name: </span><span style=\"color:#A5D6FF\">'audio.mp3'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      size: </span><span style=\"color:#79C0FF\">1536000</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      type: </span><span style=\"color:#A5D6FF\">'audio/mpeg'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      url: </span><span style=\"color:#D2A8FF\">toAbsoluteUrl</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'/media/files/audio.mp3'</span><span style=\"color:#E6EDF3\">),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  ];</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">  // Convert default files to FileUploadItem format</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> defaultUploadFiles</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileUploadItem</span><span style=\"color:#E6EDF3\">[] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#E6EDF3\"> defaultFiles.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">file</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> ({</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    id: file.id,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    file: {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      id: file.id,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      name: file.name,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      size: file.size,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      type: file.type,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    } </span><span style=\"color:#FF7B72\">as</span><span style=\"color:#79C0FF\"> unknown</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    preview: file.url,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    progress: </span><span style=\"color:#79C0FF\">100</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    status: </span><span style=\"color:#A5D6FF\">'completed'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  }));</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#79C0FF\">uploadFiles</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">setUploadFiles</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useState</span><span style=\"color:#E6EDF3\">&#x3C;</span><span style=\"color:#FFA657\">FileUploadItem</span><span style=\"color:#E6EDF3\">[]>(defaultUploadFiles);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { </span><span style=\"color:#79C0FF\">isDragging</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">errors</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    {</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      removeFile</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      clearFiles</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDragEnter</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDragLeave</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDragOver</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDrop</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      openFileDialog</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      getInputProps</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  ] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useFileUpload</span><span style=\"color:#E6EDF3\">({</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    maxFiles,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    maxSize,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    accept,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    multiple,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    initialFiles: defaultFiles,</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    onFilesChange</span><span style=\"color:#E6EDF3\">: (</span><span style=\"color:#FFA657\">newFiles</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">      // Convert to upload items when files change, preserving existing status</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      const</span><span style=\"color:#79C0FF\"> newUploadFiles</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> newFiles.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">file</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">        // Check if this file already exists in uploadFiles</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        const</span><span style=\"color:#79C0FF\"> existingFile</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> uploadFiles.</span><span style=\"color:#D2A8FF\">find</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">existing</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> existing.id </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#E6EDF3\"> file.id);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        if</span><span style=\"color:#E6EDF3\"> (existingFile) {</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">          // Preserve existing file status and progress</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          return</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            ...</span><span style=\"color:#E6EDF3\">existingFile,</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            ...</span><span style=\"color:#E6EDF3\">file, </span><span style=\"color:#8B949E\">// Update any changed properties from the file</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          };</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        } </span><span style=\"color:#FF7B72\">else</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">          // New file - set to uploading</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          return</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            ...</span><span style=\"color:#E6EDF3\">file,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            progress: </span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            status: </span><span style=\"color:#A5D6FF\">'uploading'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          };</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        }</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      setUploadFiles</span><span style=\"color:#E6EDF3\">(newUploadFiles);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      onFilesChange</span><span style=\"color:#E6EDF3\">?.(newUploadFiles);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">  // Simulate upload progress for new files</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">  useEffect</span><span style=\"color:#E6EDF3\">(() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FF7B72\">!</span><span style=\"color:#E6EDF3\">simulateUpload) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> uploadingFiles</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> uploadFiles.</span><span style=\"color:#D2A8FF\">filter</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">file</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> file.status </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#A5D6FF\"> 'uploading'</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (uploadingFiles.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ===</span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> interval</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> setInterval</span><span style=\"color:#E6EDF3\">(() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      setUploadFiles</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        prev.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">file</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          if</span><span style=\"color:#E6EDF3\"> (file.status </span><span style=\"color:#FF7B72\">!==</span><span style=\"color:#A5D6FF\"> 'uploading'</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> file;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          const</span><span style=\"color:#79C0FF\"> increment</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">random</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">*</span><span style=\"color:#79C0FF\"> 20</span><span style=\"color:#FF7B72\"> +</span><span style=\"color:#79C0FF\"> 5</span><span style=\"color:#E6EDF3\">; </span><span style=\"color:#8B949E\">// Random increment between 5-25%</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          const</span><span style=\"color:#79C0FF\"> newProgress</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">min</span><span style=\"color:#E6EDF3\">(file.progress </span><span style=\"color:#FF7B72\">+</span><span style=\"color:#E6EDF3\"> increment, </span><span style=\"color:#79C0FF\">100</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          if</span><span style=\"color:#E6EDF3\"> (newProgress </span><span style=\"color:#FF7B72\">>=</span><span style=\"color:#79C0FF\"> 100</span><span style=\"color:#E6EDF3\">) {</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">            // Simulate occasional failures (10% chance)</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            const</span><span style=\"color:#79C0FF\"> shouldFail</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">random</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">&#x3C;</span><span style=\"color:#79C0FF\"> 0.1</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            return</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              ...</span><span style=\"color:#E6EDF3\">file,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              progress: </span><span style=\"color:#79C0FF\">100</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              status: shouldFail </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#A5D6FF\">'error'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#A5D6FF\">'completed'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\">),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              error: shouldFail </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'Upload failed. Please try again.'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#79C0FF\"> undefined</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            };</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          return</span><span style=\"color:#E6EDF3\"> { </span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">file, progress: newProgress };</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        }),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      );</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    }, </span><span style=\"color:#79C0FF\">500</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    return</span><span style=\"color:#E6EDF3\"> () </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> clearInterval</span><span style=\"color:#E6EDF3\">(interval);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  }, [uploadFiles, simulateUpload]);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> removeUploadFile</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">fileId</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> fileToRemove</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> uploadFiles.</span><span style=\"color:#D2A8FF\">find</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">f</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> f.id </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#E6EDF3\"> fileId);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (fileToRemove) {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      removeFile</span><span style=\"color:#E6EDF3\">(fileToRemove.id);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> retryUpload</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">fileId</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    setUploadFiles</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      prev.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">file</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        file.id </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#E6EDF3\"> fileId </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> { </span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">file, progress: </span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">, status: </span><span style=\"color:#A5D6FF\">'uploading'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\">, error: </span><span style=\"color:#79C0FF\">undefined</span><span style=\"color:#E6EDF3\"> } </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> file,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      ),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    );</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> getFileIcon</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">file</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#FFA657\"> FileMetadata</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> type</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> file </span><span style=\"color:#FF7B72\">instanceof</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#FF7B72\"> ?</span><span style=\"color:#E6EDF3\"> file.type </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> file.type;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'image/'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">ImageIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-6\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'video/'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">VideoIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-6\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'audio/'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">HeadphonesIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-6\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'pdf'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">FileTextIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-6\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'word'</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">||</span><span style=\"color:#E6EDF3\"> type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'doc'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">FileTextIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-6\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'excel'</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">||</span><span style=\"color:#E6EDF3\"> type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'sheet'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">FileSpreadsheetIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-6\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'zip'</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">||</span><span style=\"color:#E6EDF3\"> type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'rar'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">FileArchiveIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-6\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">FileTextIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-6\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  return</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'w-full space-y-4'</span><span style=\"color:#E6EDF3\">, className)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Upload Area */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;</span><span style=\"color:#7EE787\">div</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#A5D6FF\">          'relative rounded-lg border border-dashed p-6 text-center transition-colors'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          isDragging </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'border-primary bg-primary/5'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'border-muted-foreground/25 hover:border-muted-foreground/50'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragEnter</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragEnter</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragLeave</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragLeave</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragOver</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragOver</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDrop</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDrop</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">input</span><span style=\"color:#FF7B72\"> {...</span><span style=\"color:#D2A8FF\">getInputProps</span><span style=\"color:#E6EDF3\">()</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sr-only\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex flex-col items-center gap-4\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">            className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#A5D6FF\">              'flex h-12 w-12 items-center justify-center rounded-full bg-muted transition-colors'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              isDragging </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'border-primary bg-primary/10'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'border-muted-foreground/25'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">Upload</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-5 w-5 text-muted-foreground\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"space-y-2\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-sm font-medium\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              Drop files here or</span><span style=\"color:#FF7B72\">{</span><span style=\"color:#A5D6FF\">' '</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">button</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                type</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"button\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">openFileDialog</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"cursor-pointer text-primary underline-offset-4 hover:underline\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                browse files</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-muted-foreground\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              Maximum file size: </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#E6EDF3\">(maxSize)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\"> â€¢ Maximum files: </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">maxFiles</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Files Grid */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">uploadFiles.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"space-y-4\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center justify-between\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">h3</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-sm font-medium\"</span><span style=\"color:#E6EDF3\">>Files (</span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">uploadFiles.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">)&#x3C;/</span><span style=\"color:#7EE787\">h3</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex gap-2\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">openFileDialog</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"outline\"</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">CloudUpload</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                Add files</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">clearFiles</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"outline\"</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">Trash2</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                Remove all</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"grid grid-cols-1 gap-4 sm:grid-cols-3 lg:grid-cols-4\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            {</span><span style=\"color:#E6EDF3\">uploadFiles.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">fileItem</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">fileItem.id</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"relative group\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                {</span><span style=\"color:#8B949E\">/* Remove button */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">Button</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> removeUploadFile</span><span style=\"color:#E6EDF3\">(fileItem.id)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"outline\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"icon\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"absolute -end-2 -top-2 z-10 size-6 rounded-full opacity-0 transition-opacity group-hover:opacity-100\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">XIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-3\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                {</span><span style=\"color:#8B949E\">/* Wrapper */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"relative overflow-hidden rounded-lg border bg-card transition-colors\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#8B949E\">/* Image preview or file icon area */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"relative aspect-square bg-muted border-b border-border\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                    {</span><span style=\"color:#E6EDF3\">fileItem.file.type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'image/'</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#E6EDF3\"> fileItem.preview </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                        {</span><span style=\"color:#8B949E\">/* Image cover */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        &#x3C;</span><span style=\"color:#7EE787\">img</span><span style=\"color:#79C0FF\"> src</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">fileItem.preview</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> alt</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">fileItem.file.name</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-full w-full object-cover\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                        {</span><span style=\"color:#8B949E\">/* Progress overlay for uploading images */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                        {</span><span style=\"color:#E6EDF3\">fileItem.status </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#A5D6FF\"> 'uploading'</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"absolute inset-0 flex items-center justify-center bg-black/50\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"relative\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                              &#x3C;</span><span style=\"color:#7EE787\">svg</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-12 -rotate-90\"</span><span style=\"color:#79C0FF\"> viewBox</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"0 0 48 48\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                                &#x3C;</span><span style=\"color:#7EE787\">circle</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  cx</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"24\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  cy</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"24\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  r</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"20\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  fill</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"none\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  stroke</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"currentColor\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  strokeWidth</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"3\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-muted/60\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                                /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                                &#x3C;</span><span style=\"color:#7EE787\">circle</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  cx</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"24\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  cy</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"24\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  r</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"20\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  fill</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"none\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  stroke</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"currentColor\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  strokeWidth</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"3\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  strokeDasharray</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#A5D6FF\">`${</span><span style=\"color:#79C0FF\">2</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#E6EDF3\"> Math</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#79C0FF\">PI</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 20</span><span style=\"color:#A5D6FF\">}`</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  strokeDashoffset</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#A5D6FF\">`${</span><span style=\"color:#79C0FF\">2</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#E6EDF3\"> Math</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#79C0FF\">PI</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 20</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#A5D6FF\"> (</span><span style=\"color:#79C0FF\">1</span><span style=\"color:#FF7B72\"> -</span><span style=\"color:#E6EDF3\"> fileItem</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#E6EDF3\">progress</span><span style=\"color:#FF7B72\"> /</span><span style=\"color:#79C0FF\"> 100</span><span style=\"color:#A5D6FF\">)</span><span style=\"color:#A5D6FF\">}`</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-white transition-all duration-300\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  strokeLinecap</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"round\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                                /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                              &#x3C;/</span><span style=\"color:#7EE787\">svg</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;/></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    ) </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">                      /* File icon area for non-images */</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex h-full items-center justify-center text-muted-foreground/80\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                        {</span><span style=\"color:#E6EDF3\">fileItem.status </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#A5D6FF\"> 'uploading'</span><span style=\"color:#FF7B72\"> ?</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"relative\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;</span><span style=\"color:#7EE787\">svg</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-12 -rotate-90\"</span><span style=\"color:#79C0FF\"> viewBox</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"0 0 48 48\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                              &#x3C;</span><span style=\"color:#7EE787\">circle</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                cx</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"24\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                cy</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"24\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                r</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"20\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                fill</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"none\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                stroke</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"currentColor\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                strokeWidth</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"3\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-muted-foreground/20\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                              /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                              &#x3C;</span><span style=\"color:#7EE787\">circle</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                cx</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"24\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                cy</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"24\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                r</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"20\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                fill</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"none\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                stroke</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"currentColor\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                strokeWidth</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"3\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                strokeDasharray</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#A5D6FF\">`${</span><span style=\"color:#79C0FF\">2</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#E6EDF3\"> Math</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#79C0FF\">PI</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 20</span><span style=\"color:#A5D6FF\">}`</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                strokeDashoffset</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#A5D6FF\">`${</span><span style=\"color:#79C0FF\">2</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#E6EDF3\"> Math</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#79C0FF\">PI</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 20</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#A5D6FF\"> (</span><span style=\"color:#79C0FF\">1</span><span style=\"color:#FF7B72\"> -</span><span style=\"color:#E6EDF3\"> fileItem</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#E6EDF3\">progress</span><span style=\"color:#FF7B72\"> /</span><span style=\"color:#79C0FF\"> 100</span><span style=\"color:#A5D6FF\">)</span><span style=\"color:#A5D6FF\">}`</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-primary transition-all duration-300\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                strokeLinecap</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"round\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                              /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;/</span><span style=\"color:#7EE787\">svg</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"absolute inset-0 flex items-center justify-center\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                              {</span><span style=\"color:#D2A8FF\">getFileIcon</span><span style=\"color:#E6EDF3\">(fileItem.file)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        ) </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-4xl\"</span><span style=\"color:#E6EDF3\">></span><span style=\"color:#FF7B72\">{</span><span style=\"color:#D2A8FF\">getFileIcon</span><span style=\"color:#E6EDF3\">(fileItem.file)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">&#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#8B949E\">/* File info footer */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"p-3\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"space-y-1\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"truncate text-sm font-medium\"</span><span style=\"color:#E6EDF3\">></span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">fileItem.file.name</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">&#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"relative flex items-center justify-between gap-2\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        &#x3C;</span><span style=\"color:#7EE787\">span</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-muted-foreground\"</span><span style=\"color:#E6EDF3\">></span><span style=\"color:#FF7B72\">{</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#E6EDF3\">(fileItem.file.size)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">&#x3C;/</span><span style=\"color:#7EE787\">span</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                        {</span><span style=\"color:#E6EDF3\">fileItem.status </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#A5D6FF\"> 'error'</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> fileItem.error </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          &#x3C;</span><span style=\"color:#7EE787\">Tooltip</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;</span><span style=\"color:#7EE787\">TooltipTrigger</span><span style=\"color:#79C0FF\"> asChild</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                              &#x3C;</span><span style=\"color:#7EE787\">Button</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> retryUpload</span><span style=\"color:#E6EDF3\">(fileItem.id)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"ghost\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"icon\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"absolute end-0 -top-1.25 size-6 text-destructive hover:bg-destructive/10 hover:text-destructive\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                              ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                                &#x3C;</span><span style=\"color:#7EE787\">RefreshCwIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-3 opacity-100\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                              &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;/</span><span style=\"color:#7EE787\">TooltipTrigger</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;</span><span style=\"color:#7EE787\">TooltipContent</span><span style=\"color:#E6EDF3\">>Upload failed. Retry&#x3C;/</span><span style=\"color:#7EE787\">TooltipContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          &#x3C;/</span><span style=\"color:#7EE787\">Tooltip</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Error Messages */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"destructive\"</span><span style=\"color:#79C0FF\"> appearance</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"light\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mt-5\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">TriangleAlert</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">>File upload error(s)&#x3C;/</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">error</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#FFA657\">index</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">index</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"last:mb-0\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#E6EDF3\">error</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span></code></pre>"
  },
  "file-upload/compact-upload": {
    "code": "'use client';\n\nimport {\n  formatBytes,\n  useFileUpload,\n  type FileMetadata,\n  type FileWithPreview,\n} from '@/hooks/use-file-upload';\nimport { Alert, AlertContent, AlertDescription, AlertIcon, AlertTitle } from '@/components/ui/alert';\nimport { Button } from '@/components/ui/button';\nimport { FileIcon, PlusIcon, TriangleAlert, XIcon } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface FileUploadCompactProps {\n  maxFiles?: number;\n  maxSize?: number;\n  accept?: string;\n  multiple?: boolean;\n  className?: string;\n  onFilesChange?: (files: FileWithPreview[]) => void;\n}\n\nexport default function FileUploadCompact({\n  maxFiles = 3,\n  maxSize = 2 * 1024 * 1024, // 2MB\n  accept = 'image/*',\n  multiple = true,\n  className,\n  onFilesChange,\n}: FileUploadCompactProps) {\n  const [\n    { files, isDragging, errors },\n    { removeFile, handleDragEnter, handleDragLeave, handleDragOver, handleDrop, openFileDialog, getInputProps },\n  ] = useFileUpload({\n    maxFiles,\n    maxSize,\n    accept,\n    multiple,\n    onFilesChange,\n  });\n\n  const isImage = (file: File | FileMetadata) => {\n    const type = file instanceof File ? file.type : file.type;\n    return type.startsWith('image/');\n  };\n\n  return (\n    <div className={cn('w-full max-w-lg', className)}>\n      {/* Compact Upload Area */}\n      <div\n        className={cn(\n          'flex items-center gap-3 rounded-lg border border-border border-dashed p-4 transition-colors',\n          isDragging ? 'border-primary bg-primary/5' : 'border-muted-foreground/25 hover:border-muted-foreground/50',\n        )}\n        onDragEnter={handleDragEnter}\n        onDragLeave={handleDragLeave}\n        onDragOver={handleDragOver}\n        onDrop={handleDrop}\n      >\n        <input {...getInputProps()} className=\"sr-only\" />\n\n        {/* Upload Button */}\n        <Button onClick={openFileDialog} size=\"sm\" className={cn(isDragging && 'animate-bounce')}>\n          <PlusIcon className=\"h-4 w-4\" />\n          Add files\n        </Button>\n\n        {/* File Previews */}\n        <div className=\"flex flex-1 items-center gap-2\">\n          {files.length === 0 ? (\n            <p className=\"text-sm text-muted-foreground\">Drop files here or click to browse (max {maxFiles} files)</p>\n          ) : (\n            files.map((fileItem) => (\n              <div key={fileItem.id} className=\"group shrink-0\">\n                {/* File Preview */}\n                <div className=\"relative\">\n                  {isImage(fileItem.file) && fileItem.preview ? (\n                    <img\n                      src={fileItem.preview}\n                      alt={fileItem.file.name}\n                      className=\"h-12 w-12 rounded-lg border object-cover\"\n                      title={`${fileItem.file.name} (${formatBytes(fileItem.file.size)})`}\n                    />\n                  ) : (\n                    <div\n                      className=\"flex h-12 w-12 items-center justify-center rounded-lg border bg-muted\"\n                      title={`${fileItem.file.name} (${formatBytes(fileItem.file.size)})`}\n                    >\n                      <FileIcon className=\"h-5 w-5 text-muted-foreground\" />\n                    </div>\n                  )}\n\n                  {/* Remove Button */}\n                  <Button\n                    onClick={() => removeFile(fileItem.id)}\n                    variant=\"destructive\"\n                    size=\"icon\"\n                    className=\"size-5 border-2 border-background absolute -right-2 -top-2 rounded-full opacity-0 transition-opacity group-hover:opacity-100\"\n                  >\n                    <XIcon className=\"size-3\" />\n                  </Button>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n\n        {/* File Count */}\n        {files.length > 0 && (\n          <div className=\"shrink-0 text-xs text-muted-foreground\">\n            {files.length}/{maxFiles}\n          </div>\n        )}\n      </div>\n\n      {/* Error Messages */}\n      {errors.length > 0 && (\n        <Alert variant=\"destructive\" appearance=\"light\" className=\"mt-5\">\n          <AlertIcon>\n            <TriangleAlert />\n          </AlertIcon>\n          <AlertContent>\n            <AlertTitle>File upload error(s)</AlertTitle>\n            <AlertDescription>\n              {errors.map((error, index) => (\n                <p key={index} className=\"last:mb-0\">\n                  {error}\n                </p>\n              ))}\n            </AlertDescription>\n          </AlertContent>\n        </Alert>\n      )}\n    </div>\n  );\n}\n",
    "highlightedCode": "<pre class=\"shiki github-dark-default\" style=\"background-color:#0d1117;color:#e6edf3\" tabindex=\"0\"><code data-line-numbers=\"\"><span class=\"line\"><span style=\"color:#A5D6FF\">'use client'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  formatBytes,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  useFileUpload,</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  type</span><span style=\"color:#E6EDF3\"> FileMetadata,</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  type</span><span style=\"color:#E6EDF3\"> FileWithPreview,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">} </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/hooks/use-file-upload'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Alert, AlertContent, AlertDescription, AlertIcon, AlertTitle } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/alert'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Button } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/button'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { FileIcon, PlusIcon, TriangleAlert, XIcon } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'lucide-react'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { cn } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/lib/utils'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">interface</span><span style=\"color:#FFA657\"> FileUploadCompactProps</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxFiles</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  accept</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  multiple</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> boolean</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">  onFilesChange</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">files</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileWithPreview</span><span style=\"color:#E6EDF3\">[]) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#79C0FF\"> void</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">export</span><span style=\"color:#FF7B72\"> default</span><span style=\"color:#FF7B72\"> function</span><span style=\"color:#D2A8FF\"> FileUploadCompact</span><span style=\"color:#FFA657\">({</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxFiles </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 3</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 2</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FFA657\">, </span><span style=\"color:#8B949E\">// 2MB</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  accept </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\"> 'image/*'</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  multiple </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> true</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  onFilesChange,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">}</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileUploadCompactProps) </span><span style=\"color:#E6EDF3\">{</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { </span><span style=\"color:#79C0FF\">files</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">isDragging</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">errors</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { </span><span style=\"color:#79C0FF\">removeFile</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">handleDragEnter</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">handleDragLeave</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">handleDragOver</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">handleDrop</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">openFileDialog</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">getInputProps</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  ] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useFileUpload</span><span style=\"color:#E6EDF3\">({</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    maxFiles,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    maxSize,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    accept,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    multiple,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    onFilesChange,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> isImage</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">file</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#FFA657\"> FileMetadata</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> type</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> file </span><span style=\"color:#FF7B72\">instanceof</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#FF7B72\"> ?</span><span style=\"color:#E6EDF3\"> file.type </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> file.type;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    return</span><span style=\"color:#E6EDF3\"> type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'image/'</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  return</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'w-full max-w-lg'</span><span style=\"color:#E6EDF3\">, className)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Compact Upload Area */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;</span><span style=\"color:#7EE787\">div</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#A5D6FF\">          'flex items-center gap-3 rounded-lg border border-border border-dashed p-4 transition-colors'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          isDragging </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'border-primary bg-primary/5'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'border-muted-foreground/25 hover:border-muted-foreground/50'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragEnter</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragEnter</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragLeave</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragLeave</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragOver</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragOver</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDrop</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDrop</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">input</span><span style=\"color:#FF7B72\"> {...</span><span style=\"color:#D2A8FF\">getInputProps</span><span style=\"color:#E6EDF3\">()</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sr-only\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        {</span><span style=\"color:#8B949E\">/* Upload Button */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">openFileDialog</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(isDragging </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#A5D6FF\"> 'animate-bounce'</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">PlusIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-4 w-4\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          Add files</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        {</span><span style=\"color:#8B949E\">/* File Previews */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex flex-1 items-center gap-2\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          {</span><span style=\"color:#E6EDF3\">files.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ===</span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> ?</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-sm text-muted-foreground\"</span><span style=\"color:#E6EDF3\">>Drop files here or click to browse (max </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">maxFiles</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\"> files)&#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          ) </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            files.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">fileItem</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">fileItem.id</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"group shrink-0\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                {</span><span style=\"color:#8B949E\">/* File Preview */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"relative\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#D2A8FF\">isImage</span><span style=\"color:#E6EDF3\">(fileItem.file) </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#E6EDF3\"> fileItem.preview </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">img</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                      src</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">fileItem.preview</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                      alt</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">fileItem.file.name</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                      className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-12 w-12 rounded-lg border object-cover\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                      title</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#A5D6FF\">`${</span><span style=\"color:#E6EDF3\">fileItem</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#E6EDF3\">file</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#E6EDF3\">name</span><span style=\"color:#A5D6FF\">} (${</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#A5D6FF\">(</span><span style=\"color:#E6EDF3\">fileItem</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#E6EDF3\">file</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#E6EDF3\">size</span><span style=\"color:#A5D6FF\">)</span><span style=\"color:#A5D6FF\">})`</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  ) </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">div</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                      className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex h-12 w-12 items-center justify-center rounded-lg border bg-muted\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                      title</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#A5D6FF\">`${</span><span style=\"color:#E6EDF3\">fileItem</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#E6EDF3\">file</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#E6EDF3\">name</span><span style=\"color:#A5D6FF\">} (${</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#A5D6FF\">(</span><span style=\"color:#E6EDF3\">fileItem</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#E6EDF3\">file</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#E6EDF3\">size</span><span style=\"color:#A5D6FF\">)</span><span style=\"color:#A5D6FF\">})`</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">FileIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-5 w-5 text-muted-foreground\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#8B949E\">/* Remove Button */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">Button</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                    onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> removeFile</span><span style=\"color:#E6EDF3\">(fileItem.id)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                    variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"destructive\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                    size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"icon\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                    className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-5 border-2 border-background absolute -right-2 -top-2 rounded-full opacity-0 transition-opacity group-hover:opacity-100\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">XIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-3\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            ))</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        {</span><span style=\"color:#8B949E\">/* File Count */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        {</span><span style=\"color:#E6EDF3\">files.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"shrink-0 text-xs text-muted-foreground\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            {</span><span style=\"color:#E6EDF3\">files.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">/</span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">maxFiles</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Error Messages */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"destructive\"</span><span style=\"color:#79C0FF\"> appearance</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"light\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mt-5\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">TriangleAlert</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">>File upload error(s)&#x3C;/</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">error</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#FFA657\">index</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">index</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"last:mb-0\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#E6EDF3\">error</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span></code></pre>"
  },
  "file-upload/cover-upload": {
    "code": "'use client';\n\nimport { useState } from 'react';\nimport { useFileUpload, type FileMetadata, type FileWithPreview } from '@/hooks/use-file-upload';\nimport { Alert, AlertContent, AlertDescription, AlertIcon, AlertTitle } from '@/components/ui/alert';\nimport { Button } from '@/components/ui/button';\nimport { CloudUpload, ImageIcon, TriangleAlert, Upload, XIcon } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface CoverUploadProps {\n  maxSize?: number;\n  accept?: string;\n  className?: string;\n  onImageChange?: (file: File | null) => void;\n}\n\nexport default function CoverUpload({\n  maxSize = 5 * 1024 * 1024, // 5MB default\n  accept = 'image/*',\n  className,\n  onImageChange,\n}: CoverUploadProps) {\n  // Default cover image\n  const defaultCoverImage: FileMetadata = {\n    id: 'default-cover',\n    name: 'cover-image.jpg',\n    size: 2048000,\n    type: 'image/jpeg',\n    url: 'https://picsum.photos/1000/800?grayscale&random=3',\n  };\n\n  const [coverImage, setCoverImage] = useState<FileWithPreview | null>({\n    id: defaultCoverImage.id,\n    file: defaultCoverImage,\n    preview: defaultCoverImage.url,\n  });\n\n  const [imageLoading, setImageLoading] = useState(true);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadError, setUploadError] = useState<string | null>(null);\n\n  const [\n    { isDragging, errors },\n    { handleDragEnter, handleDragLeave, handleDragOver, handleDrop, openFileDialog, getInputProps },\n  ] = useFileUpload({\n    maxFiles: 1,\n    maxSize,\n    accept,\n    multiple: false,\n    onFilesChange: (files) => {\n      if (files.length > 0) {\n        setImageLoading(true);\n        setIsUploading(true);\n        setUploadProgress(0);\n        setUploadError(null);\n        setCoverImage(files[0]);\n        onImageChange?.(files[0].file as File);\n\n        // Simulate upload progress\n        simulateUpload();\n      }\n    },\n  });\n\n  // Simulate upload progress\n  const simulateUpload = () => {\n    const interval = setInterval(() => {\n      setUploadProgress((prev) => {\n        if (prev >= 100) {\n          clearInterval(interval);\n          setIsUploading(false);\n\n          // Simulate occasional upload failure (10% chance)\n          if (Math.random() < 0.1) {\n            setUploadError('Upload failed. Please try again.');\n            return 0;\n          }\n\n          return 100;\n        }\n\n        // Random progress increment between 5-15%\n        const increment = Math.random() * 10 + 5;\n        return Math.min(prev + increment, 100);\n      });\n    }, 200);\n  };\n\n  const removeCoverImage = () => {\n    setCoverImage(null);\n    setImageLoading(false);\n    setIsUploading(false);\n    setUploadProgress(0);\n    setUploadError(null);\n    onImageChange?.(null);\n  };\n\n  const retryUpload = () => {\n    if (coverImage) {\n      setUploadError(null);\n      setIsUploading(true);\n      setUploadProgress(0);\n      simulateUpload();\n    }\n  };\n\n  const hasImage = coverImage && coverImage.preview;\n\n  return (\n    <div className={cn('w-full space-y-4', className)}>\n      {/* Cover Upload Area */}\n      <div\n        className={cn(\n          'group relative overflow-hidden rounded-xl transition-all duration-200 border border-border',\n          isDragging\n            ? 'border-dashed border-primary bg-primary/5'\n            : hasImage\n              ? 'border-border bg-background hover:border-primary/50'\n              : 'border-dashed border-muted-foreground/25 bg-muted/30 hover:border-primary hover:bg-primary/5',\n        )}\n        onDragEnter={handleDragEnter}\n        onDragLeave={handleDragLeave}\n        onDragOver={handleDragOver}\n        onDrop={handleDrop}\n      >\n        {/* Hidden file input */}\n        <input {...getInputProps()} className=\"sr-only\" />\n\n        {hasImage ? (\n          <>\n            {/* Cover Image Display */}\n            <div className=\"relative aspect-[21/9] w-full\">\n              {/* Loading placeholder */}\n              {imageLoading && (\n                <div className=\"absolute inset-0 animate-pulse bg-muted flex items-center justify-center\">\n                  <div className=\"flex flex-col items-center gap-2 text-muted-foreground\">\n                    <ImageIcon className=\"size-5\" />\n                    <span className=\"text-sm\">Loading image...</span>\n                  </div>\n                </div>\n              )}\n\n              {/* Actual image */}\n              <img\n                src={coverImage.preview}\n                alt=\"Cover\"\n                className={cn(\n                  'h-full w-full object-cover transition-opacity duration-300',\n                  imageLoading ? 'opacity-0' : 'opacity-100',\n                )}\n                onLoad={() => setImageLoading(false)}\n                onError={() => setImageLoading(false)}\n              />\n\n              {/* Overlay on hover */}\n              <div className=\"absolute inset-0 bg-black/0 transition-all duration-200 group-hover:bg-black/40\" />\n\n              {/* Action buttons overlay */}\n              <div className=\"absolute inset-0 flex items-center justify-center opacity-0 transition-opacity duration-200 group-hover:opacity-100\">\n                <div className=\"flex gap-2\">\n                  <Button\n                    onClick={openFileDialog}\n                    variant=\"secondary\"\n                    size=\"sm\"\n                    className=\"bg-white/90 text-gray-900 hover:bg-white\"\n                  >\n                    <Upload />\n                    Change Cover\n                  </Button>\n                  <Button onClick={removeCoverImage} variant=\"destructive\" size=\"sm\">\n                    <XIcon />\n                    Remove\n                  </Button>\n                </div>\n              </div>\n\n              {/* Upload progress */}\n              {isUploading && (\n                <div className=\"absolute inset-0 flex items-center justify-center bg-black/40\">\n                  <div className=\"relative\">\n                    <svg className=\"size-16 -rotate-90\" viewBox=\"0 0 64 64\">\n                      <circle\n                        cx=\"32\"\n                        cy=\"32\"\n                        r=\"28\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        strokeWidth=\"4\"\n                        className=\"text-white/20\"\n                      />\n                      <circle\n                        cx=\"32\"\n                        cy=\"32\"\n                        r=\"28\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        strokeWidth=\"4\"\n                        strokeDasharray={`${2 * Math.PI * 28}`}\n                        strokeDashoffset={`${2 * Math.PI * 28 * (1 - uploadProgress / 100)}`}\n                        className=\"text-white transition-all duration-300\"\n                        strokeLinecap=\"round\"\n                      />\n                    </svg>\n                    <div className=\"absolute inset-0 flex items-center justify-center\">\n                      <span className=\"text-sm font-medium text-white\">{Math.round(uploadProgress)}%</span>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </>\n        ) : (\n          /* Empty State */\n          <div\n            className=\"flex aspect-[21/9] w-full cursor-pointer flex-col items-center justify-center gap-4 p-8 text-center\"\n            onClick={openFileDialog}\n          >\n            <div className=\"rounded-full bg-primary/10 p-4\">\n              <CloudUpload className=\"size-8 text-primary\" />\n            </div>\n\n            <div className=\"space-y-2\">\n              <h3 className=\"text-lg font-semibold\">Upload Cover Image</h3>\n              <p className=\"text-sm text-muted-foreground\">Drag and drop an image here, or click to browse</p>\n              <p className=\"text-xs text-muted-foreground\">Recommended size: 1200x514px â€¢ Max size: 5MB</p>\n            </div>\n\n            <Button variant=\"outline\" size=\"sm\">\n              <ImageIcon />\n              Browse Files\n            </Button>\n          </div>\n        )}\n      </div>\n\n      {/* Error Messages */}\n      {errors.length > 0 && (\n        <Alert variant=\"destructive\" appearance=\"light\" className=\"mt-5\">\n          <AlertIcon>\n            <TriangleAlert />\n          </AlertIcon>\n          <AlertContent>\n            <AlertTitle>File upload error(s)</AlertTitle>\n            <AlertDescription>\n              {errors.map((error, index) => (\n                <p key={index} className=\"last:mb-0\">\n                  {error}\n                </p>\n              ))}\n            </AlertDescription>\n          </AlertContent>\n        </Alert>\n      )}\n\n      {/* Upload Error */}\n      {uploadError && (\n        <Alert variant=\"destructive\" appearance=\"light\" className=\"mt-5\">\n          <AlertIcon>\n            <TriangleAlert />\n          </AlertIcon>\n          <AlertContent>\n            <AlertTitle>Upload failed</AlertTitle>\n            <AlertDescription>\n              <p>{uploadError}</p>\n              <Button onClick={retryUpload} variant=\"primary\" size=\"sm\">\n                Retry Upload\n              </Button>\n            </AlertDescription>\n          </AlertContent>\n        </Alert>\n      )}\n\n      {/* Upload Tips */}\n      <div className=\"rounded-lg bg-muted/50 p-4\">\n        <h4 className=\"mb-2 text-sm font-medium\">Cover Image Guidelines</h4>\n        <ul className=\"space-y-1 text-xs text-muted-foreground\">\n          <li>â€¢ Use high-quality images with good lighting and composition</li>\n          <li>â€¢ Recommended aspect ratio: 21:9 (ultrawide) for best results</li>\n          <li>â€¢ Avoid images with important content near the edges</li>\n          <li>â€¢ Supported formats: JPG, PNG, WebP</li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n",
    "highlightedCode": "<pre class=\"shiki github-dark-default\" style=\"background-color:#0d1117;color:#e6edf3\" tabindex=\"0\"><code data-line-numbers=\"\"><span class=\"line\"><span style=\"color:#A5D6FF\">'use client'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { useState } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'react'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { useFileUpload, </span><span style=\"color:#FF7B72\">type</span><span style=\"color:#E6EDF3\"> FileMetadata, </span><span style=\"color:#FF7B72\">type</span><span style=\"color:#E6EDF3\"> FileWithPreview } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/hooks/use-file-upload'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Alert, AlertContent, AlertDescription, AlertIcon, AlertTitle } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/alert'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Button } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/button'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { CloudUpload, ImageIcon, TriangleAlert, Upload, XIcon } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'lucide-react'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { cn } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/lib/utils'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">interface</span><span style=\"color:#FFA657\"> CoverUploadProps</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  accept</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">  onImageChange</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">file</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#79C0FF\"> null</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#79C0FF\"> void</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">export</span><span style=\"color:#FF7B72\"> default</span><span style=\"color:#FF7B72\"> function</span><span style=\"color:#D2A8FF\"> CoverUpload</span><span style=\"color:#FFA657\">({</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 5</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FFA657\">, </span><span style=\"color:#8B949E\">// 5MB default</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  accept </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\"> 'image/*'</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  onImageChange,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">}</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> CoverUploadProps) </span><span style=\"color:#E6EDF3\">{</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">  // Default cover image</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> defaultCoverImage</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileMetadata</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    id: </span><span style=\"color:#A5D6FF\">'default-cover'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    name: </span><span style=\"color:#A5D6FF\">'cover-image.jpg'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    size: </span><span style=\"color:#79C0FF\">2048000</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    type: </span><span style=\"color:#A5D6FF\">'image/jpeg'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    url: </span><span style=\"color:#A5D6FF\">'https://picsum.photos/1000/800?grayscale&#x26;random=3'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#79C0FF\">coverImage</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">setCoverImage</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useState</span><span style=\"color:#E6EDF3\">&#x3C;</span><span style=\"color:#FFA657\">FileWithPreview</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#79C0FF\"> null</span><span style=\"color:#E6EDF3\">>({</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    id: defaultCoverImage.id,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    file: defaultCoverImage,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    preview: defaultCoverImage.url,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#79C0FF\">imageLoading</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">setImageLoading</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useState</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">true</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#79C0FF\">uploadProgress</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">setUploadProgress</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useState</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#79C0FF\">isUploading</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">setIsUploading</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useState</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">false</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#79C0FF\">uploadError</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">setUploadError</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useState</span><span style=\"color:#E6EDF3\">&#x3C;</span><span style=\"color:#79C0FF\">string</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#79C0FF\"> null</span><span style=\"color:#E6EDF3\">>(</span><span style=\"color:#79C0FF\">null</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { </span><span style=\"color:#79C0FF\">isDragging</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">errors</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { </span><span style=\"color:#79C0FF\">handleDragEnter</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">handleDragLeave</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">handleDragOver</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">handleDrop</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">openFileDialog</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">getInputProps</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  ] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useFileUpload</span><span style=\"color:#E6EDF3\">({</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    maxFiles: </span><span style=\"color:#79C0FF\">1</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    maxSize,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    accept,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    multiple: </span><span style=\"color:#79C0FF\">false</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    onFilesChange</span><span style=\"color:#E6EDF3\">: (</span><span style=\"color:#FFA657\">files</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      if</span><span style=\"color:#E6EDF3\"> (files.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#E6EDF3\">) {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        setImageLoading</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">true</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        setIsUploading</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">true</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        setUploadProgress</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        setUploadError</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">null</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        setCoverImage</span><span style=\"color:#E6EDF3\">(files[</span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">]);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        onImageChange</span><span style=\"color:#E6EDF3\">?.(files[</span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">].file </span><span style=\"color:#FF7B72\">as</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">        // Simulate upload progress</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        simulateUpload</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      }</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">  // Simulate upload progress</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> simulateUpload</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> () </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> interval</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> setInterval</span><span style=\"color:#E6EDF3\">(() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      setUploadProgress</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        if</span><span style=\"color:#E6EDF3\"> (prev </span><span style=\"color:#FF7B72\">>=</span><span style=\"color:#79C0FF\"> 100</span><span style=\"color:#E6EDF3\">) {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">          clearInterval</span><span style=\"color:#E6EDF3\">(interval);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">          setIsUploading</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">false</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">          // Simulate occasional upload failure (10% chance)</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          if</span><span style=\"color:#E6EDF3\"> (Math.</span><span style=\"color:#D2A8FF\">random</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">&#x3C;</span><span style=\"color:#79C0FF\"> 0.1</span><span style=\"color:#E6EDF3\">) {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">            setUploadError</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'Upload failed. Please try again.'</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            return</span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          return</span><span style=\"color:#79C0FF\"> 100</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">        // Random progress increment between 5-15%</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        const</span><span style=\"color:#79C0FF\"> increment</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">random</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">*</span><span style=\"color:#79C0FF\"> 10</span><span style=\"color:#FF7B72\"> +</span><span style=\"color:#79C0FF\"> 5</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        return</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">min</span><span style=\"color:#E6EDF3\">(prev </span><span style=\"color:#FF7B72\">+</span><span style=\"color:#E6EDF3\"> increment, </span><span style=\"color:#79C0FF\">100</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      });</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    }, </span><span style=\"color:#79C0FF\">200</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> removeCoverImage</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> () </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    setCoverImage</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">null</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    setImageLoading</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">false</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    setIsUploading</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">false</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    setUploadProgress</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    setUploadError</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">null</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    onImageChange</span><span style=\"color:#E6EDF3\">?.(</span><span style=\"color:#79C0FF\">null</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> retryUpload</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> () </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (coverImage) {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      setUploadError</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">null</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      setIsUploading</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">true</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      setUploadProgress</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      simulateUpload</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    }</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> hasImage</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> coverImage </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#E6EDF3\"> coverImage.preview;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  return</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'w-full space-y-4'</span><span style=\"color:#E6EDF3\">, className)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Cover Upload Area */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;</span><span style=\"color:#7EE787\">div</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#A5D6FF\">          'group relative overflow-hidden rounded-xl transition-all duration-200 border border-border'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          isDragging</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            ?</span><span style=\"color:#A5D6FF\"> 'border-dashed border-primary bg-primary/5'</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            :</span><span style=\"color:#E6EDF3\"> hasImage</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              ?</span><span style=\"color:#A5D6FF\"> 'border-border bg-background hover:border-primary/50'</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              :</span><span style=\"color:#A5D6FF\"> 'border-dashed border-muted-foreground/25 bg-muted/30 hover:border-primary hover:bg-primary/5'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragEnter</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragEnter</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragLeave</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragLeave</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragOver</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragOver</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDrop</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDrop</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      ></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        {</span><span style=\"color:#8B949E\">/* Hidden file input */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">input</span><span style=\"color:#FF7B72\"> {...</span><span style=\"color:#D2A8FF\">getInputProps</span><span style=\"color:#E6EDF3\">()</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sr-only\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        {</span><span style=\"color:#E6EDF3\">hasImage </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            {</span><span style=\"color:#8B949E\">/* Cover Image Display */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"relative aspect-[21/9] w-full\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#8B949E\">/* Loading placeholder */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#E6EDF3\">imageLoading </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"absolute inset-0 animate-pulse bg-muted flex items-center justify-center\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex flex-col items-center gap-2 text-muted-foreground\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">ImageIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-5\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">span</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-sm\"</span><span style=\"color:#E6EDF3\">>Loading image...&#x3C;/</span><span style=\"color:#7EE787\">span</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#8B949E\">/* Actual image */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">img</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                src</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">coverImage.preview</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                alt</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"Cover\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#A5D6FF\">                  'h-full w-full object-cover transition-opacity duration-300'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  imageLoading </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'opacity-0'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'opacity-100'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                onLoad</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> setImageLoading</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">false</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                onError</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> setImageLoading</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">false</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              /></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#8B949E\">/* Overlay on hover */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"absolute inset-0 bg-black/0 transition-all duration-200 group-hover:bg-black/40\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#8B949E\">/* Action buttons overlay */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"absolute inset-0 flex items-center justify-center opacity-0 transition-opacity duration-200 group-hover:opacity-100\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex gap-2\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">Button</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                    onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">openFileDialog</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                    variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"secondary\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                    size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                    className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"bg-white/90 text-gray-900 hover:bg-white\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">Upload</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    Change Cover</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">removeCoverImage</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"destructive\"</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">XIcon</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    Remove</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#8B949E\">/* Upload progress */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#E6EDF3\">isUploading </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"absolute inset-0 flex items-center justify-center bg-black/40\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"relative\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">svg</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-16 -rotate-90\"</span><span style=\"color:#79C0FF\"> viewBox</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"0 0 64 64\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">circle</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        cx</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"32\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        cy</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"32\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        r</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"28\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        fill</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"none\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        stroke</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"currentColor\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        strokeWidth</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"4\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-white/20\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">circle</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        cx</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"32\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        cy</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"32\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        r</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"28\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        fill</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"none\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        stroke</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"currentColor\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        strokeWidth</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"4\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        strokeDasharray</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#A5D6FF\">`${</span><span style=\"color:#79C0FF\">2</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#E6EDF3\"> Math</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#79C0FF\">PI</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 28</span><span style=\"color:#A5D6FF\">}`</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        strokeDashoffset</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#A5D6FF\">`${</span><span style=\"color:#79C0FF\">2</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#E6EDF3\"> Math</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#79C0FF\">PI</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 28</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#A5D6FF\"> (</span><span style=\"color:#79C0FF\">1</span><span style=\"color:#FF7B72\"> -</span><span style=\"color:#E6EDF3\"> uploadProgress</span><span style=\"color:#FF7B72\"> /</span><span style=\"color:#79C0FF\"> 100</span><span style=\"color:#A5D6FF\">)</span><span style=\"color:#A5D6FF\">}`</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-white transition-all duration-300\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        strokeLinecap</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"round\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;/</span><span style=\"color:#7EE787\">svg</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"absolute inset-0 flex items-center justify-center\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">span</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-sm font-medium text-white\"</span><span style=\"color:#E6EDF3\">></span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">Math.</span><span style=\"color:#D2A8FF\">round</span><span style=\"color:#E6EDF3\">(uploadProgress)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">%&#x3C;/</span><span style=\"color:#7EE787\">span</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        ) </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">          /* Empty State */</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">            className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex aspect-[21/9] w-full cursor-pointer flex-col items-center justify-center gap-4 p-8 text-center\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">            onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">openFileDialog</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"rounded-full bg-primary/10 p-4\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">CloudUpload</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-8 text-primary\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"space-y-2\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">h3</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-lg font-semibold\"</span><span style=\"color:#E6EDF3\">>Upload Cover Image&#x3C;/</span><span style=\"color:#7EE787\">h3</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-sm text-muted-foreground\"</span><span style=\"color:#E6EDF3\">>Drag and drop an image here, or click to browse&#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-muted-foreground\"</span><span style=\"color:#E6EDF3\">>Recommended size: 1200x514px â€¢ Max size: 5MB&#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"outline\"</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">ImageIcon</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              Browse Files</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Error Messages */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"destructive\"</span><span style=\"color:#79C0FF\"> appearance</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"light\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mt-5\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">TriangleAlert</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">>File upload error(s)&#x3C;/</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">error</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#FFA657\">index</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">index</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"last:mb-0\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#E6EDF3\">error</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Upload Error */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">uploadError </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"destructive\"</span><span style=\"color:#79C0FF\"> appearance</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"light\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mt-5\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">TriangleAlert</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">>Upload failed&#x3C;/</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">uploadError</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">&#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">retryUpload</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"primary\"</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                Retry Upload</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Upload Tips */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"rounded-lg bg-muted/50 p-4\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">h4</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mb-2 text-sm font-medium\"</span><span style=\"color:#E6EDF3\">>Cover Image Guidelines&#x3C;/</span><span style=\"color:#7EE787\">h4</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">ul</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"space-y-1 text-xs text-muted-foreground\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">li</span><span style=\"color:#E6EDF3\">>â€¢ Use high-quality images with good lighting and composition&#x3C;/</span><span style=\"color:#7EE787\">li</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">li</span><span style=\"color:#E6EDF3\">>â€¢ Recommended aspect ratio: 21:9 (ultrawide) for best results&#x3C;/</span><span style=\"color:#7EE787\">li</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">li</span><span style=\"color:#E6EDF3\">>â€¢ Avoid images with important content near the edges&#x3C;/</span><span style=\"color:#7EE787\">li</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">li</span><span style=\"color:#E6EDF3\">>â€¢ Supported formats: JPG, PNG, WebP&#x3C;/</span><span style=\"color:#7EE787\">li</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">ul</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span></code></pre>"
  },
  "file-upload/default": {
    "code": "'use client';\n\nimport { useFileUpload } from '@/hooks/use-file-upload';\nimport { Button } from '@/components/ui/button';\nimport { CircleUserRoundIcon } from 'lucide-react';\n\nexport default function Component() {\n  const [{ files }, { removeFile, openFileDialog, getInputProps }] = useFileUpload({\n    accept: 'image/*',\n  });\n\n  const previewUrl = files[0]?.preview || null;\n  const fileName = files[0]?.file.name || null;\n\n  return (\n    <div className=\"flex flex-col items-center gap-2\">\n      <div className=\"inline-flex items-center gap-2 align-top\">\n        <div\n          className=\"border-input relative flex size-9 shrink-0 items-center justify-center overflow-hidden rounded-md border\"\n          aria-label={previewUrl ? 'Preview of uploaded image' : 'Default user avatar'}\n        >\n          {previewUrl ? (\n            <img\n              className=\"size-full object-cover\"\n              src={previewUrl}\n              alt=\"Preview of uploaded image\"\n              width={32}\n              height={32}\n            />\n          ) : (\n            <div aria-hidden=\"true\">\n              <CircleUserRoundIcon className=\"opacity-60\" size={16} />\n            </div>\n          )}\n        </div>\n        <div className=\"relative inline-block\">\n          <Button onClick={openFileDialog} aria-haspopup=\"dialog\">\n            {fileName ? 'Change image' : 'Upload image'}\n          </Button>\n          <input {...getInputProps()} className=\"sr-only\" aria-label=\"Upload image file\" tabIndex={-1} />\n        </div>\n      </div>\n      {fileName ? (\n        <div className=\"inline-flex gap-2 text-xs\">\n          <p className=\"text-muted-foreground truncate\" aria-live=\"polite\">\n            {fileName}\n          </p>{' '}\n          <button\n            onClick={() => removeFile(files[0]?.id)}\n            className=\"cursor-pointer text-destructive font-medium hover:underline\"\n            aria-label={`Remove ${fileName}`}\n          >\n            Remove\n          </button>\n        </div>\n      ) : (\n        <div className=\"inline-flex gap-2 text-xs\">\n          <p className=\"text-muted-foreground truncate\" aria-live=\"polite\">\n            No image attached\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n",
    "highlightedCode": "<pre class=\"shiki github-dark-default\" style=\"background-color:#0d1117;color:#e6edf3\" tabindex=\"0\"><code data-line-numbers=\"\"><span class=\"line\"><span style=\"color:#A5D6FF\">'use client'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { useFileUpload } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/hooks/use-file-upload'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Button } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/button'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { CircleUserRoundIcon } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'lucide-react'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">export</span><span style=\"color:#FF7B72\"> default</span><span style=\"color:#FF7B72\"> function</span><span style=\"color:#D2A8FF\"> Component</span><span style=\"color:#FFA657\">() </span><span style=\"color:#E6EDF3\">{</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [{ </span><span style=\"color:#79C0FF\">files</span><span style=\"color:#E6EDF3\"> }, { </span><span style=\"color:#79C0FF\">removeFile</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">openFileDialog</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">getInputProps</span><span style=\"color:#E6EDF3\"> }] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useFileUpload</span><span style=\"color:#E6EDF3\">({</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    accept: </span><span style=\"color:#A5D6FF\">'image/*'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> previewUrl</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> files[</span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">]?.preview </span><span style=\"color:#FF7B72\">||</span><span style=\"color:#79C0FF\"> null</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> fileName</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> files[</span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">]?.file.name </span><span style=\"color:#FF7B72\">||</span><span style=\"color:#79C0FF\"> null</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  return</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex flex-col items-center gap-2\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"inline-flex items-center gap-2 align-top\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">          className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"border-input relative flex size-9 shrink-0 items-center justify-center overflow-hidden rounded-md border\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">          aria-label</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">previewUrl </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'Preview of uploaded image'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'Default user avatar'</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        ></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          {</span><span style=\"color:#E6EDF3\">previewUrl </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">img</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">              className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-full object-cover\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">              src</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">previewUrl</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">              alt</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"Preview of uploaded image\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">              width</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#79C0FF\">32</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">              height</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#79C0FF\">32</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          ) </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> aria-hidden</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"true\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">CircleUserRoundIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"opacity-60\"</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#79C0FF\">16</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"relative inline-block\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">openFileDialog</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> aria-haspopup</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"dialog\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            {</span><span style=\"color:#E6EDF3\">fileName </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'Change image'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'Upload image'</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">input</span><span style=\"color:#FF7B72\"> {...</span><span style=\"color:#D2A8FF\">getInputProps</span><span style=\"color:#E6EDF3\">()</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sr-only\"</span><span style=\"color:#79C0FF\"> aria-label</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"Upload image file\"</span><span style=\"color:#79C0FF\"> tabIndex</span><span style=\"color:#FF7B72\">={-</span><span style=\"color:#79C0FF\">1</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">fileName </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"inline-flex gap-2 text-xs\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-muted-foreground truncate\"</span><span style=\"color:#79C0FF\"> aria-live</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"polite\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            {</span><span style=\"color:#E6EDF3\">fileName</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span><span style=\"color:#FF7B72\">{</span><span style=\"color:#A5D6FF\">' '</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">button</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">            onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> removeFile</span><span style=\"color:#E6EDF3\">(files[</span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">]?.id)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">            className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"cursor-pointer text-destructive font-medium hover:underline\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">            aria-label</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#A5D6FF\">`Remove ${</span><span style=\"color:#E6EDF3\">fileName</span><span style=\"color:#A5D6FF\">}`</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            Remove</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      ) </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"inline-flex gap-2 text-xs\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-muted-foreground truncate\"</span><span style=\"color:#79C0FF\"> aria-live</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"polite\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            No image attached</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span></code></pre>"
  },
  "file-upload/dropzone": {
    "code": "'use client';\n\nimport {\n  formatBytes,\n  useFileUpload,\n  type FileMetadata,\n  type FileWithPreview,\n} from '@/hooks/use-file-upload';\nimport { Alert, AlertContent, AlertDescription, AlertIcon, AlertTitle } from '@/components/ui/alert';\nimport { Button } from '@/components/ui/button';\nimport { FileIcon, ImageIcon, TriangleAlert, UploadIcon, XIcon } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface FileUploadDropzoneProps {\n  maxFiles?: number;\n  maxSize?: number;\n  accept?: string;\n  multiple?: boolean;\n  className?: string;\n  onFilesChange?: (files: FileWithPreview[]) => void;\n}\n\nexport default function FileUploadDropzone({\n  maxFiles = 5,\n  maxSize = 5 * 1024 * 1024, // 5MB\n  accept = 'image/*,application/pdf,.doc,.docx',\n  multiple = true,\n  className,\n  onFilesChange,\n}: FileUploadDropzoneProps) {\n  const [\n    { files, isDragging, errors },\n    {\n      removeFile,\n      clearFiles,\n      handleDragEnter,\n      handleDragLeave,\n      handleDragOver,\n      handleDrop,\n      openFileDialog,\n      getInputProps,\n    },\n  ] = useFileUpload({\n    maxFiles,\n    maxSize,\n    accept,\n    multiple,\n    onFilesChange,\n  });\n\n  const isImage = (file: File | FileMetadata) => {\n    const type = file instanceof File ? file.type : file.type;\n    return type.startsWith('image/');\n  };\n\n  return (\n    <div className={cn('w-full max-w-2xl mx-auto', className)}>\n      {/* Dropzone */}\n      <div\n        className={cn(\n          'relative border-2 border-dashed rounded-lg p-8 text-center transition-colors',\n          isDragging ? 'border-primary bg-primary/5' : 'border-muted-foreground/25 hover:border-muted-foreground/50',\n        )}\n        onDragEnter={handleDragEnter}\n        onDragLeave={handleDragLeave}\n        onDragOver={handleDragOver}\n        onDrop={handleDrop}\n      >\n        <input {...getInputProps()} className=\"sr-only\" />\n\n        <div className=\"flex flex-col items-center gap-4\">\n          <div\n            className={cn(\n              'flex h-20 w-20 items-center justify-center rounded-full',\n              isDragging ? 'bg-primary/10' : 'bg-muted',\n            )}\n          >\n            <ImageIcon className={cn('h-10 w-10', isDragging ? 'text-primary' : 'text-muted-foreground')} />\n          </div>\n\n          <div className=\"space-y-2\">\n            <h3 className=\"text-lg font-semibold\">Drop your images here</h3>\n            <p className=\"text-sm text-muted-foreground\">SVG, PNG, JPG or GIF (max. {formatBytes(maxSize)})</p>\n          </div>\n\n          <Button onClick={openFileDialog} variant=\"outline\" className=\"gap-2\">\n            <UploadIcon className=\"h-4 w-4\" />\n            Select images\n          </Button>\n        </div>\n      </div>\n\n      {/* Error Messages */}\n      {errors.length > 0 && (\n        <Alert variant=\"destructive\" appearance=\"light\" className=\"mt-5\">\n          <AlertIcon>\n            <TriangleAlert />\n          </AlertIcon>\n          <AlertContent>\n            <AlertTitle>File upload error(s)</AlertTitle>\n            <AlertDescription>\n              {errors.map((error, index) => (\n                <p key={index} className=\"last:mb-0\">\n                  {error}\n                </p>\n              ))}\n            </AlertDescription>\n          </AlertContent>\n        </Alert>\n      )}\n\n      {/* File List */}\n      {files.length > 0 && (\n        <div className=\"mt-6 space-y-3\">\n          <div className=\"flex items-center justify-between\">\n            <h4 className=\"text-sm font-medium\">Uploaded files ({files.length})</h4>\n            <Button onClick={clearFiles} variant=\"ghost\" size=\"sm\" className=\"text-muted-foreground\">\n              Remove all files\n            </Button>\n          </div>\n\n          <div className=\"grid gap-3\">\n            {files.map((fileItem) => (\n              <div key={fileItem.id} className=\"flex items-center gap-3 rounded-lg border bg-card p-3\">\n                {/* File Preview */}\n                <div className=\"flex-shrink-0\">\n                  {isImage(fileItem.file) && fileItem.preview ? (\n                    <img\n                      src={fileItem.preview}\n                      alt={fileItem.file.name}\n                      className=\"h-12 w-12 rounded-lg border object-cover\"\n                    />\n                  ) : (\n                    <div className=\"flex h-12 w-12 items-center justify-center rounded-lg bg-muted\">\n                      <FileIcon className=\"h-6 w-6 text-muted-foreground\" />\n                    </div>\n                  )}\n                </div>\n\n                {/* File Info */}\n                <div className=\"min-w-0 flex-1\">\n                  <p className=\"truncate text-sm font-medium\">{fileItem.file.name}</p>\n                  <p className=\"text-xs text-muted-foreground\">{formatBytes(fileItem.file.size)}</p>\n                </div>\n\n                {/* Remove Button */}\n                <Button\n                  onClick={() => removeFile(fileItem.id)}\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"text-muted-foreground hover:text-destructive\"\n                >\n                  <XIcon className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n",
    "highlightedCode": "<pre class=\"shiki github-dark-default\" style=\"background-color:#0d1117;color:#e6edf3\" tabindex=\"0\"><code data-line-numbers=\"\"><span class=\"line\"><span style=\"color:#A5D6FF\">'use client'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  formatBytes,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  useFileUpload,</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  type</span><span style=\"color:#E6EDF3\"> FileMetadata,</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  type</span><span style=\"color:#E6EDF3\"> FileWithPreview,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">} </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/hooks/use-file-upload'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Alert, AlertContent, AlertDescription, AlertIcon, AlertTitle } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/alert'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Button } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/button'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { FileIcon, ImageIcon, TriangleAlert, UploadIcon, XIcon } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'lucide-react'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { cn } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/lib/utils'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">interface</span><span style=\"color:#FFA657\"> FileUploadDropzoneProps</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxFiles</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  accept</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  multiple</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> boolean</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">  onFilesChange</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">files</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileWithPreview</span><span style=\"color:#E6EDF3\">[]) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#79C0FF\"> void</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">export</span><span style=\"color:#FF7B72\"> default</span><span style=\"color:#FF7B72\"> function</span><span style=\"color:#D2A8FF\"> FileUploadDropzone</span><span style=\"color:#FFA657\">({</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxFiles </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 5</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 5</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FFA657\">, </span><span style=\"color:#8B949E\">// 5MB</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  accept </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\"> 'image/*,application/pdf,.doc,.docx'</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  multiple </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> true</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  onFilesChange,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">}</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileUploadDropzoneProps) </span><span style=\"color:#E6EDF3\">{</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { </span><span style=\"color:#79C0FF\">files</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">isDragging</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">errors</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    {</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      removeFile</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      clearFiles</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDragEnter</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDragLeave</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDragOver</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDrop</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      openFileDialog</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      getInputProps</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  ] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useFileUpload</span><span style=\"color:#E6EDF3\">({</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    maxFiles,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    maxSize,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    accept,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    multiple,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    onFilesChange,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> isImage</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">file</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#FFA657\"> FileMetadata</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> type</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> file </span><span style=\"color:#FF7B72\">instanceof</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#FF7B72\"> ?</span><span style=\"color:#E6EDF3\"> file.type </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> file.type;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    return</span><span style=\"color:#E6EDF3\"> type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'image/'</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  return</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'w-full max-w-2xl mx-auto'</span><span style=\"color:#E6EDF3\">, className)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Dropzone */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;</span><span style=\"color:#7EE787\">div</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#A5D6FF\">          'relative border-2 border-dashed rounded-lg p-8 text-center transition-colors'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          isDragging </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'border-primary bg-primary/5'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'border-muted-foreground/25 hover:border-muted-foreground/50'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragEnter</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragEnter</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragLeave</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragLeave</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragOver</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragOver</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDrop</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDrop</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">input</span><span style=\"color:#FF7B72\"> {...</span><span style=\"color:#D2A8FF\">getInputProps</span><span style=\"color:#E6EDF3\">()</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sr-only\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex flex-col items-center gap-4\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">            className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#A5D6FF\">              'flex h-20 w-20 items-center justify-center rounded-full'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              isDragging </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'bg-primary/10'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'bg-muted'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">ImageIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'h-10 w-10'</span><span style=\"color:#E6EDF3\">, isDragging </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'text-primary'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'text-muted-foreground'</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"space-y-2\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">h3</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-lg font-semibold\"</span><span style=\"color:#E6EDF3\">>Drop your images here&#x3C;/</span><span style=\"color:#7EE787\">h3</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-sm text-muted-foreground\"</span><span style=\"color:#E6EDF3\">>SVG, PNG, JPG or GIF (max. </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#E6EDF3\">(maxSize)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">)&#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">openFileDialog</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"outline\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"gap-2\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">UploadIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-4 w-4\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            Select images</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Error Messages */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"destructive\"</span><span style=\"color:#79C0FF\"> appearance</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"light\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mt-5\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">TriangleAlert</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">>File upload error(s)&#x3C;/</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">error</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#FFA657\">index</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">index</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"last:mb-0\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#E6EDF3\">error</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* File List */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">files.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mt-6 space-y-3\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center justify-between\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">h4</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-sm font-medium\"</span><span style=\"color:#E6EDF3\">>Uploaded files (</span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">files.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">)&#x3C;/</span><span style=\"color:#7EE787\">h4</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">clearFiles</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"ghost\"</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-muted-foreground\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              Remove all files</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"grid gap-3\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            {</span><span style=\"color:#E6EDF3\">files.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">fileItem</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">fileItem.id</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center gap-3 rounded-lg border bg-card p-3\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                {</span><span style=\"color:#8B949E\">/* File Preview */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex-shrink-0\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#D2A8FF\">isImage</span><span style=\"color:#E6EDF3\">(fileItem.file) </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#E6EDF3\"> fileItem.preview </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">img</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                      src</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">fileItem.preview</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                      alt</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">fileItem.file.name</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                      className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-12 w-12 rounded-lg border object-cover\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  ) </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex h-12 w-12 items-center justify-center rounded-lg bg-muted\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">FileIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-6 w-6 text-muted-foreground\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                {</span><span style=\"color:#8B949E\">/* File Info */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"min-w-0 flex-1\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"truncate text-sm font-medium\"</span><span style=\"color:#E6EDF3\">></span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">fileItem.file.name</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">&#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-muted-foreground\"</span><span style=\"color:#E6EDF3\">></span><span style=\"color:#FF7B72\">{</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#E6EDF3\">(fileItem.file.size)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">&#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                {</span><span style=\"color:#8B949E\">/* Remove Button */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">Button</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> removeFile</span><span style=\"color:#E6EDF3\">(fileItem.id)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"ghost\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-muted-foreground hover:text-destructive\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">XIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-4 w-4\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span></code></pre>"
  },
  "file-upload/gallery-upload": {
    "code": "'use client';\n\nimport { useState } from 'react';\nimport {\n  formatBytes,\n  useFileUpload,\n  type FileMetadata,\n  type FileWithPreview,\n} from '@/hooks/use-file-upload';\nimport { Alert, AlertContent, AlertDescription, AlertIcon, AlertTitle } from '@/components/ui/alert';\nimport { Button } from '@/components/ui/button';\nimport { ImageIcon, TriangleAlert, Upload, XIcon, ZoomInIcon } from 'lucide-react';\nimport { toAbsoluteUrl } from '@/lib/helpers';\nimport { cn } from '@/lib/utils';\n\ninterface GalleryUploadProps {\n  maxFiles?: number;\n  maxSize?: number;\n  accept?: string;\n  multiple?: boolean;\n  className?: string;\n  onFilesChange?: (files: FileWithPreview[]) => void;\n}\n\nexport default function GalleryUpload({\n  maxFiles = 10,\n  maxSize = 5 * 1024 * 1024, // 5MB\n  accept = 'image/*',\n  multiple = true,\n  className,\n  onFilesChange,\n}: GalleryUploadProps) {\n  const [selectedImage, setSelectedImage] = useState<string | null>(null);\n\n  // Create default images using FileMetadata type\n  const defaultImages: FileMetadata[] = [\n    {\n      id: 'default-1',\n      name: 'avatar-1.png',\n      size: 44608,\n      type: 'image/png',\n      url: toAbsoluteUrl('/media/avatars/1.png'),\n    },\n    {\n      id: 'default-2',\n      name: 'avatar-2.png',\n      size: 42144,\n      type: 'image/png',\n      url: toAbsoluteUrl('/media/avatars/2.png'),\n    },\n  ];\n\n  const [\n    { files, isDragging, errors },\n    {\n      removeFile,\n      clearFiles,\n      handleDragEnter,\n      handleDragLeave,\n      handleDragOver,\n      handleDrop,\n      openFileDialog,\n      getInputProps,\n    },\n  ] = useFileUpload({\n    maxFiles,\n    maxSize,\n    accept,\n    multiple,\n    initialFiles: defaultImages,\n    onFilesChange,\n  });\n\n  const isImage = (file: File | FileMetadata) => {\n    const type = file instanceof File ? file.type : file.type;\n    return type.startsWith('image/');\n  };\n\n  return (\n    <div className={cn('w-full max-w-4xl', className)}>\n      {/* Upload Area */}\n      <div\n        className={cn(\n          'relative rounded-lg border border-dashed p-8 text-center transition-colors',\n          isDragging ? 'border-primary bg-primary/5' : 'border-muted-foreground/25 hover:border-muted-foreground/50',\n        )}\n        onDragEnter={handleDragEnter}\n        onDragLeave={handleDragLeave}\n        onDragOver={handleDragOver}\n        onDrop={handleDrop}\n      >\n        <input {...getInputProps()} className=\"sr-only\" />\n\n        <div className=\"flex flex-col items-center gap-4\">\n          <div\n            className={cn(\n              'flex h-16 w-16 items-center justify-center rounded-full',\n              isDragging ? 'bg-primary/10' : 'bg-muted',\n            )}\n          >\n            <ImageIcon className={cn('h-5 w-5', isDragging ? 'text-primary' : 'text-muted-foreground')} />\n          </div>\n\n          <div className=\"space-y-2\">\n            <h3 className=\"text-lg font-semibold\">Upload images to gallery</h3>\n            <p className=\"text-sm text-muted-foreground\">Drag and drop images here or click to browse</p>\n            <p className=\"text-xs text-muted-foreground\">\n              PNG, JPG, GIF up to {formatBytes(maxSize)} each (max {maxFiles} files)\n            </p>\n          </div>\n\n          <Button onClick={openFileDialog}>\n            <Upload className=\"h-4 w-4\" />\n            Select images\n          </Button>\n        </div>\n      </div>\n\n      {/* Gallery Stats */}\n      {files.length > 0 && (\n        <div className=\"mt-6 flex items-center justify-between\">\n          <div className=\"flex items-center gap-4\">\n            <h4 className=\"text-sm font-medium\">\n              Gallery ({files.length}/{maxFiles})\n            </h4>\n            <div className=\"text-xs text-muted-foreground\">\n              Total: {formatBytes(files.reduce((acc, file) => acc + file.file.size, 0))}\n            </div>\n          </div>\n          <Button onClick={clearFiles} variant=\"outline\" size=\"sm\">\n            Clear all\n          </Button>\n        </div>\n      )}\n\n      {/* Image Grid */}\n      {files.length > 0 && (\n        <div className=\"mt-4 grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4\">\n          {files.map((fileItem) => (\n            <div key={fileItem.id} className=\"group relative aspect-square\">\n              {isImage(fileItem.file) && fileItem.preview ? (\n                <img\n                  src={fileItem.preview}\n                  alt={fileItem.file.name}\n                  className=\"h-full w-full rounded-lg border object-cover transition-transform group-hover:scale-105\"\n                />\n              ) : (\n                <div className=\"flex h-full w-full items-center justify-center rounded-lg border bg-muted\">\n                  <ImageIcon className=\"h-8 w-8 text-muted-foreground\" />\n                </div>\n              )}\n\n              {/* Overlay */}\n              <div className=\"absolute inset-0 flex items-center justify-center gap-2 rounded-lg bg-black/50 opacity-0 transition-opacity group-hover:opacity-100\">\n                {/* View Button */}\n                {fileItem.preview && (\n                  <Button\n                    onClick={() => setSelectedImage(fileItem.preview!)}\n                    variant=\"secondary\"\n                    size=\"icon\"\n                    className=\"size-7\"\n                  >\n                    <ZoomInIcon className=\"opacity-100/80\" />\n                  </Button>\n                )}\n\n                {/* Remove Button */}\n                <Button onClick={() => removeFile(fileItem.id)} variant=\"secondary\" size=\"icon\" className=\"size-7\">\n                  <XIcon className=\"opacity-100/80\" />\n                </Button>\n              </div>\n\n              {/* File Info */}\n              <div className=\"absolute bottom-0 left-0 right-0 rounded-b-lg bg-black/70 p-2 text-white opacity-0 transition-opacity group-hover:opacity-100\">\n                <p className=\"truncate text-xs font-medium\">{fileItem.file.name}</p>\n                <p className=\"text-xs text-gray-300\">{formatBytes(fileItem.file.size)}</p>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Error Messages */}\n      {errors.length > 0 && (\n        <Alert variant=\"destructive\" appearance=\"light\" className=\"mt-5\">\n          <AlertIcon>\n            <TriangleAlert />\n          </AlertIcon>\n          <AlertContent>\n            <AlertTitle>File upload error(s)</AlertTitle>\n            <AlertDescription>\n              {errors.map((error, index) => (\n                <p key={index} className=\"last:mb-0\">\n                  {error}\n                </p>\n              ))}\n            </AlertDescription>\n          </AlertContent>\n        </Alert>\n      )}\n\n      {/* Image Preview Modal */}\n      {selectedImage && (\n        <div\n          className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm transition-all duration-300 p-4\"\n          onClick={() => setSelectedImage(null)}\n        >\n          <div className=\"relative max-h-full max-w-full\">\n            <img\n              src={selectedImage}\n              alt=\"Preview\"\n              className=\"max-h-full max-w-full rounded-lg object-contain\"\n              onClick={(e) => e.stopPropagation()}\n            />\n            <Button\n              onClick={() => setSelectedImage(null)}\n              variant=\"secondary\"\n              size=\"icon\"\n              className=\"absolute end-2 top-2 size-7 p-0\"\n            >\n              <XIcon className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n",
    "highlightedCode": "<pre class=\"shiki github-dark-default\" style=\"background-color:#0d1117;color:#e6edf3\" tabindex=\"0\"><code data-line-numbers=\"\"><span class=\"line\"><span style=\"color:#A5D6FF\">'use client'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { useState } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'react'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  formatBytes,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  useFileUpload,</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  type</span><span style=\"color:#E6EDF3\"> FileMetadata,</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  type</span><span style=\"color:#E6EDF3\"> FileWithPreview,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">} </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/hooks/use-file-upload'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Alert, AlertContent, AlertDescription, AlertIcon, AlertTitle } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/alert'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Button } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/button'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { ImageIcon, TriangleAlert, Upload, XIcon, ZoomInIcon } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'lucide-react'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { toAbsoluteUrl } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/lib/helpers'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { cn } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/lib/utils'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">interface</span><span style=\"color:#FFA657\"> GalleryUploadProps</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxFiles</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  accept</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  multiple</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> boolean</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">  onFilesChange</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">files</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileWithPreview</span><span style=\"color:#E6EDF3\">[]) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#79C0FF\"> void</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">export</span><span style=\"color:#FF7B72\"> default</span><span style=\"color:#FF7B72\"> function</span><span style=\"color:#D2A8FF\"> GalleryUpload</span><span style=\"color:#FFA657\">({</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxFiles </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 10</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 5</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FFA657\">, </span><span style=\"color:#8B949E\">// 5MB</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  accept </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\"> 'image/*'</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  multiple </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> true</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  onFilesChange,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">}</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> GalleryUploadProps) </span><span style=\"color:#E6EDF3\">{</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#79C0FF\">selectedImage</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">setSelectedImage</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useState</span><span style=\"color:#E6EDF3\">&#x3C;</span><span style=\"color:#79C0FF\">string</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#79C0FF\"> null</span><span style=\"color:#E6EDF3\">>(</span><span style=\"color:#79C0FF\">null</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">  // Create default images using FileMetadata type</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> defaultImages</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileMetadata</span><span style=\"color:#E6EDF3\">[] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#E6EDF3\"> [</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      id: </span><span style=\"color:#A5D6FF\">'default-1'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      name: </span><span style=\"color:#A5D6FF\">'avatar-1.png'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      size: </span><span style=\"color:#79C0FF\">44608</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      type: </span><span style=\"color:#A5D6FF\">'image/png'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      url: </span><span style=\"color:#D2A8FF\">toAbsoluteUrl</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'/media/avatars/1.png'</span><span style=\"color:#E6EDF3\">),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      id: </span><span style=\"color:#A5D6FF\">'default-2'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      name: </span><span style=\"color:#A5D6FF\">'avatar-2.png'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      size: </span><span style=\"color:#79C0FF\">42144</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      type: </span><span style=\"color:#A5D6FF\">'image/png'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      url: </span><span style=\"color:#D2A8FF\">toAbsoluteUrl</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'/media/avatars/2.png'</span><span style=\"color:#E6EDF3\">),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  ];</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { </span><span style=\"color:#79C0FF\">files</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">isDragging</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">errors</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    {</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      removeFile</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      clearFiles</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDragEnter</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDragLeave</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDragOver</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDrop</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      openFileDialog</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      getInputProps</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  ] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useFileUpload</span><span style=\"color:#E6EDF3\">({</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    maxFiles,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    maxSize,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    accept,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    multiple,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    initialFiles: defaultImages,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    onFilesChange,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> isImage</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">file</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#FFA657\"> FileMetadata</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> type</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> file </span><span style=\"color:#FF7B72\">instanceof</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#FF7B72\"> ?</span><span style=\"color:#E6EDF3\"> file.type </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> file.type;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    return</span><span style=\"color:#E6EDF3\"> type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'image/'</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  return</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'w-full max-w-4xl'</span><span style=\"color:#E6EDF3\">, className)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Upload Area */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;</span><span style=\"color:#7EE787\">div</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#A5D6FF\">          'relative rounded-lg border border-dashed p-8 text-center transition-colors'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          isDragging </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'border-primary bg-primary/5'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'border-muted-foreground/25 hover:border-muted-foreground/50'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragEnter</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragEnter</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragLeave</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragLeave</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragOver</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragOver</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDrop</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDrop</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">input</span><span style=\"color:#FF7B72\"> {...</span><span style=\"color:#D2A8FF\">getInputProps</span><span style=\"color:#E6EDF3\">()</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sr-only\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex flex-col items-center gap-4\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">            className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#A5D6FF\">              'flex h-16 w-16 items-center justify-center rounded-full'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              isDragging </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'bg-primary/10'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'bg-muted'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">ImageIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'h-5 w-5'</span><span style=\"color:#E6EDF3\">, isDragging </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'text-primary'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'text-muted-foreground'</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"space-y-2\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">h3</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-lg font-semibold\"</span><span style=\"color:#E6EDF3\">>Upload images to gallery&#x3C;/</span><span style=\"color:#7EE787\">h3</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-sm text-muted-foreground\"</span><span style=\"color:#E6EDF3\">>Drag and drop images here or click to browse&#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-muted-foreground\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              PNG, JPG, GIF up to </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#E6EDF3\">(maxSize)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\"> each (max </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">maxFiles</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\"> files)</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">openFileDialog</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">Upload</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-4 w-4\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            Select images</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Gallery Stats */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">files.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mt-6 flex items-center justify-between\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center gap-4\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">h4</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-sm font-medium\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              Gallery (</span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">files.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">/</span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">maxFiles</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">)</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">h4</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-muted-foreground\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              Total: </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#E6EDF3\">(files.</span><span style=\"color:#D2A8FF\">reduce</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">acc</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#FFA657\">file</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> acc </span><span style=\"color:#FF7B72\">+</span><span style=\"color:#E6EDF3\"> file.file.size, </span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">clearFiles</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"outline\"</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            Clear all</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Image Grid */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">files.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mt-4 grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          {</span><span style=\"color:#E6EDF3\">files.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">fileItem</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">fileItem.id</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"group relative aspect-square\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#D2A8FF\">isImage</span><span style=\"color:#E6EDF3\">(fileItem.file) </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#E6EDF3\"> fileItem.preview </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">img</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  src</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">fileItem.preview</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  alt</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">fileItem.file.name</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-full w-full rounded-lg border object-cover transition-transform group-hover:scale-105\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              ) </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex h-full w-full items-center justify-center rounded-lg border bg-muted\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">ImageIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-8 w-8 text-muted-foreground\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#8B949E\">/* Overlay */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"absolute inset-0 flex items-center justify-center gap-2 rounded-lg bg-black/50 opacity-0 transition-opacity group-hover:opacity-100\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                {</span><span style=\"color:#8B949E\">/* View Button */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                {</span><span style=\"color:#E6EDF3\">fileItem.preview </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">Button</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                    onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> setSelectedImage</span><span style=\"color:#E6EDF3\">(fileItem.preview</span><span style=\"color:#FF7B72\">!</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                    variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"secondary\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                    size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"icon\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                    className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-7\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">ZoomInIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"opacity-100/80\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                {</span><span style=\"color:#8B949E\">/* Remove Button */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> removeFile</span><span style=\"color:#E6EDF3\">(fileItem.id)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"secondary\"</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"icon\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-7\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">XIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"opacity-100/80\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#8B949E\">/* File Info */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"absolute bottom-0 left-0 right-0 rounded-b-lg bg-black/70 p-2 text-white opacity-0 transition-opacity group-hover:opacity-100\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"truncate text-xs font-medium\"</span><span style=\"color:#E6EDF3\">></span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">fileItem.file.name</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">&#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-gray-300\"</span><span style=\"color:#E6EDF3\">></span><span style=\"color:#FF7B72\">{</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#E6EDF3\">(fileItem.file.size)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">&#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Error Messages */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"destructive\"</span><span style=\"color:#79C0FF\"> appearance</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"light\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mt-5\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">TriangleAlert</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">>File upload error(s)&#x3C;/</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">error</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#FFA657\">index</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">index</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"last:mb-0\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#E6EDF3\">error</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Image Preview Modal */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">selectedImage </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">          className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm transition-all duration-300 p-4\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">          onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> setSelectedImage</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">null</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"relative max-h-full max-w-full\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">img</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">              src</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">selectedImage</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">              alt</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"Preview\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">              className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"max-h-full max-w-full rounded-lg object-contain\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">              onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#FFA657\">e</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> e.</span><span style=\"color:#D2A8FF\">stopPropagation</span><span style=\"color:#E6EDF3\">()</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">Button</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">              onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> setSelectedImage</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">null</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">              variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"secondary\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">              size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"icon\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">              className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"absolute end-2 top-2 size-7 p-0\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">XIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-4 w-4\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span></code></pre>"
  },
  "file-upload/image-upload": {
    "code": "'use client';\n\nimport { useCallback, useState } from 'react';\nimport { Alert, AlertContent, AlertDescription, AlertIcon, AlertTitle } from '@/components/ui/alert';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Progress } from '@/components/ui/progress';\nimport { CircleX, CloudUpload, ImageIcon, TriangleAlert, XIcon } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface ImageFile {\n  id: string;\n  file: File;\n  preview: string;\n  progress: number;\n  status: 'uploading' | 'completed' | 'error';\n  error?: string;\n}\n\ninterface ImageUploadProps {\n  maxFiles?: number;\n  maxSize?: number;\n  accept?: string;\n  className?: string;\n  onImagesChange?: (images: ImageFile[]) => void;\n  onUploadComplete?: (images: ImageFile[]) => void;\n}\n\nexport default function ImageUpload({\n  maxFiles = 10,\n  maxSize = 2 * 1024 * 1024, // 2MB\n  accept = 'image/*',\n  className,\n  onImagesChange,\n  onUploadComplete,\n}: ImageUploadProps) {\n  const [images, setImages] = useState<ImageFile[]>([]);\n  const [isDragging, setIsDragging] = useState(false);\n  const [errors, setErrors] = useState<string[]>([]);\n  const [visibleDefaultImages, setVisibleDefaultImages] = useState([\n    { id: 'default-1', src: 'https://picsum.photos/400/300?random=1', alt: 'Product view 1' },\n    { id: 'default-2', src: 'https://picsum.photos/400/300?random=2', alt: 'Product view 2' },\n    { id: 'default-3', src: 'https://picsum.photos/400/300?random=3', alt: 'Product view 3' },\n    { id: 'default-4', src: 'https://picsum.photos/400/300?random=4', alt: 'Product view 4' },\n  ]);\n\n  const validateFile = (file: File): string | null => {\n    if (!file.type.startsWith('image/')) {\n      return 'File must be an image';\n    }\n    if (file.size > maxSize) {\n      return `File size must be less than ${(maxSize / 1024 / 1024).toFixed(1)}MB`;\n    }\n    if (images.length >= maxFiles) {\n      return `Maximum ${maxFiles} files allowed`;\n    }\n    return null;\n  };\n\n  const addImages = useCallback(\n    (files: FileList | File[]) => {\n      const newImages: ImageFile[] = [];\n      const newErrors: string[] = [];\n\n      Array.from(files).forEach((file) => {\n        const error = validateFile(file);\n        if (error) {\n          newErrors.push(`${file.name}: ${error}`);\n          return;\n        }\n\n        const imageFile: ImageFile = {\n          id: `${Date.now()}-${Math.random()}`,\n          file,\n          preview: URL.createObjectURL(file),\n          progress: 0,\n          status: 'uploading',\n        };\n\n        newImages.push(imageFile);\n      });\n\n      if (newErrors.length > 0) {\n        setErrors((prev) => [...prev, ...newErrors]);\n      }\n\n      if (newImages.length > 0) {\n        const updatedImages = [...images, ...newImages];\n        setImages(updatedImages);\n        onImagesChange?.(updatedImages);\n\n        // Simulate upload progress\n        newImages.forEach((imageFile) => {\n          simulateUpload(imageFile);\n        });\n      }\n    },\n    [images, maxSize, maxFiles, onImagesChange],\n  );\n\n  const simulateUpload = (imageFile: ImageFile) => {\n    let progress = 0;\n    const interval = setInterval(() => {\n      progress += Math.random() * 20;\n      if (progress >= 100) {\n        progress = 100;\n        clearInterval(interval);\n\n        setImages((prev) =>\n          prev.map((img) => (img.id === imageFile.id ? { ...img, progress: 100, status: 'completed' as const } : img)),\n        );\n\n        // Check if all uploads are complete\n        const updatedImages = images.map((img) =>\n          img.id === imageFile.id ? { ...img, progress: 100, status: 'completed' as const } : img,\n        );\n\n        if (updatedImages.every((img) => img.status === 'completed')) {\n          onUploadComplete?.(updatedImages);\n        }\n      } else {\n        setImages((prev) => prev.map((img) => (img.id === imageFile.id ? { ...img, progress } : img)));\n      }\n    }, 100);\n  };\n\n  const removeImage = useCallback((id: string) => {\n    // If it's a default image, remove it from visible defaults\n    if (id.startsWith('default-')) {\n      setVisibleDefaultImages((prev) => prev.filter((img) => img.id !== id));\n      return;\n    }\n\n    // Remove uploaded image\n    setImages((prev) => {\n      const image = prev.find((img) => img.id === id);\n      if (image) {\n        URL.revokeObjectURL(image.preview);\n      }\n      return prev.filter((img) => img.id !== id);\n    });\n  }, []);\n\n  const handleDragEnter = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(true);\n  }, []);\n\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n  }, []);\n\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n  }, []);\n\n  const handleDrop = useCallback(\n    (e: React.DragEvent) => {\n      e.preventDefault();\n      e.stopPropagation();\n      setIsDragging(false);\n\n      const files = e.dataTransfer.files;\n      if (files.length > 0) {\n        addImages(files);\n      }\n    },\n    [addImages],\n  );\n\n  const openFileDialog = useCallback(() => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.multiple = true;\n    input.accept = accept;\n    input.onchange = (e) => {\n      const target = e.target as HTMLInputElement;\n      if (target.files) {\n        addImages(target.files);\n      }\n    };\n    input.click();\n  }, [accept, addImages]);\n\n  const formatBytes = (bytes: number): string => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\n  };\n\n  return (\n    <div className={cn('w-full max-w-4xl', className)}>\n      {/* Image Grid - Moved to top */}\n      <div className=\"mb-6\">\n        <div className=\"grid grid-cols-4 gap-2.5\">\n          {/* Always show all visible default images first */}\n          {visibleDefaultImages.map((defaultImg) => (\n            <Card\n              key={defaultImg.id}\n              className=\"flex items-center justify-center rounded-md bg-accent/50 shadow-none shrink-0 relative group\"\n            >\n              <img src={defaultImg.src} className=\"h-[120px] w-full object-cover rounded-md\" alt={defaultImg.alt} />\n\n              {/* Remove Button Overlay for default images too */}\n              <Button\n                onClick={() => removeImage(defaultImg.id)}\n                variant=\"outline\"\n                size=\"icon\"\n                className=\"shadow-sm absolute top-2 right-2 size-6 opacity-0 group-hover:opacity-100 rounded-full\"\n              >\n                <XIcon className=\"size-3.5\" />\n              </Button>\n            </Card>\n          ))}\n        </div>\n\n        {/* Show uploaded images in a separate grid below */}\n        {images.length > 0 && (\n          <div className=\"grid grid-cols-4 gap-2.5 mt-4\">\n            {images.map((imageFile, index) => (\n              <Card\n                key={imageFile.id}\n                className=\"flex items-center justify-center rounded-md bg-accent/50 shadow-none shrink-0 relative group\"\n              >\n                <img\n                  src={imageFile.preview}\n                  className=\"h-[120px] w-full object-cover rounded-md\"\n                  alt={`Product view ${index + 1}`}\n                />\n\n                {/* Remove Button Overlay */}\n                <Button\n                  onClick={() => removeImage(imageFile.id)}\n                  variant=\"outline\"\n                  size=\"icon\"\n                  className=\"shadow-sm absolute top-2 end-2 size-6 opacity-0 group-hover:opacity-100 rounded-full\"\n                >\n                  <XIcon className=\"size-3.5\" />\n                </Button>\n              </Card>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Upload Area */}\n      <Card\n        className={cn(\n          'border-dashed shadow-none rounded-md transition-colors',\n          isDragging ? 'border-primary bg-primary/5' : 'border-muted-foreground/25 hover:border-muted-foreground/50',\n        )}\n        onDragEnter={handleDragEnter}\n        onDragLeave={handleDragLeave}\n        onDragOver={handleDragOver}\n        onDrop={handleDrop}\n      >\n        <CardContent className=\"text-center\">\n          <div className=\"flex items-center justify-center size-[32px] rounded-full border border-border mx-auto mb-3\">\n            <CloudUpload className=\"size-4\" />\n          </div>\n          <h3 className=\"text-2sm text-foreground font-semibold mb-0.5\">Choose a file or drag & drop here.</h3>\n          <span className=\"text-xs text-secondary-foreground font-normal block mb-3\">\n            JPEG, PNG, up to {formatBytes(maxSize)}.\n          </span>\n          <Button size=\"sm\" variant=\"mono\" onClick={openFileDialog}>\n            Browse File\n          </Button>\n        </CardContent>\n      </Card>\n\n      {/* Upload Progress Cards */}\n      {images.length > 0 && (\n        <div className=\"mt-6 space-y-3\">\n          {images.map((imageFile) => (\n            <Card key={imageFile.id} className=\"shadow-none rounded-md\">\n              <CardContent className=\"flex items-center gap-2 p-3\">\n                <div className=\"flex items-center justify-center size-[32px] rounded-md border border-border shrink-0\">\n                  <ImageIcon className=\"size-4 text-muted-foreground\" />\n                </div>\n                <div className=\"flex flex-col gap-1.5 w-full\">\n                  <div className=\"flex items-center justify-between gap-2.5 -mt-2 w-full\">\n                    <div className=\"flex items-center gap-2.5\">\n                      <span className=\"text-xs text-foreground font-medium leading-none\">{imageFile.file.name}</span>\n                      <span className=\"text-xs text-muted-foreground font-normal leading-none\">\n                        {formatBytes(imageFile.file.size)}\n                      </span>\n                      {imageFile.status === 'uploading' && (\n                        <p className=\"text-xs text-muted-foreground\">Uploading... {Math.round(imageFile.progress)}%</p>\n                      )}\n                    </div>\n                    <Button onClick={() => removeImage(imageFile.id)} variant=\"ghost\" size=\"icon\" className=\"size-6\">\n                      <CircleX className=\"size-3.5\" />\n                    </Button>\n                  </div>\n\n                  <Progress\n                    value={imageFile.progress}\n                    className={cn('h-1 transition-all duration-300', '[&>div]:bg-zinc-950 dark:[&>div]:bg-zinc-50')}\n                  />\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n\n      {/* Error Messages */}\n      {errors.length > 0 && (\n        <Alert variant=\"destructive\" appearance=\"light\" className=\"mt-5\">\n          <AlertIcon>\n            <TriangleAlert />\n          </AlertIcon>\n          <AlertContent>\n            <AlertTitle>File upload error(s)</AlertTitle>\n            <AlertDescription>\n              {errors.map((error, index) => (\n                <p key={index} className=\"last:mb-0\">\n                  {error}\n                </p>\n              ))}\n            </AlertDescription>\n          </AlertContent>\n        </Alert>\n      )}\n    </div>\n  );\n}\n",
    "highlightedCode": "<pre class=\"shiki github-dark-default\" style=\"background-color:#0d1117;color:#e6edf3\" tabindex=\"0\"><code data-line-numbers=\"\"><span class=\"line\"><span style=\"color:#A5D6FF\">'use client'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { useCallback, useState } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'react'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Alert, AlertContent, AlertDescription, AlertIcon, AlertTitle } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/alert'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Button } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/button'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Card, CardContent } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/card'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Progress } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/progress'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { CircleX, CloudUpload, ImageIcon, TriangleAlert, XIcon } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'lucide-react'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { cn } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/lib/utils'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">interface</span><span style=\"color:#FFA657\"> ImageFile</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  id</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  file</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  preview</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  progress</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  status</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#A5D6FF\"> 'uploading'</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#A5D6FF\"> 'completed'</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#A5D6FF\"> 'error'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  error</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">interface</span><span style=\"color:#FFA657\"> ImageUploadProps</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxFiles</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  accept</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">  onImagesChange</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">images</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> ImageFile</span><span style=\"color:#E6EDF3\">[]) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#79C0FF\"> void</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">  onUploadComplete</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">images</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> ImageFile</span><span style=\"color:#E6EDF3\">[]) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#79C0FF\"> void</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">export</span><span style=\"color:#FF7B72\"> default</span><span style=\"color:#FF7B72\"> function</span><span style=\"color:#D2A8FF\"> ImageUpload</span><span style=\"color:#FFA657\">({</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxFiles </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 10</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 2</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FFA657\">, </span><span style=\"color:#8B949E\">// 2MB</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  accept </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\"> 'image/*'</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  onImagesChange,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  onUploadComplete,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">}</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> ImageUploadProps) </span><span style=\"color:#E6EDF3\">{</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#79C0FF\">images</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">setImages</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useState</span><span style=\"color:#E6EDF3\">&#x3C;</span><span style=\"color:#FFA657\">ImageFile</span><span style=\"color:#E6EDF3\">[]>([]);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#79C0FF\">isDragging</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">setIsDragging</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useState</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">false</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#79C0FF\">errors</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">setErrors</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useState</span><span style=\"color:#E6EDF3\">&#x3C;</span><span style=\"color:#79C0FF\">string</span><span style=\"color:#E6EDF3\">[]>([]);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#79C0FF\">visibleDefaultImages</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">setVisibleDefaultImages</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useState</span><span style=\"color:#E6EDF3\">([</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { id: </span><span style=\"color:#A5D6FF\">'default-1'</span><span style=\"color:#E6EDF3\">, src: </span><span style=\"color:#A5D6FF\">'https://picsum.photos/400/300?random=1'</span><span style=\"color:#E6EDF3\">, alt: </span><span style=\"color:#A5D6FF\">'Product view 1'</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { id: </span><span style=\"color:#A5D6FF\">'default-2'</span><span style=\"color:#E6EDF3\">, src: </span><span style=\"color:#A5D6FF\">'https://picsum.photos/400/300?random=2'</span><span style=\"color:#E6EDF3\">, alt: </span><span style=\"color:#A5D6FF\">'Product view 2'</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { id: </span><span style=\"color:#A5D6FF\">'default-3'</span><span style=\"color:#E6EDF3\">, src: </span><span style=\"color:#A5D6FF\">'https://picsum.photos/400/300?random=3'</span><span style=\"color:#E6EDF3\">, alt: </span><span style=\"color:#A5D6FF\">'Product view 3'</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { id: </span><span style=\"color:#A5D6FF\">'default-4'</span><span style=\"color:#E6EDF3\">, src: </span><span style=\"color:#A5D6FF\">'https://picsum.photos/400/300?random=4'</span><span style=\"color:#E6EDF3\">, alt: </span><span style=\"color:#A5D6FF\">'Product view 4'</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  ]);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> validateFile</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">file</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#79C0FF\"> null</span><span style=\"color:#FF7B72\"> =></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FF7B72\">!</span><span style=\"color:#E6EDF3\">file.type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'image/'</span><span style=\"color:#E6EDF3\">)) {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      return</span><span style=\"color:#A5D6FF\"> 'File must be an image'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    }</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (file.size </span><span style=\"color:#FF7B72\">></span><span style=\"color:#E6EDF3\"> maxSize) {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      return</span><span style=\"color:#A5D6FF\"> `File size must be less than ${</span><span style=\"color:#A5D6FF\">(</span><span style=\"color:#E6EDF3\">maxSize</span><span style=\"color:#FF7B72\"> /</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FF7B72\"> /</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#A5D6FF\">).</span><span style=\"color:#D2A8FF\">toFixed</span><span style=\"color:#A5D6FF\">(</span><span style=\"color:#79C0FF\">1</span><span style=\"color:#A5D6FF\">)</span><span style=\"color:#A5D6FF\">}MB`</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    }</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (images.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> >=</span><span style=\"color:#E6EDF3\"> maxFiles) {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      return</span><span style=\"color:#A5D6FF\"> `Maximum ${</span><span style=\"color:#E6EDF3\">maxFiles</span><span style=\"color:#A5D6FF\">} files allowed`</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    }</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    return</span><span style=\"color:#79C0FF\"> null</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> addImages</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> useCallback</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    (</span><span style=\"color:#FFA657\">files</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileList</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#E6EDF3\">[]) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      const</span><span style=\"color:#79C0FF\"> newImages</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> ImageFile</span><span style=\"color:#E6EDF3\">[] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#E6EDF3\"> [];</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      const</span><span style=\"color:#79C0FF\"> newErrors</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">[] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#E6EDF3\"> [];</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      Array.</span><span style=\"color:#D2A8FF\">from</span><span style=\"color:#E6EDF3\">(files).</span><span style=\"color:#D2A8FF\">forEach</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">file</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        const</span><span style=\"color:#79C0FF\"> error</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> validateFile</span><span style=\"color:#E6EDF3\">(file);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        if</span><span style=\"color:#E6EDF3\"> (error) {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          newErrors.</span><span style=\"color:#D2A8FF\">push</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">`${</span><span style=\"color:#E6EDF3\">file</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#E6EDF3\">name</span><span style=\"color:#A5D6FF\">}: ${</span><span style=\"color:#E6EDF3\">error</span><span style=\"color:#A5D6FF\">}`</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          return</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        const</span><span style=\"color:#79C0FF\"> imageFile</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> ImageFile</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          id: </span><span style=\"color:#A5D6FF\">`${</span><span style=\"color:#E6EDF3\">Date</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#D2A8FF\">now</span><span style=\"color:#A5D6FF\">()</span><span style=\"color:#A5D6FF\">}-${</span><span style=\"color:#E6EDF3\">Math</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#D2A8FF\">random</span><span style=\"color:#A5D6FF\">()</span><span style=\"color:#A5D6FF\">}`</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          file,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          preview: </span><span style=\"color:#79C0FF\">URL</span><span style=\"color:#E6EDF3\">.</span><span style=\"color:#D2A8FF\">createObjectURL</span><span style=\"color:#E6EDF3\">(file),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          progress: </span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          status: </span><span style=\"color:#A5D6FF\">'uploading'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        newImages.</span><span style=\"color:#D2A8FF\">push</span><span style=\"color:#E6EDF3\">(imageFile);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      if</span><span style=\"color:#E6EDF3\"> (newErrors.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#E6EDF3\">) {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        setErrors</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">prev, </span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">newErrors]);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      if</span><span style=\"color:#E6EDF3\"> (newImages.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#E6EDF3\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        const</span><span style=\"color:#79C0FF\"> updatedImages</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">images, </span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">newImages];</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        setImages</span><span style=\"color:#E6EDF3\">(updatedImages);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        onImagesChange</span><span style=\"color:#E6EDF3\">?.(updatedImages);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">        // Simulate upload progress</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        newImages.</span><span style=\"color:#D2A8FF\">forEach</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">imageFile</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">          simulateUpload</span><span style=\"color:#E6EDF3\">(imageFile);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        });</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      }</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    [images, maxSize, maxFiles, onImagesChange],</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> simulateUpload</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">imageFile</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> ImageFile</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    let</span><span style=\"color:#E6EDF3\"> progress </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> interval</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> setInterval</span><span style=\"color:#E6EDF3\">(() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      progress </span><span style=\"color:#FF7B72\">+=</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">random</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">*</span><span style=\"color:#79C0FF\"> 20</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      if</span><span style=\"color:#E6EDF3\"> (progress </span><span style=\"color:#FF7B72\">>=</span><span style=\"color:#79C0FF\"> 100</span><span style=\"color:#E6EDF3\">) {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        progress </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 100</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        clearInterval</span><span style=\"color:#E6EDF3\">(interval);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        setImages</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          prev.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">img</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (img.id </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#E6EDF3\"> imageFile.id </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> { </span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">img, progress: </span><span style=\"color:#79C0FF\">100</span><span style=\"color:#E6EDF3\">, status: </span><span style=\"color:#A5D6FF\">'completed'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\"> } </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> img)),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">        // Check if all uploads are complete</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        const</span><span style=\"color:#79C0FF\"> updatedImages</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> images.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">img</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          img.id </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#E6EDF3\"> imageFile.id </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> { </span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">img, progress: </span><span style=\"color:#79C0FF\">100</span><span style=\"color:#E6EDF3\">, status: </span><span style=\"color:#A5D6FF\">'completed'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\"> } </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> img,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        if</span><span style=\"color:#E6EDF3\"> (updatedImages.</span><span style=\"color:#D2A8FF\">every</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">img</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> img.status </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#A5D6FF\"> 'completed'</span><span style=\"color:#E6EDF3\">)) {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">          onUploadComplete</span><span style=\"color:#E6EDF3\">?.(updatedImages);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        }</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      } </span><span style=\"color:#FF7B72\">else</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        setImages</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> prev.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">img</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (img.id </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#E6EDF3\"> imageFile.id </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> { </span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">img, progress } </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> img)));</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      }</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    }, </span><span style=\"color:#79C0FF\">100</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> removeImage</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> useCallback</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">id</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">    // If it's a default image, remove it from visible defaults</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (id.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'default-'</span><span style=\"color:#E6EDF3\">)) {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      setVisibleDefaultImages</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> prev.</span><span style=\"color:#D2A8FF\">filter</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">img</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> img.id </span><span style=\"color:#FF7B72\">!==</span><span style=\"color:#E6EDF3\"> id));</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      return</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">    // Remove uploaded image</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    setImages</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      const</span><span style=\"color:#79C0FF\"> image</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> prev.</span><span style=\"color:#D2A8FF\">find</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">img</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> img.id </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#E6EDF3\"> id);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      if</span><span style=\"color:#E6EDF3\"> (image) {</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        URL</span><span style=\"color:#E6EDF3\">.</span><span style=\"color:#D2A8FF\">revokeObjectURL</span><span style=\"color:#E6EDF3\">(image.preview);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      }</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      return</span><span style=\"color:#E6EDF3\"> prev.</span><span style=\"color:#D2A8FF\">filter</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">img</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> img.id </span><span style=\"color:#FF7B72\">!==</span><span style=\"color:#E6EDF3\"> id);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    });</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  }, []);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> handleDragEnter</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> useCallback</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">e</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> React</span><span style=\"color:#E6EDF3\">.</span><span style=\"color:#FFA657\">DragEvent</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    e.</span><span style=\"color:#D2A8FF\">preventDefault</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    e.</span><span style=\"color:#D2A8FF\">stopPropagation</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    setIsDragging</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">true</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  }, []);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> handleDragLeave</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> useCallback</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">e</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> React</span><span style=\"color:#E6EDF3\">.</span><span style=\"color:#FFA657\">DragEvent</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    e.</span><span style=\"color:#D2A8FF\">preventDefault</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    e.</span><span style=\"color:#D2A8FF\">stopPropagation</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    setIsDragging</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">false</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  }, []);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> handleDragOver</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> useCallback</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">e</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> React</span><span style=\"color:#E6EDF3\">.</span><span style=\"color:#FFA657\">DragEvent</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    e.</span><span style=\"color:#D2A8FF\">preventDefault</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    e.</span><span style=\"color:#D2A8FF\">stopPropagation</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  }, []);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> handleDrop</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> useCallback</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    (</span><span style=\"color:#FFA657\">e</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> React</span><span style=\"color:#E6EDF3\">.</span><span style=\"color:#FFA657\">DragEvent</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      e.</span><span style=\"color:#D2A8FF\">preventDefault</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      e.</span><span style=\"color:#D2A8FF\">stopPropagation</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      setIsDragging</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">false</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      const</span><span style=\"color:#79C0FF\"> files</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> e.dataTransfer.files;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      if</span><span style=\"color:#E6EDF3\"> (files.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#E6EDF3\">) {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        addImages</span><span style=\"color:#E6EDF3\">(files);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      }</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    [addImages],</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> openFileDialog</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> useCallback</span><span style=\"color:#E6EDF3\">(() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> input</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> document.</span><span style=\"color:#D2A8FF\">createElement</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'input'</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    input.type </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\"> 'file'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    input.multiple </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> true</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    input.accept </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#E6EDF3\"> accept;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    input.</span><span style=\"color:#D2A8FF\">onchange</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">e</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      const</span><span style=\"color:#79C0FF\"> target</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> e.target </span><span style=\"color:#FF7B72\">as</span><span style=\"color:#FFA657\"> HTMLInputElement</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      if</span><span style=\"color:#E6EDF3\"> (target.files) {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        addImages</span><span style=\"color:#E6EDF3\">(target.files);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      }</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    };</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    input.</span><span style=\"color:#D2A8FF\">click</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  }, [accept, addImages]);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> formatBytes</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">bytes</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#FF7B72\"> =></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (bytes </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#A5D6FF\"> '0 Bytes'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> k</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> sizes</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#A5D6FF\">'Bytes'</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#A5D6FF\">'KB'</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#A5D6FF\">'MB'</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#A5D6FF\">'GB'</span><span style=\"color:#E6EDF3\">];</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> i</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">floor</span><span style=\"color:#E6EDF3\">(Math.</span><span style=\"color:#D2A8FF\">log</span><span style=\"color:#E6EDF3\">(bytes) </span><span style=\"color:#FF7B72\">/</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">log</span><span style=\"color:#E6EDF3\">(k));</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    return</span><span style=\"color:#D2A8FF\"> parseFloat</span><span style=\"color:#E6EDF3\">((bytes </span><span style=\"color:#FF7B72\">/</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">pow</span><span style=\"color:#E6EDF3\">(k, i)).</span><span style=\"color:#D2A8FF\">toFixed</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">1</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">+</span><span style=\"color:#A5D6FF\"> ' '</span><span style=\"color:#FF7B72\"> +</span><span style=\"color:#E6EDF3\"> sizes[i];</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  return</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'w-full max-w-4xl'</span><span style=\"color:#E6EDF3\">, className)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Image Grid - Moved to top */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mb-6\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"grid grid-cols-4 gap-2.5\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          {</span><span style=\"color:#8B949E\">/* Always show all visible default images first */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          {</span><span style=\"color:#E6EDF3\">visibleDefaultImages.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">defaultImg</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">Card</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">              key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">defaultImg.id</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">              className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center justify-center rounded-md bg-accent/50 shadow-none shrink-0 relative group\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">img</span><span style=\"color:#79C0FF\"> src</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">defaultImg.src</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-[120px] w-full object-cover rounded-md\"</span><span style=\"color:#79C0FF\"> alt</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">defaultImg.alt</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#8B949E\">/* Remove Button Overlay for default images too */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">Button</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> removeImage</span><span style=\"color:#E6EDF3\">(defaultImg.id)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"outline\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"icon\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"shadow-sm absolute top-2 right-2 size-6 opacity-0 group-hover:opacity-100 rounded-full\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">XIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-3.5\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">Card</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        {</span><span style=\"color:#8B949E\">/* Show uploaded images in a separate grid below */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        {</span><span style=\"color:#E6EDF3\">images.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"grid grid-cols-4 gap-2.5 mt-4\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            {</span><span style=\"color:#E6EDF3\">images.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">imageFile</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#FFA657\">index</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">Card</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">imageFile.id</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center justify-center rounded-md bg-accent/50 shadow-none shrink-0 relative group\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">img</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  src</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">imageFile.preview</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-[120px] w-full object-cover rounded-md\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  alt</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#A5D6FF\">`Product view ${</span><span style=\"color:#E6EDF3\">index</span><span style=\"color:#FF7B72\"> +</span><span style=\"color:#79C0FF\"> 1</span><span style=\"color:#A5D6FF\">}`</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                /></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                {</span><span style=\"color:#8B949E\">/* Remove Button Overlay */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">Button</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> removeImage</span><span style=\"color:#E6EDF3\">(imageFile.id)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"outline\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"icon\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"shadow-sm absolute top-2 end-2 size-6 opacity-0 group-hover:opacity-100 rounded-full\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">XIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-3.5\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">Card</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Upload Area */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;</span><span style=\"color:#7EE787\">Card</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#A5D6FF\">          'border-dashed shadow-none rounded-md transition-colors'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          isDragging </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'border-primary bg-primary/5'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'border-muted-foreground/25 hover:border-muted-foreground/50'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragEnter</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragEnter</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragLeave</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragLeave</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragOver</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragOver</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDrop</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDrop</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">CardContent</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-center\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center justify-center size-[32px] rounded-full border border-border mx-auto mb-3\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">CloudUpload</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">h3</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-2sm text-foreground font-semibold mb-0.5\"</span><span style=\"color:#E6EDF3\">>Choose a file or drag &#x26; drop here.&#x3C;/</span><span style=\"color:#7EE787\">h3</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">span</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-secondary-foreground font-normal block mb-3\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            JPEG, PNG, up to </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#E6EDF3\">(maxSize)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">.</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">span</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mono\"</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">openFileDialog</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            Browse File</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">CardContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;/</span><span style=\"color:#7EE787\">Card</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Upload Progress Cards */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">images.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mt-6 space-y-3\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          {</span><span style=\"color:#E6EDF3\">images.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">imageFile</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">Card</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">imageFile.id</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"shadow-none rounded-md\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">CardContent</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center gap-2 p-3\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center justify-center size-[32px] rounded-md border border-border shrink-0\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">ImageIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4 text-muted-foreground\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex flex-col gap-1.5 w-full\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center justify-between gap-2.5 -mt-2 w-full\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center gap-2.5\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">span</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-foreground font-medium leading-none\"</span><span style=\"color:#E6EDF3\">></span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">imageFile.file.name</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">&#x3C;/</span><span style=\"color:#7EE787\">span</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">span</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-muted-foreground font-normal leading-none\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                        {</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#E6EDF3\">(imageFile.file.size)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;/</span><span style=\"color:#7EE787\">span</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                      {</span><span style=\"color:#E6EDF3\">imageFile.status </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#A5D6FF\"> 'uploading'</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-muted-foreground\"</span><span style=\"color:#E6EDF3\">>Uploading... </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">Math.</span><span style=\"color:#D2A8FF\">round</span><span style=\"color:#E6EDF3\">(imageFile.progress)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">%&#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> removeImage</span><span style=\"color:#E6EDF3\">(imageFile.id)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"ghost\"</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"icon\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-6\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">CircleX</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-3.5\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">Progress</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                    value</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">imageFile.progress</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                    className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'h-1 transition-all duration-300'</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#A5D6FF\">'[&#x26;>div]:bg-zinc-950 dark:[&#x26;>div]:bg-zinc-50'</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">CardContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">Card</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Error Messages */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"destructive\"</span><span style=\"color:#79C0FF\"> appearance</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"light\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mt-5\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">TriangleAlert</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">>File upload error(s)&#x3C;/</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">error</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#FFA657\">index</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">index</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"last:mb-0\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#E6EDF3\">error</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span></code></pre>"
  },
  "file-upload/progress-upload": {
    "code": "'use client';\n\nimport { useEffect, useState } from 'react';\nimport {\n  formatBytes,\n  useFileUpload,\n  type FileMetadata,\n  type FileWithPreview,\n} from '@/hooks/use-file-upload';\nimport {\n  Alert,\n  AlertContent,\n  AlertDescription,\n  AlertIcon,\n  AlertTitle,\n  AlertToolbar,\n} from '@/components/ui/alert';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Progress } from '@/components/ui/progress';\nimport {\n  FileArchiveIcon,\n  FileSpreadsheetIcon,\n  FileTextIcon,\n  HeadphonesIcon,\n  ImageIcon,\n  RefreshCwIcon,\n  TriangleAlert,\n  UploadIcon,\n  VideoIcon,\n  XIcon,\n} from 'lucide-react';\nimport { toAbsoluteUrl } from '@/lib/helpers';\nimport { cn } from '@/lib/utils';\n\ninterface FileUploadItem extends FileWithPreview {\n  progress: number;\n  status: 'uploading' | 'completed' | 'error';\n  error?: string;\n}\n\ninterface ProgressUploadProps {\n  maxFiles?: number;\n  maxSize?: number;\n  accept?: string;\n  multiple?: boolean;\n  className?: string;\n  onFilesChange?: (files: FileWithPreview[]) => void;\n  simulateUpload?: boolean;\n}\n\nexport default function ProgressUpload({\n  maxFiles = 5,\n  maxSize = 10 * 1024 * 1024, // 10MB\n  accept = '*',\n  multiple = true,\n  className,\n  onFilesChange,\n  simulateUpload = true,\n}: ProgressUploadProps) {\n  // Create default images using FileMetadata type\n  const defaultImages: FileMetadata[] = [\n    {\n      id: 'default-3',\n      name: 'avatar-3.png',\n      size: 42048,\n      type: 'image/png',\n      url: toAbsoluteUrl('/media/avatars/3.png'),\n    },\n    {\n      id: 'default-4',\n      name: 'avatar-4.png',\n      size: 62807,\n      type: 'image/png',\n      url: toAbsoluteUrl('/media/avatars/4.png'),\n    },\n  ];\n\n  // Convert default images to FileUploadItem format\n  const defaultUploadFiles: FileUploadItem[] = defaultImages.map((image) => ({\n    id: image.id,\n    file: {\n      name: image.name,\n      size: image.size,\n      type: image.type,\n    } as File,\n    preview: image.url,\n    progress: 100,\n    status: 'completed' as const,\n  }));\n\n  const [uploadFiles, setUploadFiles] = useState<FileUploadItem[]>(defaultUploadFiles);\n\n  const [\n    { isDragging, errors },\n    {\n      removeFile,\n      clearFiles,\n      handleDragEnter,\n      handleDragLeave,\n      handleDragOver,\n      handleDrop,\n      openFileDialog,\n      getInputProps,\n    },\n  ] = useFileUpload({\n    maxFiles,\n    maxSize,\n    accept,\n    multiple,\n    initialFiles: defaultImages,\n    onFilesChange: (newFiles) => {\n      // Convert to upload items when files change, preserving existing status\n      const newUploadFiles = newFiles.map((file) => {\n        // Check if this file already exists in uploadFiles\n        const existingFile = uploadFiles.find((existing) => existing.id === file.id);\n\n        if (existingFile) {\n          // Preserve existing file status and progress\n          return {\n            ...existingFile,\n            ...file, // Update any changed properties from the file\n          };\n        } else {\n          // New file - set to uploading\n          return {\n            ...file,\n            progress: 0,\n            status: 'uploading' as const,\n          };\n        }\n      });\n      setUploadFiles(newUploadFiles);\n      onFilesChange?.(newFiles);\n    },\n  });\n\n  // Simulate upload progress\n  useEffect(() => {\n    if (!simulateUpload) return;\n\n    const interval = setInterval(() => {\n      setUploadFiles((prev) =>\n        prev.map((file) => {\n          if (file.status !== 'uploading') return file;\n\n          const increment = Math.random() * 15 + 5; // 5-20% increment\n          const newProgress = Math.min(file.progress + increment, 100);\n\n          // Simulate occasional errors (10% chance when progress > 50%)\n          if (newProgress > 50 && Math.random() < 0.1) {\n            return {\n              ...file,\n              status: 'error' as const,\n              error: 'Upload failed. Please try again.',\n            };\n          }\n\n          // Complete when progress reaches 100%\n          if (newProgress >= 100) {\n            return {\n              ...file,\n              progress: 100,\n              status: 'completed' as const,\n            };\n          }\n\n          return {\n            ...file,\n            progress: newProgress,\n          };\n        }),\n      );\n    }, 500);\n\n    return () => clearInterval(interval);\n  }, [simulateUpload]);\n\n  const retryUpload = (fileId: string) => {\n    setUploadFiles((prev) =>\n      prev.map((file) =>\n        file.id === fileId\n          ? {\n              ...file,\n              progress: 0,\n              status: 'uploading' as const,\n              error: undefined,\n            }\n          : file,\n      ),\n    );\n  };\n\n  const removeUploadFile = (fileId: string) => {\n    setUploadFiles((prev) => prev.filter((file) => file.id !== fileId));\n    removeFile(fileId);\n  };\n\n  const getFileIcon = (file: File | FileMetadata) => {\n    const type = file instanceof File ? file.type : file.type;\n    if (type.startsWith('image/')) return <ImageIcon className=\"size-4\" />;\n    if (type.startsWith('video/')) return <VideoIcon className=\"size-4\" />;\n    if (type.startsWith('audio/')) return <HeadphonesIcon className=\"size-4\" />;\n    if (type.includes('pdf')) return <FileTextIcon className=\"size-4\" />;\n    if (type.includes('word') || type.includes('doc')) return <FileTextIcon className=\"size-4\" />;\n    if (type.includes('excel') || type.includes('sheet')) return <FileSpreadsheetIcon className=\"size-4\" />;\n    if (type.includes('zip') || type.includes('rar')) return <FileArchiveIcon className=\"size-4\" />;\n    return <FileTextIcon className=\"size-4\" />;\n  };\n\n  const completedCount = uploadFiles.filter((f) => f.status === 'completed').length;\n  const errorCount = uploadFiles.filter((f) => f.status === 'error').length;\n  const uploadingCount = uploadFiles.filter((f) => f.status === 'uploading').length;\n\n  return (\n    <div className={cn('w-full max-w-2xl', className)}>\n      {/* Upload Area */}\n      <div\n        className={cn(\n          'relative rounded-lg border border-dashed p-8 text-center transition-colors',\n          isDragging ? 'border-primary bg-primary/5' : 'border-muted-foreground/25 hover:border-muted-foreground/50',\n        )}\n        onDragEnter={handleDragEnter}\n        onDragLeave={handleDragLeave}\n        onDragOver={handleDragOver}\n        onDrop={handleDrop}\n      >\n        <input {...getInputProps()} className=\"sr-only\" />\n\n        <div className=\"flex flex-col items-center gap-4\">\n          <div\n            className={cn(\n              'flex h-16 w-16 items-center justify-center rounded-full',\n              isDragging ? 'bg-primary/10' : 'bg-muted',\n            )}\n          >\n            <UploadIcon className={cn('h-6', isDragging ? 'text-primary' : 'text-muted-foreground')} />\n          </div>\n\n          <div className=\"space-y-2\">\n            <h3 className=\"text-lg font-semibold\">Upload your files</h3>\n            <p className=\"text-sm text-muted-foreground\">Drag and drop files here or click to browse</p>\n            <p className=\"text-xs text-muted-foreground\">\n              Support for multiple file types up to {formatBytes(maxSize)} each\n            </p>\n          </div>\n\n          <Button onClick={openFileDialog}>\n            <UploadIcon />\n            Select files\n          </Button>\n        </div>\n      </div>\n\n      {/* Upload Stats */}\n      {uploadFiles.length > 0 && (\n        <div className=\"flex items-center justify-between mt-6\">\n          <div className=\"flex items-center gap-2\">\n            <h4 className=\"text-sm font-medium\">Upload Progress</h4>\n            <div className=\"flex items-center gap-2\">\n              {completedCount > 0 && (\n                <Badge size=\"sm\" variant=\"success\" appearance=\"light\">\n                  Completed: {completedCount}\n                </Badge>\n              )}\n              {errorCount > 0 && (\n                <Badge size=\"sm\" variant=\"destructive\" appearance=\"light\">\n                  Failed: {errorCount}\n                </Badge>\n              )}\n              {uploadingCount > 0 && (\n                <Badge size=\"sm\" variant=\"secondary\">\n                  Uploading: {uploadingCount}\n                </Badge>\n              )}\n            </div>\n          </div>\n\n          <Button onClick={clearFiles} variant=\"outline\" size=\"sm\">\n            Clear all\n          </Button>\n        </div>\n      )}\n\n      {/* File List */}\n      {uploadFiles.length > 0 && (\n        <div className=\"mt-4 space-y-3\">\n          {uploadFiles.map((fileItem) => (\n            <div key={fileItem.id} className=\"rounded-lg border border-border bg-card p-4\">\n              <div className=\"flex items-start gap-2.5\">\n                {/* File Icon */}\n                <div className=\"flex-shrink-0\">\n                  {fileItem.preview && fileItem.file.type.startsWith('image/') ? (\n                    <img\n                      src={fileItem.preview}\n                      alt={fileItem.file.name}\n                      className=\"h-12 w-12 rounded-lg border object-cover\"\n                    />\n                  ) : (\n                    <div className=\"flex h-12 w-12 items-center justify-center rounded-lg border border-border text-muted-foreground\">\n                      {getFileIcon(fileItem.file)}\n                    </div>\n                  )}\n                </div>\n\n                {/* File Info */}\n                <div className=\"min-w-0 flex-1\">\n                  <div className=\"flex items-center justify-between mt-0.75\">\n                    <p className=\"inline-flex flex-col justify-center gap-1 truncate font-medium\">\n                      <span className=\"text-sm\">{fileItem.file.name}</span>\n                      <span className=\"text-xs text-muted-foreground\">{formatBytes(fileItem.file.size)}</span>\n                    </p>\n                    <div className=\"flex items-center gap-2\">\n                      {/* Remove Button */}\n                      <Button\n                        onClick={() => removeUploadFile(fileItem.id)}\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        className=\"size-6 text-muted-foreground hover:opacity-100 hover:bg-transparent\"\n                      >\n                        <XIcon className=\"size-4\" />\n                      </Button>\n                    </div>\n                  </div>\n\n                  {/* Progress Bar */}\n                  {fileItem.status === 'uploading' && (\n                    <div className=\"mt-2\">\n                      <Progress value={fileItem.progress} className=\"h-1\" />\n                    </div>\n                  )}\n\n                  {/* Error Message */}\n                  {fileItem.status === 'error' && fileItem.error && (\n                    <Alert variant=\"destructive\" appearance=\"light\" className=\"items-center gap-1.5 mt-2 px-2 py-1\">\n                      <AlertIcon>\n                        <TriangleAlert className=\"size-4!\" />\n                      </AlertIcon>\n                      <AlertTitle className=\"text-xs\">{fileItem.error}</AlertTitle>\n                      <AlertToolbar>\n                        <Button\n                          onClick={() => retryUpload(fileItem.id)}\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"size-6 text-muted-foreground hover:opacity-100 hover:bg-transparent\"\n                        >\n                          <RefreshCwIcon className=\"size-3.5\" />\n                        </Button>\n                      </AlertToolbar>\n                    </Alert>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Error Messages */}\n      {errors.length > 0 && (\n        <Alert variant=\"destructive\" appearance=\"light\" className=\"mt-5\">\n          <AlertIcon>\n            <TriangleAlert />\n          </AlertIcon>\n          <AlertContent>\n            <AlertTitle>File upload error(s)</AlertTitle>\n            <AlertDescription>\n              {errors.map((error, index) => (\n                <p key={index} className=\"last:mb-0\">\n                  {error}\n                </p>\n              ))}\n            </AlertDescription>\n          </AlertContent>\n        </Alert>\n      )}\n    </div>\n  );\n}\n",
    "highlightedCode": "<pre class=\"shiki github-dark-default\" style=\"background-color:#0d1117;color:#e6edf3\" tabindex=\"0\"><code data-line-numbers=\"\"><span class=\"line\"><span style=\"color:#A5D6FF\">'use client'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { useEffect, useState } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'react'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  formatBytes,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  useFileUpload,</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  type</span><span style=\"color:#E6EDF3\"> FileMetadata,</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  type</span><span style=\"color:#E6EDF3\"> FileWithPreview,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">} </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/hooks/use-file-upload'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  Alert,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  AlertContent,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  AlertDescription,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  AlertIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  AlertTitle,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  AlertToolbar,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">} </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/alert'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Badge } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/badge'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Button } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/button'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Progress } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/progress'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  FileArchiveIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  FileSpreadsheetIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  FileTextIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  HeadphonesIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  ImageIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  RefreshCwIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  TriangleAlert,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  UploadIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  VideoIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  XIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">} </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'lucide-react'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { toAbsoluteUrl } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/lib/helpers'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { cn } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/lib/utils'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">interface</span><span style=\"color:#FFA657\"> FileUploadItem</span><span style=\"color:#FF7B72\"> extends</span><span style=\"color:#79C0FF\"> FileWithPreview</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  progress</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  status</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#A5D6FF\"> 'uploading'</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#A5D6FF\"> 'completed'</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#A5D6FF\"> 'error'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  error</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">interface</span><span style=\"color:#FFA657\"> ProgressUploadProps</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxFiles</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  accept</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  multiple</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> boolean</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">  onFilesChange</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">files</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileWithPreview</span><span style=\"color:#E6EDF3\">[]) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#79C0FF\"> void</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  simulateUpload</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> boolean</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">export</span><span style=\"color:#FF7B72\"> default</span><span style=\"color:#FF7B72\"> function</span><span style=\"color:#D2A8FF\"> ProgressUpload</span><span style=\"color:#FFA657\">({</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxFiles </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 5</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 10</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FFA657\">, </span><span style=\"color:#8B949E\">// 10MB</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  accept </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\"> '*'</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  multiple </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> true</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  onFilesChange,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  simulateUpload </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> true</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">}</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> ProgressUploadProps) </span><span style=\"color:#E6EDF3\">{</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">  // Create default images using FileMetadata type</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> defaultImages</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileMetadata</span><span style=\"color:#E6EDF3\">[] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#E6EDF3\"> [</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      id: </span><span style=\"color:#A5D6FF\">'default-3'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      name: </span><span style=\"color:#A5D6FF\">'avatar-3.png'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      size: </span><span style=\"color:#79C0FF\">42048</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      type: </span><span style=\"color:#A5D6FF\">'image/png'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      url: </span><span style=\"color:#D2A8FF\">toAbsoluteUrl</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'/media/avatars/3.png'</span><span style=\"color:#E6EDF3\">),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      id: </span><span style=\"color:#A5D6FF\">'default-4'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      name: </span><span style=\"color:#A5D6FF\">'avatar-4.png'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      size: </span><span style=\"color:#79C0FF\">62807</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      type: </span><span style=\"color:#A5D6FF\">'image/png'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      url: </span><span style=\"color:#D2A8FF\">toAbsoluteUrl</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'/media/avatars/4.png'</span><span style=\"color:#E6EDF3\">),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  ];</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">  // Convert default images to FileUploadItem format</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> defaultUploadFiles</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileUploadItem</span><span style=\"color:#E6EDF3\">[] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#E6EDF3\"> defaultImages.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">image</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> ({</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    id: image.id,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    file: {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      name: image.name,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      size: image.size,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      type: image.type,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    } </span><span style=\"color:#FF7B72\">as</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    preview: image.url,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    progress: </span><span style=\"color:#79C0FF\">100</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    status: </span><span style=\"color:#A5D6FF\">'completed'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  }));</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#79C0FF\">uploadFiles</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">setUploadFiles</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useState</span><span style=\"color:#E6EDF3\">&#x3C;</span><span style=\"color:#FFA657\">FileUploadItem</span><span style=\"color:#E6EDF3\">[]>(defaultUploadFiles);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { </span><span style=\"color:#79C0FF\">isDragging</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">errors</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    {</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      removeFile</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      clearFiles</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDragEnter</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDragLeave</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDragOver</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDrop</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      openFileDialog</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      getInputProps</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  ] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useFileUpload</span><span style=\"color:#E6EDF3\">({</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    maxFiles,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    maxSize,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    accept,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    multiple,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    initialFiles: defaultImages,</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    onFilesChange</span><span style=\"color:#E6EDF3\">: (</span><span style=\"color:#FFA657\">newFiles</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">      // Convert to upload items when files change, preserving existing status</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      const</span><span style=\"color:#79C0FF\"> newUploadFiles</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> newFiles.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">file</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">        // Check if this file already exists in uploadFiles</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        const</span><span style=\"color:#79C0FF\"> existingFile</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> uploadFiles.</span><span style=\"color:#D2A8FF\">find</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">existing</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> existing.id </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#E6EDF3\"> file.id);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        if</span><span style=\"color:#E6EDF3\"> (existingFile) {</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">          // Preserve existing file status and progress</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          return</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            ...</span><span style=\"color:#E6EDF3\">existingFile,</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            ...</span><span style=\"color:#E6EDF3\">file, </span><span style=\"color:#8B949E\">// Update any changed properties from the file</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          };</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        } </span><span style=\"color:#FF7B72\">else</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">          // New file - set to uploading</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          return</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            ...</span><span style=\"color:#E6EDF3\">file,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            progress: </span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            status: </span><span style=\"color:#A5D6FF\">'uploading'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          };</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        }</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      });</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      setUploadFiles</span><span style=\"color:#E6EDF3\">(newUploadFiles);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      onFilesChange</span><span style=\"color:#E6EDF3\">?.(newFiles);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">  // Simulate upload progress</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">  useEffect</span><span style=\"color:#E6EDF3\">(() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FF7B72\">!</span><span style=\"color:#E6EDF3\">simulateUpload) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> interval</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> setInterval</span><span style=\"color:#E6EDF3\">(() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      setUploadFiles</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        prev.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">file</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          if</span><span style=\"color:#E6EDF3\"> (file.status </span><span style=\"color:#FF7B72\">!==</span><span style=\"color:#A5D6FF\"> 'uploading'</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> file;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          const</span><span style=\"color:#79C0FF\"> increment</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">random</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">*</span><span style=\"color:#79C0FF\"> 15</span><span style=\"color:#FF7B72\"> +</span><span style=\"color:#79C0FF\"> 5</span><span style=\"color:#E6EDF3\">; </span><span style=\"color:#8B949E\">// 5-20% increment</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          const</span><span style=\"color:#79C0FF\"> newProgress</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">min</span><span style=\"color:#E6EDF3\">(file.progress </span><span style=\"color:#FF7B72\">+</span><span style=\"color:#E6EDF3\"> increment, </span><span style=\"color:#79C0FF\">100</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">          // Simulate occasional errors (10% chance when progress > 50%)</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          if</span><span style=\"color:#E6EDF3\"> (newProgress </span><span style=\"color:#FF7B72\">></span><span style=\"color:#79C0FF\"> 50</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">random</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">&#x3C;</span><span style=\"color:#79C0FF\"> 0.1</span><span style=\"color:#E6EDF3\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            return</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              ...</span><span style=\"color:#E6EDF3\">file,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              status: </span><span style=\"color:#A5D6FF\">'error'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              error: </span><span style=\"color:#A5D6FF\">'Upload failed. Please try again.'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            };</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">          // Complete when progress reaches 100%</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          if</span><span style=\"color:#E6EDF3\"> (newProgress </span><span style=\"color:#FF7B72\">>=</span><span style=\"color:#79C0FF\"> 100</span><span style=\"color:#E6EDF3\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            return</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              ...</span><span style=\"color:#E6EDF3\">file,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              progress: </span><span style=\"color:#79C0FF\">100</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              status: </span><span style=\"color:#A5D6FF\">'completed'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            };</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          return</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            ...</span><span style=\"color:#E6EDF3\">file,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            progress: newProgress,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          };</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        }),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      );</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    }, </span><span style=\"color:#79C0FF\">500</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    return</span><span style=\"color:#E6EDF3\"> () </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> clearInterval</span><span style=\"color:#E6EDF3\">(interval);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  }, [simulateUpload]);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> retryUpload</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">fileId</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    setUploadFiles</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      prev.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">file</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        file.id </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#E6EDF3\"> fileId</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          ?</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              ...</span><span style=\"color:#E6EDF3\">file,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              progress: </span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              status: </span><span style=\"color:#A5D6FF\">'uploading'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              error: </span><span style=\"color:#79C0FF\">undefined</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            }</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          :</span><span style=\"color:#E6EDF3\"> file,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      ),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    );</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> removeUploadFile</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">fileId</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    setUploadFiles</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> prev.</span><span style=\"color:#D2A8FF\">filter</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">file</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> file.id </span><span style=\"color:#FF7B72\">!==</span><span style=\"color:#E6EDF3\"> fileId));</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    removeFile</span><span style=\"color:#E6EDF3\">(fileId);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> getFileIcon</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">file</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#FFA657\"> FileMetadata</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> type</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> file </span><span style=\"color:#FF7B72\">instanceof</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#FF7B72\"> ?</span><span style=\"color:#E6EDF3\"> file.type </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> file.type;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'image/'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">ImageIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'video/'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">VideoIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'audio/'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">HeadphonesIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'pdf'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">FileTextIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'word'</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">||</span><span style=\"color:#E6EDF3\"> type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'doc'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">FileTextIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'excel'</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">||</span><span style=\"color:#E6EDF3\"> type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'sheet'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">FileSpreadsheetIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'zip'</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">||</span><span style=\"color:#E6EDF3\"> type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'rar'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">FileArchiveIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">FileTextIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> completedCount</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> uploadFiles.</span><span style=\"color:#D2A8FF\">filter</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">f</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> f.status </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#A5D6FF\"> 'completed'</span><span style=\"color:#E6EDF3\">).</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> errorCount</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> uploadFiles.</span><span style=\"color:#D2A8FF\">filter</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">f</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> f.status </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#A5D6FF\"> 'error'</span><span style=\"color:#E6EDF3\">).</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> uploadingCount</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> uploadFiles.</span><span style=\"color:#D2A8FF\">filter</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">f</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> f.status </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#A5D6FF\"> 'uploading'</span><span style=\"color:#E6EDF3\">).</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  return</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'w-full max-w-2xl'</span><span style=\"color:#E6EDF3\">, className)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Upload Area */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;</span><span style=\"color:#7EE787\">div</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#A5D6FF\">          'relative rounded-lg border border-dashed p-8 text-center transition-colors'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          isDragging </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'border-primary bg-primary/5'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'border-muted-foreground/25 hover:border-muted-foreground/50'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragEnter</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragEnter</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragLeave</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragLeave</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragOver</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragOver</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDrop</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDrop</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">input</span><span style=\"color:#FF7B72\"> {...</span><span style=\"color:#D2A8FF\">getInputProps</span><span style=\"color:#E6EDF3\">()</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sr-only\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex flex-col items-center gap-4\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">            className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#A5D6FF\">              'flex h-16 w-16 items-center justify-center rounded-full'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              isDragging </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'bg-primary/10'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'bg-muted'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">UploadIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'h-6'</span><span style=\"color:#E6EDF3\">, isDragging </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'text-primary'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'text-muted-foreground'</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"space-y-2\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">h3</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-lg font-semibold\"</span><span style=\"color:#E6EDF3\">>Upload your files&#x3C;/</span><span style=\"color:#7EE787\">h3</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-sm text-muted-foreground\"</span><span style=\"color:#E6EDF3\">>Drag and drop files here or click to browse&#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-muted-foreground\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              Support for multiple file types up to </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#E6EDF3\">(maxSize)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\"> each</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">openFileDialog</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">UploadIcon</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            Select files</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Upload Stats */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">uploadFiles.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center justify-between mt-6\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center gap-2\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">h4</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-sm font-medium\"</span><span style=\"color:#E6EDF3\">>Upload Progress&#x3C;/</span><span style=\"color:#7EE787\">h4</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center gap-2\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#E6EDF3\">completedCount </span><span style=\"color:#FF7B72\">></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">Badge</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"success\"</span><span style=\"color:#79C0FF\"> appearance</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"light\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  Completed: </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">completedCount</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">Badge</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#E6EDF3\">errorCount </span><span style=\"color:#FF7B72\">></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">Badge</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"destructive\"</span><span style=\"color:#79C0FF\"> appearance</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"light\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  Failed: </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">errorCount</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">Badge</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#E6EDF3\">uploadingCount </span><span style=\"color:#FF7B72\">></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">Badge</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"secondary\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  Uploading: </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">uploadingCount</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">Badge</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">clearFiles</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"outline\"</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            Clear all</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* File List */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">uploadFiles.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mt-4 space-y-3\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          {</span><span style=\"color:#E6EDF3\">uploadFiles.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">fileItem</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">fileItem.id</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"rounded-lg border border-border bg-card p-4\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-start gap-2.5\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                {</span><span style=\"color:#8B949E\">/* File Icon */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex-shrink-0\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#E6EDF3\">fileItem.preview </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#E6EDF3\"> fileItem.file.type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'image/'</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">img</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                      src</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">fileItem.preview</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                      alt</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">fileItem.file.name</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                      className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-12 w-12 rounded-lg border object-cover\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  ) </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex h-12 w-12 items-center justify-center rounded-lg border border-border text-muted-foreground\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                      {</span><span style=\"color:#D2A8FF\">getFileIcon</span><span style=\"color:#E6EDF3\">(fileItem.file)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                {</span><span style=\"color:#8B949E\">/* File Info */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"min-w-0 flex-1\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center justify-between mt-0.75\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"inline-flex flex-col justify-center gap-1 truncate font-medium\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">span</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-sm\"</span><span style=\"color:#E6EDF3\">></span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">fileItem.file.name</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">&#x3C;/</span><span style=\"color:#7EE787\">span</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">span</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-muted-foreground\"</span><span style=\"color:#E6EDF3\">></span><span style=\"color:#FF7B72\">{</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#E6EDF3\">(fileItem.file.size)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">&#x3C;/</span><span style=\"color:#7EE787\">span</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center gap-2\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                      {</span><span style=\"color:#8B949E\">/* Remove Button */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">Button</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> removeUploadFile</span><span style=\"color:#E6EDF3\">(fileItem.id)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"ghost\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"icon\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                        className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-6 text-muted-foreground hover:opacity-100 hover:bg-transparent\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        &#x3C;</span><span style=\"color:#7EE787\">XIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#8B949E\">/* Progress Bar */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#E6EDF3\">fileItem.status </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#A5D6FF\"> 'uploading'</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mt-2\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">Progress</span><span style=\"color:#79C0FF\"> value</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">fileItem.progress</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-1\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#8B949E\">/* Error Message */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#E6EDF3\">fileItem.status </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#A5D6FF\"> 'error'</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> fileItem.error </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"destructive\"</span><span style=\"color:#79C0FF\"> appearance</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"light\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"items-center gap-1.5 mt-2 px-2 py-1\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        &#x3C;</span><span style=\"color:#7EE787\">TriangleAlert</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4!\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;/</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs\"</span><span style=\"color:#E6EDF3\">></span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">fileItem.error</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">&#x3C;/</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">AlertToolbar</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        &#x3C;</span><span style=\"color:#7EE787\">Button</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                          onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> retryUpload</span><span style=\"color:#E6EDF3\">(fileItem.id)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                          variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"ghost\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                          size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"icon\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                          className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-6 text-muted-foreground hover:opacity-100 hover:bg-transparent\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          &#x3C;</span><span style=\"color:#7EE787\">RefreshCwIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-3.5\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;/</span><span style=\"color:#7EE787\">AlertToolbar</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;/</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Error Messages */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"destructive\"</span><span style=\"color:#79C0FF\"> appearance</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"light\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mt-5\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">TriangleAlert</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">>File upload error(s)&#x3C;/</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">error</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#FFA657\">index</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">index</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"last:mb-0\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#E6EDF3\">error</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span></code></pre>"
  },
  "file-upload/sortable": {
    "code": "'use client';\n\nimport { useCallback, useEffect, useState } from 'react';\nimport { Alert, AlertContent, AlertDescription, AlertIcon, AlertTitle } from '@/components/ui/alert';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Progress } from '@/components/ui/progress';\nimport { Sortable, SortableItem, SortableItemHandle } from '@/components/ui/sortable';\nimport { CircleX, CloudUpload, GripVertical, ImageIcon, TriangleAlert, XIcon } from 'lucide-react';\nimport { toast } from 'sonner';\nimport { cn } from '@/lib/utils';\n\ninterface ImageFile {\n  id: string;\n  file: File;\n  preview: string;\n  progress: number;\n  status: 'uploading' | 'completed' | 'error';\n  error?: string;\n}\n\ntype SortableImage = {\n  id: string;\n  src: string;\n  alt: string;\n  type: 'default' | 'uploaded';\n};\n\ninterface ImageUploadProps {\n  maxFiles?: number;\n  maxSize?: number;\n  accept?: string;\n  className?: string;\n  onImagesChange?: (images: ImageFile[]) => void;\n  onUploadComplete?: (images: ImageFile[]) => void;\n}\n\nexport default function SortableImageUpload({\n  maxFiles = 5, // Changed to 5 as per UI reference\n  maxSize = 10 * 1024 * 1024, // 10MB as per UI reference\n  accept = 'image/*',\n  className,\n  onImagesChange,\n  onUploadComplete,\n}: ImageUploadProps) {\n  const [images, setImages] = useState<ImageFile[]>([]);\n  const [isDragging, setIsDragging] = useState(false);\n  const [errors, setErrors] = useState<string[]>([]);\n  const [activeId, setActiveId] = useState<string | null>(null);\n  const [allImages, setAllImages] = useState<SortableImage[]>([\n    { id: 'default-1', src: 'https://picsum.photos/400/300?random=1', alt: 'Product view 1', type: 'default' },\n    { id: 'default-2', src: 'https://picsum.photos/400/300?random=2', alt: 'Product view 2', type: 'default' },\n    { id: 'default-3', src: 'https://picsum.photos/400/300?random=3', alt: 'Product view 3', type: 'default' },\n    { id: 'default-4', src: 'https://picsum.photos/400/300?random=4', alt: 'Product view 4', type: 'default' },\n    { id: 'default-5', src: 'https://picsum.photos/400/300?random=5', alt: 'Product view 5', type: 'default' },\n  ]);\n\n  // Helper function to create SortableImage from ImageFile\n  const createSortableImage = useCallback(\n    (imageFile: ImageFile): SortableImage => ({\n      id: imageFile.id,\n      src: imageFile.preview,\n      alt: imageFile.file.name,\n      type: 'uploaded',\n    }),\n    [],\n  );\n\n  // Ensure arrays never contain undefined items\n  useEffect(() => {\n    setAllImages((prev) => prev.filter((item) => item && item.id));\n    setImages((prev) => prev.filter((item) => item && item.id));\n  }, []);\n\n  const validateFile = (file: File): string | null => {\n    if (!file.type.startsWith('image/')) {\n      return 'File must be an image';\n    }\n    if (file.size > maxSize) {\n      return `File size must be less than ${(maxSize / 1024 / 1024).toFixed(1)}MB`;\n    }\n    if (images.length >= maxFiles) {\n      return `Maximum ${maxFiles} files allowed`;\n    }\n    return null;\n  };\n\n  const addImages = useCallback(\n    (files: FileList | File[]) => {\n      const newImages: ImageFile[] = [];\n      const newErrors: string[] = [];\n\n      Array.from(files).forEach((file) => {\n        const error = validateFile(file);\n        if (error) {\n          newErrors.push(`${file.name}: ${error}`);\n          return;\n        }\n\n        const imageFile: ImageFile = {\n          id: `${Date.now()}-${Math.random()}`,\n          file,\n          preview: URL.createObjectURL(file),\n          progress: 0,\n          status: 'uploading',\n        };\n\n        newImages.push(imageFile);\n      });\n\n      if (newErrors.length > 0) {\n        setErrors((prev) => [...prev, ...newErrors]);\n      }\n\n      if (newImages.length > 0) {\n        const updatedImages = [...images, ...newImages];\n        setImages(updatedImages);\n        onImagesChange?.(updatedImages);\n\n        // Add new images to allImages for sorting\n        const newSortableImages = newImages.map(createSortableImage);\n        setAllImages((prev) => [...prev, ...newSortableImages]);\n\n        // Simulate upload progress\n        newImages.forEach((imageFile) => {\n          simulateUpload(imageFile);\n        });\n      }\n    },\n    [images, maxSize, maxFiles, onImagesChange, createSortableImage],\n  );\n\n  const simulateUpload = (imageFile: ImageFile) => {\n    let progress = 0;\n    const interval = setInterval(() => {\n      progress += Math.random() * 20;\n      if (progress >= 100) {\n        progress = 100;\n        clearInterval(interval);\n\n        setImages((prev) =>\n          prev.map((img) => (img.id === imageFile.id ? { ...img, progress: 100, status: 'completed' as const } : img)),\n        );\n\n        // Check if all uploads are complete\n        const updatedImages = images.map((img) =>\n          img.id === imageFile.id ? { ...img, progress: 100, status: 'completed' as const } : img,\n        );\n\n        if (updatedImages.every((img) => img.status === 'completed')) {\n          onUploadComplete?.(updatedImages);\n        }\n      } else {\n        setImages((prev) => prev.map((img) => (img.id === imageFile.id ? { ...img, progress } : img)));\n      }\n    }, 100);\n  };\n\n  const removeImage = useCallback(\n    (id: string) => {\n      // Remove from allImages\n      setAllImages((prev) => prev.filter((img) => img.id !== id));\n\n      // If it's an uploaded image, also remove from images array and revoke URL\n      const uploadedImage = images.find((img) => img.id === id);\n      if (uploadedImage) {\n        URL.revokeObjectURL(uploadedImage.preview);\n        setImages((prev) => prev.filter((img) => img.id !== id));\n      }\n    },\n    [images],\n  );\n\n  const handleDragEnter = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(true);\n  }, []);\n\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n  }, []);\n\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n  }, []);\n\n  const handleDrop = useCallback(\n    (e: React.DragEvent) => {\n      e.preventDefault();\n      e.stopPropagation();\n      setIsDragging(false);\n\n      const files = e.dataTransfer.files;\n      if (files.length > 0) {\n        addImages(files);\n      }\n    },\n    [addImages],\n  );\n\n  const openFileDialog = useCallback(() => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.multiple = true;\n    input.accept = accept;\n    input.onchange = (e) => {\n      const target = e.target as HTMLInputElement;\n      if (target.files) {\n        addImages(target.files);\n      }\n    };\n    input.click();\n  }, [accept, addImages]);\n\n  const formatBytes = (bytes: number): string => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\n  };\n\n  return (\n    <div className={cn('w-full max-w-4xl', className)}>\n      {/* Instructions */}\n      <div className=\"mb-4 text-center\">\n        <p className=\"text-sm text-muted-foreground\">\n          Upload up to {maxFiles} images (JPG, PNG, GIF, WebP, max {formatBytes(maxSize)} each). <br />\n          Drag and drop images to reorder.\n          {images.length > 0 && ` ${images.length}/${maxFiles} uploaded.`}\n        </p>\n      </div>\n\n      {/* Image Grid with Sortable */}\n      <div className=\"mb-6\">\n        {/* Combined Images Sortable */}\n        <Sortable\n          value={allImages.map((item) => item.id)}\n          onValueChange={(newItemIds) => {\n            // Reconstruct the allImages array based on the new order\n            const newAllImages = newItemIds\n              .map((itemId) => {\n                // First try to find in allImages (default images)\n                const existingImage = allImages.find((img) => img.id === itemId);\n                if (existingImage) return existingImage;\n\n                // If not found, it's a newly uploaded image\n                const uploadedImage = images.find((img) => img.id === itemId);\n                if (uploadedImage) {\n                  return createSortableImage(uploadedImage);\n                }\n                return null;\n              })\n              .filter((item): item is SortableImage => item !== null);\n\n            setAllImages(newAllImages);\n\n            toast.success('Images reordered successfully!', {\n              description: `Images rearranged across both sections`,\n              duration: 3000,\n            });\n          }}\n          getItemValue={(item) => item}\n          strategy=\"grid\"\n          className=\"grid grid-cols-5 gap-2.5 auto-rows-fr\"\n          onDragStart={(event) => setActiveId(event.active.id as string)}\n          onDragEnd={() => setActiveId(null)}\n        >\n          {allImages.map((item) => (\n            <SortableItem key={item.id} value={item.id}>\n              <div className=\"flex items-center justify-center rounded-md bg-accent/50 shadow-none shrink-0 relative group border border-border hover:z-10 data-[dragging=true]:z-50 transition-all duration-200 hover:bg-accent/70\">\n                <img\n                  src={item.src}\n                  className=\"h-[120px] w-full object-cover rounded-md pointer-events-none\"\n                  alt={item.alt}\n                />\n\n                {/* Drag Handle */}\n                <SortableItemHandle className=\"absolute top-2 start-2 opacity-0 group-hover:opacity-100 cursor-grab active:cursor-grabbing\">\n                  <Button variant=\"outline\" size=\"icon\" className=\"size-6 rounded-full\">\n                    <GripVertical className=\"size-3.5\" />\n                  </Button>\n                </SortableItemHandle>\n\n                {/* Remove Button Overlay */}\n                <Button\n                  onClick={() => removeImage(item.id)}\n                  variant=\"outline\"\n                  size=\"icon\"\n                  className=\"shadow-sm absolute top-2 end-2 size-6 opacity-0 group-hover:opacity-100 rounded-full\"\n                >\n                  <XIcon className=\"size-3.5\" />\n                </Button>\n              </div>\n            </SortableItem>\n          ))}\n        </Sortable>\n      </div>\n\n      {/* Upload Area */}\n      <Card\n        className={cn(\n          'border-dashed shadow-none rounded-md transition-colors',\n          isDragging ? 'border-primary bg-primary/5' : 'border-muted-foreground/25 hover:border-muted-foreground/50',\n        )}\n        onDragEnter={handleDragEnter}\n        onDragLeave={handleDragLeave}\n        onDragOver={handleDragOver}\n        onDrop={handleDrop}\n      >\n        <CardContent className=\"text-center\">\n          <div className=\"flex items-center justify-center size-[32px] rounded-full border border-border mx-auto mb-3\">\n            <CloudUpload className=\"size-4\" />\n          </div>\n          <h3 className=\"text-2sm text-foreground font-semibold mb-0.5\">Choose a file or drag & drop here.</h3>\n          <span className=\"text-xs text-secondary-foreground font-normal block mb-3\">\n            JPEG, PNG, up to {formatBytes(maxSize)}.\n          </span>\n          <Button size=\"sm\" variant=\"mono\" onClick={openFileDialog}>\n            Browse File\n          </Button>\n        </CardContent>\n      </Card>\n\n      {/* Upload Progress Cards */}\n      {images.length > 0 && (\n        <div className=\"mt-6 space-y-3\">\n          {images.map((imageFile) => (\n            <Card key={imageFile.id} className=\"shadow-none rounded-md\">\n              <CardContent className=\"flex items-center gap-2 p-3\">\n                <div className=\"flex items-center justify-center size-[32px] rounded-md border border-border shrink-0\">\n                  <ImageIcon className=\"size-4 text-muted-foreground\" />\n                </div>\n                <div className=\"flex flex-col gap-1.5 w-full\">\n                  <div className=\"flex items-center justify-between gap-2.5 -mt-2 w-full\">\n                    <div className=\"flex items-center gap-2.5\">\n                      <span className=\"text-xs text-foreground font-medium leading-none\">{imageFile.file.name}</span>\n                      <span className=\"text-xs text-muted-foreground font-normal leading-none\">\n                        {formatBytes(imageFile.file.size)}\n                      </span>\n                      {imageFile.status === 'uploading' && (\n                        <p className=\"text-xs text-muted-foreground\">Uploading... {Math.round(imageFile.progress)}%</p>\n                      )}\n                    </div>\n                    <Button onClick={() => removeImage(imageFile.id)} variant=\"ghost\" size=\"icon\" className=\"size-6\">\n                      <CircleX className=\"size-3.5\" />\n                    </Button>\n                  </div>\n\n                  <Progress\n                    value={imageFile.progress}\n                    className={cn('h-1 transition-all duration-300', '[&>div]:bg-zinc-950 dark:[&>div]:bg-zinc-50')}\n                  />\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      )}\n\n      {/* Error Messages */}\n      {errors.length > 0 && (\n        <Alert variant=\"destructive\" appearance=\"light\" className=\"mt-5\">\n          <AlertIcon>\n            <TriangleAlert />\n          </AlertIcon>\n          <AlertContent>\n            <AlertTitle>File upload error(s)</AlertTitle>\n            <AlertDescription>\n              {errors.map((error, index) => (\n                <p key={index} className=\"last:mb-0\">\n                  {error}\n                </p>\n              ))}\n            </AlertDescription>\n          </AlertContent>\n        </Alert>\n      )}\n    </div>\n  );\n}\n",
    "highlightedCode": "<pre class=\"shiki github-dark-default\" style=\"background-color:#0d1117;color:#e6edf3\" tabindex=\"0\"><code data-line-numbers=\"\"><span class=\"line\"><span style=\"color:#A5D6FF\">'use client'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { useCallback, useEffect, useState } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'react'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Alert, AlertContent, AlertDescription, AlertIcon, AlertTitle } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/alert'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Button } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/button'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Card, CardContent } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/card'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Progress } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/progress'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Sortable, SortableItem, SortableItemHandle } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/sortable'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { CircleX, CloudUpload, GripVertical, ImageIcon, TriangleAlert, XIcon } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'lucide-react'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { toast } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'sonner'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { cn } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/lib/utils'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">interface</span><span style=\"color:#FFA657\"> ImageFile</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  id</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  file</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  preview</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  progress</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  status</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#A5D6FF\"> 'uploading'</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#A5D6FF\"> 'completed'</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#A5D6FF\"> 'error'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  error</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">type</span><span style=\"color:#FFA657\"> SortableImage</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  id</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  src</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  alt</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  type</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#A5D6FF\"> 'default'</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#A5D6FF\"> 'uploaded'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">interface</span><span style=\"color:#FFA657\"> ImageUploadProps</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxFiles</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  accept</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">  onImagesChange</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">images</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> ImageFile</span><span style=\"color:#E6EDF3\">[]) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#79C0FF\"> void</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">  onUploadComplete</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">images</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> ImageFile</span><span style=\"color:#E6EDF3\">[]) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#79C0FF\"> void</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">export</span><span style=\"color:#FF7B72\"> default</span><span style=\"color:#FF7B72\"> function</span><span style=\"color:#D2A8FF\"> SortableImageUpload</span><span style=\"color:#FFA657\">({</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxFiles </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 5</span><span style=\"color:#FFA657\">, </span><span style=\"color:#8B949E\">// Changed to 5 as per UI reference</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 10</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FFA657\">, </span><span style=\"color:#8B949E\">// 10MB as per UI reference</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  accept </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\"> 'image/*'</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  onImagesChange,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  onUploadComplete,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">}</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> ImageUploadProps) </span><span style=\"color:#E6EDF3\">{</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#79C0FF\">images</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">setImages</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useState</span><span style=\"color:#E6EDF3\">&#x3C;</span><span style=\"color:#FFA657\">ImageFile</span><span style=\"color:#E6EDF3\">[]>([]);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#79C0FF\">isDragging</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">setIsDragging</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useState</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">false</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#79C0FF\">errors</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">setErrors</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useState</span><span style=\"color:#E6EDF3\">&#x3C;</span><span style=\"color:#79C0FF\">string</span><span style=\"color:#E6EDF3\">[]>([]);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#79C0FF\">activeId</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">setActiveId</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useState</span><span style=\"color:#E6EDF3\">&#x3C;</span><span style=\"color:#79C0FF\">string</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#79C0FF\"> null</span><span style=\"color:#E6EDF3\">>(</span><span style=\"color:#79C0FF\">null</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#79C0FF\">allImages</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">setAllImages</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useState</span><span style=\"color:#E6EDF3\">&#x3C;</span><span style=\"color:#FFA657\">SortableImage</span><span style=\"color:#E6EDF3\">[]>([</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { id: </span><span style=\"color:#A5D6FF\">'default-1'</span><span style=\"color:#E6EDF3\">, src: </span><span style=\"color:#A5D6FF\">'https://picsum.photos/400/300?random=1'</span><span style=\"color:#E6EDF3\">, alt: </span><span style=\"color:#A5D6FF\">'Product view 1'</span><span style=\"color:#E6EDF3\">, type: </span><span style=\"color:#A5D6FF\">'default'</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { id: </span><span style=\"color:#A5D6FF\">'default-2'</span><span style=\"color:#E6EDF3\">, src: </span><span style=\"color:#A5D6FF\">'https://picsum.photos/400/300?random=2'</span><span style=\"color:#E6EDF3\">, alt: </span><span style=\"color:#A5D6FF\">'Product view 2'</span><span style=\"color:#E6EDF3\">, type: </span><span style=\"color:#A5D6FF\">'default'</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { id: </span><span style=\"color:#A5D6FF\">'default-3'</span><span style=\"color:#E6EDF3\">, src: </span><span style=\"color:#A5D6FF\">'https://picsum.photos/400/300?random=3'</span><span style=\"color:#E6EDF3\">, alt: </span><span style=\"color:#A5D6FF\">'Product view 3'</span><span style=\"color:#E6EDF3\">, type: </span><span style=\"color:#A5D6FF\">'default'</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { id: </span><span style=\"color:#A5D6FF\">'default-4'</span><span style=\"color:#E6EDF3\">, src: </span><span style=\"color:#A5D6FF\">'https://picsum.photos/400/300?random=4'</span><span style=\"color:#E6EDF3\">, alt: </span><span style=\"color:#A5D6FF\">'Product view 4'</span><span style=\"color:#E6EDF3\">, type: </span><span style=\"color:#A5D6FF\">'default'</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { id: </span><span style=\"color:#A5D6FF\">'default-5'</span><span style=\"color:#E6EDF3\">, src: </span><span style=\"color:#A5D6FF\">'https://picsum.photos/400/300?random=5'</span><span style=\"color:#E6EDF3\">, alt: </span><span style=\"color:#A5D6FF\">'Product view 5'</span><span style=\"color:#E6EDF3\">, type: </span><span style=\"color:#A5D6FF\">'default'</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  ]);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">  // Helper function to create SortableImage from ImageFile</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> createSortableImage</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> useCallback</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    (</span><span style=\"color:#FFA657\">imageFile</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> ImageFile</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> SortableImage</span><span style=\"color:#FF7B72\"> =></span><span style=\"color:#E6EDF3\"> ({</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      id: imageFile.id,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      src: imageFile.preview,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      alt: imageFile.file.name,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      type: </span><span style=\"color:#A5D6FF\">'uploaded'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    }),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    [],</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">  // Ensure arrays never contain undefined items</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">  useEffect</span><span style=\"color:#E6EDF3\">(() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    setAllImages</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> prev.</span><span style=\"color:#D2A8FF\">filter</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">item</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> item </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#E6EDF3\"> item.id));</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    setImages</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> prev.</span><span style=\"color:#D2A8FF\">filter</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">item</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> item </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#E6EDF3\"> item.id));</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  }, []);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> validateFile</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">file</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#79C0FF\"> null</span><span style=\"color:#FF7B72\"> =></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FF7B72\">!</span><span style=\"color:#E6EDF3\">file.type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'image/'</span><span style=\"color:#E6EDF3\">)) {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      return</span><span style=\"color:#A5D6FF\"> 'File must be an image'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    }</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (file.size </span><span style=\"color:#FF7B72\">></span><span style=\"color:#E6EDF3\"> maxSize) {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      return</span><span style=\"color:#A5D6FF\"> `File size must be less than ${</span><span style=\"color:#A5D6FF\">(</span><span style=\"color:#E6EDF3\">maxSize</span><span style=\"color:#FF7B72\"> /</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FF7B72\"> /</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#A5D6FF\">).</span><span style=\"color:#D2A8FF\">toFixed</span><span style=\"color:#A5D6FF\">(</span><span style=\"color:#79C0FF\">1</span><span style=\"color:#A5D6FF\">)</span><span style=\"color:#A5D6FF\">}MB`</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    }</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (images.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> >=</span><span style=\"color:#E6EDF3\"> maxFiles) {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      return</span><span style=\"color:#A5D6FF\"> `Maximum ${</span><span style=\"color:#E6EDF3\">maxFiles</span><span style=\"color:#A5D6FF\">} files allowed`</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    }</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    return</span><span style=\"color:#79C0FF\"> null</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> addImages</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> useCallback</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    (</span><span style=\"color:#FFA657\">files</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileList</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#E6EDF3\">[]) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      const</span><span style=\"color:#79C0FF\"> newImages</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> ImageFile</span><span style=\"color:#E6EDF3\">[] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#E6EDF3\"> [];</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      const</span><span style=\"color:#79C0FF\"> newErrors</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">[] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#E6EDF3\"> [];</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      Array.</span><span style=\"color:#D2A8FF\">from</span><span style=\"color:#E6EDF3\">(files).</span><span style=\"color:#D2A8FF\">forEach</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">file</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        const</span><span style=\"color:#79C0FF\"> error</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> validateFile</span><span style=\"color:#E6EDF3\">(file);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        if</span><span style=\"color:#E6EDF3\"> (error) {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          newErrors.</span><span style=\"color:#D2A8FF\">push</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">`${</span><span style=\"color:#E6EDF3\">file</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#E6EDF3\">name</span><span style=\"color:#A5D6FF\">}: ${</span><span style=\"color:#E6EDF3\">error</span><span style=\"color:#A5D6FF\">}`</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          return</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        const</span><span style=\"color:#79C0FF\"> imageFile</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> ImageFile</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          id: </span><span style=\"color:#A5D6FF\">`${</span><span style=\"color:#E6EDF3\">Date</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#D2A8FF\">now</span><span style=\"color:#A5D6FF\">()</span><span style=\"color:#A5D6FF\">}-${</span><span style=\"color:#E6EDF3\">Math</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#D2A8FF\">random</span><span style=\"color:#A5D6FF\">()</span><span style=\"color:#A5D6FF\">}`</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          file,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          preview: </span><span style=\"color:#79C0FF\">URL</span><span style=\"color:#E6EDF3\">.</span><span style=\"color:#D2A8FF\">createObjectURL</span><span style=\"color:#E6EDF3\">(file),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          progress: </span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          status: </span><span style=\"color:#A5D6FF\">'uploading'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        newImages.</span><span style=\"color:#D2A8FF\">push</span><span style=\"color:#E6EDF3\">(imageFile);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      if</span><span style=\"color:#E6EDF3\"> (newErrors.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#E6EDF3\">) {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        setErrors</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">prev, </span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">newErrors]);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      if</span><span style=\"color:#E6EDF3\"> (newImages.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#E6EDF3\">) {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        const</span><span style=\"color:#79C0FF\"> updatedImages</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">images, </span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">newImages];</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        setImages</span><span style=\"color:#E6EDF3\">(updatedImages);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        onImagesChange</span><span style=\"color:#E6EDF3\">?.(updatedImages);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">        // Add new images to allImages for sorting</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        const</span><span style=\"color:#79C0FF\"> newSortableImages</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> newImages.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">(createSortableImage);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        setAllImages</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">prev, </span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">newSortableImages]);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">        // Simulate upload progress</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        newImages.</span><span style=\"color:#D2A8FF\">forEach</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">imageFile</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">          simulateUpload</span><span style=\"color:#E6EDF3\">(imageFile);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        });</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      }</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    [images, maxSize, maxFiles, onImagesChange, createSortableImage],</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> simulateUpload</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">imageFile</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> ImageFile</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    let</span><span style=\"color:#E6EDF3\"> progress </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> interval</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> setInterval</span><span style=\"color:#E6EDF3\">(() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      progress </span><span style=\"color:#FF7B72\">+=</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">random</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">*</span><span style=\"color:#79C0FF\"> 20</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      if</span><span style=\"color:#E6EDF3\"> (progress </span><span style=\"color:#FF7B72\">>=</span><span style=\"color:#79C0FF\"> 100</span><span style=\"color:#E6EDF3\">) {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        progress </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 100</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        clearInterval</span><span style=\"color:#E6EDF3\">(interval);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        setImages</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          prev.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">img</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (img.id </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#E6EDF3\"> imageFile.id </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> { </span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">img, progress: </span><span style=\"color:#79C0FF\">100</span><span style=\"color:#E6EDF3\">, status: </span><span style=\"color:#A5D6FF\">'completed'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\"> } </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> img)),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">        // Check if all uploads are complete</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        const</span><span style=\"color:#79C0FF\"> updatedImages</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> images.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">img</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          img.id </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#E6EDF3\"> imageFile.id </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> { </span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">img, progress: </span><span style=\"color:#79C0FF\">100</span><span style=\"color:#E6EDF3\">, status: </span><span style=\"color:#A5D6FF\">'completed'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\"> } </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> img,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        if</span><span style=\"color:#E6EDF3\"> (updatedImages.</span><span style=\"color:#D2A8FF\">every</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">img</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> img.status </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#A5D6FF\"> 'completed'</span><span style=\"color:#E6EDF3\">)) {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">          onUploadComplete</span><span style=\"color:#E6EDF3\">?.(updatedImages);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        }</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      } </span><span style=\"color:#FF7B72\">else</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        setImages</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> prev.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">img</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (img.id </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#E6EDF3\"> imageFile.id </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> { </span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">img, progress } </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> img)));</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      }</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    }, </span><span style=\"color:#79C0FF\">100</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> removeImage</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> useCallback</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    (</span><span style=\"color:#FFA657\">id</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">      // Remove from allImages</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      setAllImages</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> prev.</span><span style=\"color:#D2A8FF\">filter</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">img</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> img.id </span><span style=\"color:#FF7B72\">!==</span><span style=\"color:#E6EDF3\"> id));</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">      // If it's an uploaded image, also remove from images array and revoke URL</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      const</span><span style=\"color:#79C0FF\"> uploadedImage</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> images.</span><span style=\"color:#D2A8FF\">find</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">img</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> img.id </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#E6EDF3\"> id);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      if</span><span style=\"color:#E6EDF3\"> (uploadedImage) {</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        URL</span><span style=\"color:#E6EDF3\">.</span><span style=\"color:#D2A8FF\">revokeObjectURL</span><span style=\"color:#E6EDF3\">(uploadedImage.preview);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        setImages</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> prev.</span><span style=\"color:#D2A8FF\">filter</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">img</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> img.id </span><span style=\"color:#FF7B72\">!==</span><span style=\"color:#E6EDF3\"> id));</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      }</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    [images],</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> handleDragEnter</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> useCallback</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">e</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> React</span><span style=\"color:#E6EDF3\">.</span><span style=\"color:#FFA657\">DragEvent</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    e.</span><span style=\"color:#D2A8FF\">preventDefault</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    e.</span><span style=\"color:#D2A8FF\">stopPropagation</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    setIsDragging</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">true</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  }, []);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> handleDragLeave</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> useCallback</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">e</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> React</span><span style=\"color:#E6EDF3\">.</span><span style=\"color:#FFA657\">DragEvent</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    e.</span><span style=\"color:#D2A8FF\">preventDefault</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    e.</span><span style=\"color:#D2A8FF\">stopPropagation</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    setIsDragging</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">false</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  }, []);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> handleDragOver</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> useCallback</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">e</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> React</span><span style=\"color:#E6EDF3\">.</span><span style=\"color:#FFA657\">DragEvent</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    e.</span><span style=\"color:#D2A8FF\">preventDefault</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    e.</span><span style=\"color:#D2A8FF\">stopPropagation</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  }, []);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> handleDrop</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> useCallback</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    (</span><span style=\"color:#FFA657\">e</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> React</span><span style=\"color:#E6EDF3\">.</span><span style=\"color:#FFA657\">DragEvent</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      e.</span><span style=\"color:#D2A8FF\">preventDefault</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      e.</span><span style=\"color:#D2A8FF\">stopPropagation</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      setIsDragging</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">false</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      const</span><span style=\"color:#79C0FF\"> files</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> e.dataTransfer.files;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      if</span><span style=\"color:#E6EDF3\"> (files.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#E6EDF3\">) {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        addImages</span><span style=\"color:#E6EDF3\">(files);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      }</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    [addImages],</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  );</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> openFileDialog</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> useCallback</span><span style=\"color:#E6EDF3\">(() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> input</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> document.</span><span style=\"color:#D2A8FF\">createElement</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'input'</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    input.type </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\"> 'file'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    input.multiple </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> true</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    input.accept </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#E6EDF3\"> accept;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    input.</span><span style=\"color:#D2A8FF\">onchange</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">e</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      const</span><span style=\"color:#79C0FF\"> target</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> e.target </span><span style=\"color:#FF7B72\">as</span><span style=\"color:#FFA657\"> HTMLInputElement</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      if</span><span style=\"color:#E6EDF3\"> (target.files) {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">        addImages</span><span style=\"color:#E6EDF3\">(target.files);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      }</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    };</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    input.</span><span style=\"color:#D2A8FF\">click</span><span style=\"color:#E6EDF3\">();</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  }, [accept, addImages]);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> formatBytes</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">bytes</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#FF7B72\"> =></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (bytes </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#A5D6FF\"> '0 Bytes'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> k</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> sizes</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#A5D6FF\">'Bytes'</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#A5D6FF\">'KB'</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#A5D6FF\">'MB'</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#A5D6FF\">'GB'</span><span style=\"color:#E6EDF3\">];</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> i</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">floor</span><span style=\"color:#E6EDF3\">(Math.</span><span style=\"color:#D2A8FF\">log</span><span style=\"color:#E6EDF3\">(bytes) </span><span style=\"color:#FF7B72\">/</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">log</span><span style=\"color:#E6EDF3\">(k));</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    return</span><span style=\"color:#D2A8FF\"> parseFloat</span><span style=\"color:#E6EDF3\">((bytes </span><span style=\"color:#FF7B72\">/</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">pow</span><span style=\"color:#E6EDF3\">(k, i)).</span><span style=\"color:#D2A8FF\">toFixed</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">1</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">+</span><span style=\"color:#A5D6FF\"> ' '</span><span style=\"color:#FF7B72\"> +</span><span style=\"color:#E6EDF3\"> sizes[i];</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  return</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'w-full max-w-4xl'</span><span style=\"color:#E6EDF3\">, className)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Instructions */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mb-4 text-center\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-sm text-muted-foreground\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          Upload up to </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">maxFiles</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\"> images (JPG, PNG, GIF, WebP, max </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#E6EDF3\">(maxSize)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\"> each). &#x3C;</span><span style=\"color:#7EE787\">br</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          Drag and drop images to reorder.</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          {</span><span style=\"color:#E6EDF3\">images.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#A5D6FF\"> ` ${</span><span style=\"color:#E6EDF3\">images</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#A5D6FF\">}/${</span><span style=\"color:#E6EDF3\">maxFiles</span><span style=\"color:#A5D6FF\">} uploaded.`</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Image Grid with Sortable */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mb-6\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        {</span><span style=\"color:#8B949E\">/* Combined Images Sortable */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">Sortable</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">          value</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">allImages.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">item</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> item.id)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">          onValueChange</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#FFA657\">newItemIds</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">            // Reconstruct the allImages array based on the new order</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            const</span><span style=\"color:#79C0FF\"> newAllImages</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> newItemIds</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              .</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">itemId</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">                // First try to find in allImages (default images)</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                const</span><span style=\"color:#79C0FF\"> existingImage</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> allImages.</span><span style=\"color:#D2A8FF\">find</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">img</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> img.id </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#E6EDF3\"> itemId);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                if</span><span style=\"color:#E6EDF3\"> (existingImage) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> existingImage;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">                // If not found, it's a newly uploaded image</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                const</span><span style=\"color:#79C0FF\"> uploadedImage</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> images.</span><span style=\"color:#D2A8FF\">find</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">img</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> img.id </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#E6EDF3\"> itemId);</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                if</span><span style=\"color:#E6EDF3\"> (uploadedImage) {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  return</span><span style=\"color:#D2A8FF\"> createSortableImage</span><span style=\"color:#E6EDF3\">(uploadedImage);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                }</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                return</span><span style=\"color:#79C0FF\"> null</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              })</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              .</span><span style=\"color:#D2A8FF\">filter</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">item</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> item</span><span style=\"color:#FF7B72\"> is</span><span style=\"color:#FFA657\"> SortableImage</span><span style=\"color:#FF7B72\"> =></span><span style=\"color:#E6EDF3\"> item </span><span style=\"color:#FF7B72\">!==</span><span style=\"color:#79C0FF\"> null</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">            setAllImages</span><span style=\"color:#E6EDF3\">(newAllImages);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            toast.</span><span style=\"color:#D2A8FF\">success</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'Images reordered successfully!'</span><span style=\"color:#E6EDF3\">, {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              description: </span><span style=\"color:#A5D6FF\">`Images rearranged across both sections`</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              duration: </span><span style=\"color:#79C0FF\">3000</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            });</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          }</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">          getItemValue</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#FFA657\">item</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> item</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">          strategy</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"grid\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">          className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"grid grid-cols-5 gap-2.5 auto-rows-fr\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">          onDragStart</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#FFA657\">event</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> setActiveId</span><span style=\"color:#E6EDF3\">(event.active.id </span><span style=\"color:#FF7B72\">as</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">          onDragEnd</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> setActiveId</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#79C0FF\">null</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        ></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          {</span><span style=\"color:#E6EDF3\">allImages.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">item</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">SortableItem</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">item.id</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> value</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">item.id</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center justify-center rounded-md bg-accent/50 shadow-none shrink-0 relative group border border-border hover:z-10 data-[dragging=true]:z-50 transition-all duration-200 hover:bg-accent/70\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">img</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  src</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">item.src</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-[120px] w-full object-cover rounded-md pointer-events-none\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  alt</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">item.alt</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                /></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                {</span><span style=\"color:#8B949E\">/* Drag Handle */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">SortableItemHandle</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"absolute top-2 start-2 opacity-0 group-hover:opacity-100 cursor-grab active:cursor-grabbing\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"outline\"</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"icon\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-6 rounded-full\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">GripVertical</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-3.5\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">SortableItemHandle</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                {</span><span style=\"color:#8B949E\">/* Remove Button Overlay */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">Button</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> removeImage</span><span style=\"color:#E6EDF3\">(item.id)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"outline\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"icon\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                  className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"shadow-sm absolute top-2 end-2 size-6 opacity-0 group-hover:opacity-100 rounded-full\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">XIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-3.5\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">SortableItem</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">Sortable</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Upload Area */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;</span><span style=\"color:#7EE787\">Card</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#A5D6FF\">          'border-dashed shadow-none rounded-md transition-colors'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          isDragging </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'border-primary bg-primary/5'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'border-muted-foreground/25 hover:border-muted-foreground/50'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragEnter</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragEnter</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragLeave</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragLeave</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragOver</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragOver</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDrop</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDrop</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">CardContent</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-center\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center justify-center size-[32px] rounded-full border border-border mx-auto mb-3\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">CloudUpload</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">h3</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-2sm text-foreground font-semibold mb-0.5\"</span><span style=\"color:#E6EDF3\">>Choose a file or drag &#x26; drop here.&#x3C;/</span><span style=\"color:#7EE787\">h3</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">span</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-secondary-foreground font-normal block mb-3\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            JPEG, PNG, up to </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#E6EDF3\">(maxSize)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">.</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">span</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mono\"</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">openFileDialog</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            Browse File</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">CardContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;/</span><span style=\"color:#7EE787\">Card</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Upload Progress Cards */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">images.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mt-6 space-y-3\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          {</span><span style=\"color:#E6EDF3\">images.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">imageFile</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">Card</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">imageFile.id</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"shadow-none rounded-md\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">CardContent</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center gap-2 p-3\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center justify-center size-[32px] rounded-md border border-border shrink-0\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">ImageIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4 text-muted-foreground\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex flex-col gap-1.5 w-full\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center justify-between gap-2.5 -mt-2 w-full\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center gap-2.5\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">span</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-foreground font-medium leading-none\"</span><span style=\"color:#E6EDF3\">></span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">imageFile.file.name</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">&#x3C;/</span><span style=\"color:#7EE787\">span</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">span</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-muted-foreground font-normal leading-none\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                        {</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#E6EDF3\">(imageFile.file.size)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;/</span><span style=\"color:#7EE787\">span</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                      {</span><span style=\"color:#E6EDF3\">imageFile.status </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#A5D6FF\"> 'uploading'</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-muted-foreground\"</span><span style=\"color:#E6EDF3\">>Uploading... </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">Math.</span><span style=\"color:#D2A8FF\">round</span><span style=\"color:#E6EDF3\">(imageFile.progress)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">%&#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> removeImage</span><span style=\"color:#E6EDF3\">(imageFile.id)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"ghost\"</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"icon\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-6\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">CircleX</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-3.5\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">Progress</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                    value</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">imageFile.progress</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                    className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'h-1 transition-all duration-300'</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#A5D6FF\">'[&#x26;>div]:bg-zinc-950 dark:[&#x26;>div]:bg-zinc-50'</span><span style=\"color:#E6EDF3\">)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">CardContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">Card</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Error Messages */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"destructive\"</span><span style=\"color:#79C0FF\"> appearance</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"light\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mt-5\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">TriangleAlert</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">>File upload error(s)&#x3C;/</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">error</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#FFA657\">index</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">index</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"last:mb-0\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#E6EDF3\">error</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span></code></pre>"
  },
  "file-upload/table-upload": {
    "code": "'use client';\n\nimport { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport {\n  formatBytes,\n  useFileUpload,\n  type FileMetadata,\n  type FileWithPreview,\n} from '@/hooks/use-file-upload';\nimport { Alert, AlertContent, AlertDescription, AlertIcon, AlertTitle } from '@/components/ui/alert';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport {\n  CloudUpload,\n  Download,\n  FileArchiveIcon,\n  FileSpreadsheetIcon,\n  FileTextIcon,\n  HeadphonesIcon,\n  ImageIcon,\n  RefreshCwIcon,\n  Trash2,\n  TriangleAlert,\n  Upload,\n  VideoIcon,\n} from 'lucide-react';\nimport { toAbsoluteUrl } from '@/lib/helpers';\nimport { cn } from '@/lib/utils';\n\ninterface FileUploadItem extends FileWithPreview {\n  progress: number;\n  status: 'uploading' | 'completed' | 'error';\n  error?: string;\n}\n\ninterface TableUploadProps {\n  maxFiles?: number;\n  maxSize?: number;\n  accept?: string;\n  multiple?: boolean;\n  className?: string;\n  onFilesChange?: (files: FileWithPreview[]) => void;\n  simulateUpload?: boolean;\n}\n\nexport default function TableUpload({\n  maxFiles = 10,\n  maxSize = 50 * 1024 * 1024, // 50MB\n  accept = '*',\n  multiple = true,\n  className,\n  onFilesChange,\n  simulateUpload = true,\n}: TableUploadProps) {\n  // Create default files using FileMetadata type\n  const defaultFiles: FileMetadata[] = [\n    {\n      id: 'default-doc-1',\n      name: 'document.pdf',\n      size: 529254,\n      type: 'application/pdf',\n      url: toAbsoluteUrl('/media/files/document.pdf'),\n    },\n    {\n      id: 'default-doc-2',\n      name: 'intro.zip',\n      size: 252846,\n      type: 'application/zip',\n      url: toAbsoluteUrl('/media/files/intro.zip'),\n    },\n    {\n      id: 'default-doc-3',\n      name: 'conclusion.xlsx',\n      size: 353126,\n      type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n      url: toAbsoluteUrl('/media/files/conclusion.xlsx'),\n    },\n    {\n      id: 'default-doc-4',\n      name: 'package.json',\n      size: 697,\n      type: 'application/json',\n      url: toAbsoluteUrl('/media/files/package.json'),\n    },\n  ];\n\n  // Convert default files to FileUploadItem format\n  const defaultUploadFiles: FileUploadItem[] = defaultFiles.map((file) => ({\n    id: file.id,\n    file: {\n      name: file.name,\n      size: file.size,\n      type: file.type,\n    } as File,\n    preview: file.url,\n    progress: 100,\n    status: 'completed' as const,\n  }));\n\n  const [uploadFiles, setUploadFiles] = useState<FileUploadItem[]>(defaultUploadFiles);\n\n  const [\n    { isDragging, errors },\n    {\n      removeFile,\n      clearFiles,\n      handleDragEnter,\n      handleDragLeave,\n      handleDragOver,\n      handleDrop,\n      openFileDialog,\n      getInputProps,\n    },\n  ] = useFileUpload({\n    maxFiles,\n    maxSize,\n    accept,\n    multiple,\n    initialFiles: defaultFiles,\n    onFilesChange: (newFiles) => {\n      // Convert to upload items when files change, preserving existing status\n      const newUploadFiles = newFiles.map((file) => {\n        // Check if this file already exists in uploadFiles\n        const existingFile = uploadFiles.find((existing) => existing.id === file.id);\n\n        if (existingFile) {\n          // Preserve existing file status and progress\n          return {\n            ...existingFile,\n            ...file, // Update any changed properties from the file\n          };\n        } else {\n          // New file - set to uploading\n          return {\n            ...file,\n            progress: 0,\n            status: 'uploading' as const,\n          };\n        }\n      });\n      setUploadFiles(newUploadFiles);\n      onFilesChange?.(newFiles);\n    },\n  });\n\n  // Simulate upload progress\n  useEffect(() => {\n    if (!simulateUpload) return;\n\n    const interval = setInterval(() => {\n      setUploadFiles((prev) =>\n        prev.map((file) => {\n          if (file.status !== 'uploading') return file;\n\n          const increment = Math.random() * 15 + 5; // 5-20% increment\n          const newProgress = Math.min(file.progress + increment, 100);\n\n          if (newProgress >= 100) {\n            // Randomly decide if upload succeeds or fails\n            const shouldFail = Math.random() < 0.1; // 10% chance to fail\n            return {\n              ...file,\n              progress: 100,\n              status: shouldFail ? ('error' as const) : ('completed' as const),\n              error: shouldFail ? 'Upload failed. Please try again.' : undefined,\n            };\n          }\n\n          return { ...file, progress: newProgress };\n        }),\n      );\n    }, 500);\n\n    return () => clearInterval(interval);\n  }, [simulateUpload]);\n\n  const removeUploadFile = (fileId: string) => {\n    setUploadFiles((prev) => prev.filter((file) => file.id !== fileId));\n    removeFile(fileId);\n  };\n\n  const retryUpload = (fileId: string) => {\n    setUploadFiles((prev) =>\n      prev.map((file) =>\n        file.id === fileId ? { ...file, progress: 0, status: 'uploading' as const, error: undefined } : file,\n      ),\n    );\n  };\n\n  const getFileIcon = (file: File | FileMetadata) => {\n    const type = file instanceof File ? file.type : file.type;\n    if (type.startsWith('image/')) return <ImageIcon className=\"size-4\" />;\n    if (type.startsWith('video/')) return <VideoIcon className=\"size-4\" />;\n    if (type.startsWith('audio/')) return <HeadphonesIcon className=\"size-4\" />;\n    if (type.includes('pdf')) return <FileTextIcon className=\"size-4\" />;\n    if (type.includes('word') || type.includes('doc')) return <FileTextIcon className=\"size-4\" />;\n    if (type.includes('excel') || type.includes('sheet')) return <FileSpreadsheetIcon className=\"size-4\" />;\n    if (type.includes('zip') || type.includes('rar')) return <FileArchiveIcon className=\"size-4\" />;\n    return <FileTextIcon className=\"size-4\" />;\n  };\n\n  const getFileTypeLabel = (file: File | FileMetadata) => {\n    const type = file instanceof File ? file.type : file.type;\n    if (type.startsWith('image/')) return 'Image';\n    if (type.startsWith('video/')) return 'Video';\n    if (type.startsWith('audio/')) return 'Audio';\n    if (type.includes('pdf')) return 'PDF';\n    if (type.includes('word') || type.includes('doc')) return 'Word';\n    if (type.includes('excel') || type.includes('sheet')) return 'Excel';\n    if (type.includes('zip') || type.includes('rar')) return 'Archive';\n    if (type.includes('json')) return 'JSON';\n    if (type.includes('text')) return 'Text';\n    return 'File';\n  };\n\n  return (\n    <div className={cn('w-full space-y-4', className)}>\n      {/* Upload Area */}\n      <div\n        className={cn(\n          'relative rounded-lg border border-dashed p-6 text-center transition-colors',\n          isDragging ? 'border-primary bg-primary/5' : 'border-muted-foreground/25 hover:border-muted-foreground/50',\n        )}\n        onDragEnter={handleDragEnter}\n        onDragLeave={handleDragLeave}\n        onDragOver={handleDragOver}\n        onDrop={handleDrop}\n      >\n        <input {...getInputProps()} className=\"sr-only\" />\n\n        <div className=\"flex flex-col items-center gap-4\">\n          <div\n            className={cn(\n              'flex h-12 w-12 items-center justify-center rounded-full bg-muted transition-colors',\n              isDragging ? 'border-primary bg-primary/10' : 'border-muted-foreground/25',\n            )}\n          >\n            <Upload className=\"h-5 w-5 text-muted-foreground\" />\n          </div>\n\n          <div className=\"space-y-2\">\n            <p className=\"text-sm font-medium\">\n              Drop files here or{' '}\n              <button\n                type=\"button\"\n                onClick={openFileDialog}\n                className=\"cursor-pointer text-primary underline-offset-4 hover:underline\"\n              >\n                browse files\n              </button>\n            </p>\n            <p className=\"text-xs text-muted-foreground\">\n              Maximum file size: {formatBytes(maxSize)} â€¢ Maximum files: {maxFiles}\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Files Table */}\n      {uploadFiles.length > 0 && (\n        <div className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-sm font-medium\">Files ({uploadFiles.length})</h3>\n            <div className=\"flex gap-2\">\n              <Button onClick={openFileDialog} variant=\"outline\" size=\"sm\">\n                <CloudUpload />\n                Add files\n              </Button>\n              <Button onClick={clearFiles} variant=\"outline\" size=\"sm\">\n                <Trash2 />\n                Remove all\n              </Button>\n            </div>\n          </div>\n\n          <div className=\"rounded-lg border\">\n            <Table>\n              <TableHeader>\n                <TableRow className=\"text-xs\">\n                  <TableHead className=\"h-9\">Name</TableHead>\n                  <TableHead className=\"h-9\">Type</TableHead>\n                  <TableHead className=\"h-9\">Size</TableHead>\n                  <TableHead className=\"h-9 w-[100px] text-end\">Actions</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {uploadFiles.map((fileItem) => (\n                  <TableRow key={fileItem.id}>\n                    <TableCell className=\"py-2 ps-1.5\">\n                      <div className=\"flex items-center gap-1\">\n                        <div\n                          className={cn(\n                            'size-8 shrink-0 relative flex items-center justify-center text-muted-foreground/80',\n                          )}\n                        >\n                          {fileItem.status === 'uploading' ? (\n                            <div className=\"relative\">\n                              {/* Circular progress background */}\n                              <svg className=\"size-8 -rotate-90\" viewBox=\"0 0 32 32\">\n                                <circle\n                                  cx=\"16\"\n                                  cy=\"16\"\n                                  r=\"14\"\n                                  fill=\"none\"\n                                  stroke=\"currentColor\"\n                                  strokeWidth=\"2\"\n                                  className=\"text-muted-foreground/20\"\n                                />\n                                {/* Progress circle */}\n                                <circle\n                                  cx=\"16\"\n                                  cy=\"16\"\n                                  r=\"14\"\n                                  fill=\"none\"\n                                  stroke=\"currentColor\"\n                                  strokeWidth=\"2\"\n                                  strokeDasharray={`${2 * Math.PI * 14}`}\n                                  strokeDashoffset={`${2 * Math.PI * 14 * (1 - fileItem.progress / 100)}`}\n                                  className=\"text-primary transition-all duration-300\"\n                                  strokeLinecap=\"round\"\n                                />\n                              </svg>\n                              {/* File icon in center */}\n                              <div className=\"absolute inset-0 flex items-center justify-center\">\n                                {getFileIcon(fileItem.file)}\n                              </div>\n                            </div>\n                          ) : (\n                            <div className=\"not-[]:size-8 flex items-center justify-center\">\n                              {getFileIcon(fileItem.file)}\n                            </div>\n                          )}\n                        </div>\n                        <p className=\"flex items-center gap-1 truncate text-sm font-medium\">\n                          {fileItem.file.name}\n                          {fileItem.status === 'error' && (\n                            <Badge variant=\"destructive\" size=\"sm\" appearance=\"light\">\n                              Error\n                            </Badge>\n                          )}\n                        </p>\n                      </div>\n                    </TableCell>\n                    <TableCell className=\"py-2\">\n                      <Badge variant=\"secondary\" className=\"text-xs\">\n                        {getFileTypeLabel(fileItem.file)}\n                      </Badge>\n                    </TableCell>\n                    <TableCell className=\"py-2 text-sm text-muted-foreground\">\n                      {formatBytes(fileItem.file.size)}\n                    </TableCell>\n                    <TableCell className=\"py-2 pe-1\">\n                      <div className=\"flex items-center gap-1\">\n                        {fileItem.preview && (\n                          <Button variant=\"dim\" size=\"icon\" className=\"size-8\" asChild>\n                            <Link href={fileItem.preview} target=\"_blank\">\n                              <Download className=\"size-3.5\" />\n                            </Link>\n                          </Button>\n                        )}\n                        {fileItem.status === 'error' ? (\n                          <Button\n                            onClick={() => retryUpload(fileItem.id)}\n                            variant=\"dim\"\n                            size=\"icon\"\n                            className=\"size-8 text-destructive/80 hover:text-destructive\"\n                          >\n                            <RefreshCwIcon className=\"size-3.5\" />\n                          </Button>\n                        ) : (\n                          <Button\n                            onClick={() => removeUploadFile(fileItem.id)}\n                            variant=\"dim\"\n                            size=\"icon\"\n                            className=\"size-8\"\n                          >\n                            <Trash2 className=\"size-3.5\" />\n                          </Button>\n                        )}\n                      </div>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </div>\n        </div>\n      )}\n\n      {/* Error Messages */}\n      {errors.length > 0 && (\n        <Alert variant=\"destructive\" appearance=\"light\" className=\"mt-5\">\n          <AlertIcon>\n            <TriangleAlert />\n          </AlertIcon>\n          <AlertContent>\n            <AlertTitle>File upload error(s)</AlertTitle>\n            <AlertDescription>\n              {errors.map((error, index) => (\n                <p key={index} className=\"last:mb-0\">\n                  {error}\n                </p>\n              ))}\n            </AlertDescription>\n          </AlertContent>\n        </Alert>\n      )}\n    </div>\n  );\n}\n",
    "highlightedCode": "<pre class=\"shiki github-dark-default\" style=\"background-color:#0d1117;color:#e6edf3\" tabindex=\"0\"><code data-line-numbers=\"\"><span class=\"line\"><span style=\"color:#A5D6FF\">'use client'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { useEffect, useState } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'react'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> Link </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'next/link'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  formatBytes,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  useFileUpload,</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  type</span><span style=\"color:#E6EDF3\"> FileMetadata,</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  type</span><span style=\"color:#E6EDF3\"> FileWithPreview,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">} </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/hooks/use-file-upload'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Alert, AlertContent, AlertDescription, AlertIcon, AlertTitle } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/alert'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Badge } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/badge'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Button } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/button'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/components/ui/table'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  CloudUpload,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  Download,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  FileArchiveIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  FileSpreadsheetIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  FileTextIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  HeadphonesIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  ImageIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  RefreshCwIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  Trash2,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  TriangleAlert,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  Upload,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  VideoIcon,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">} </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> 'lucide-react'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { toAbsoluteUrl } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/lib/helpers'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">import</span><span style=\"color:#E6EDF3\"> { cn } </span><span style=\"color:#FF7B72\">from</span><span style=\"color:#A5D6FF\"> '@/lib/utils'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">interface</span><span style=\"color:#FFA657\"> FileUploadItem</span><span style=\"color:#FF7B72\"> extends</span><span style=\"color:#79C0FF\"> FileWithPreview</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  progress</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  status</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#A5D6FF\"> 'uploading'</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#A5D6FF\"> 'completed'</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#A5D6FF\"> 'error'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  error</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">interface</span><span style=\"color:#FFA657\"> TableUploadProps</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxFiles</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> number</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  accept</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  multiple</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> boolean</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">  onFilesChange</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">files</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileWithPreview</span><span style=\"color:#E6EDF3\">[]) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#79C0FF\"> void</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  simulateUpload</span><span style=\"color:#FF7B72\">?:</span><span style=\"color:#79C0FF\"> boolean</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">export</span><span style=\"color:#FF7B72\"> default</span><span style=\"color:#FF7B72\"> function</span><span style=\"color:#D2A8FF\"> TableUpload</span><span style=\"color:#FFA657\">({</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxFiles </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 10</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  maxSize </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> 50</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 1024</span><span style=\"color:#FFA657\">, </span><span style=\"color:#8B949E\">// 50MB</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  accept </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\"> '*'</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  multiple </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> true</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  className,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  onFilesChange,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">  simulateUpload </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#79C0FF\"> true</span><span style=\"color:#FFA657\">,</span></span>\n<span class=\"line\"><span style=\"color:#FFA657\">}</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> TableUploadProps) </span><span style=\"color:#E6EDF3\">{</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">  // Create default files using FileMetadata type</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> defaultFiles</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileMetadata</span><span style=\"color:#E6EDF3\">[] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#E6EDF3\"> [</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      id: </span><span style=\"color:#A5D6FF\">'default-doc-1'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      name: </span><span style=\"color:#A5D6FF\">'document.pdf'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      size: </span><span style=\"color:#79C0FF\">529254</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      type: </span><span style=\"color:#A5D6FF\">'application/pdf'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      url: </span><span style=\"color:#D2A8FF\">toAbsoluteUrl</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'/media/files/document.pdf'</span><span style=\"color:#E6EDF3\">),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      id: </span><span style=\"color:#A5D6FF\">'default-doc-2'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      name: </span><span style=\"color:#A5D6FF\">'intro.zip'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      size: </span><span style=\"color:#79C0FF\">252846</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      type: </span><span style=\"color:#A5D6FF\">'application/zip'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      url: </span><span style=\"color:#D2A8FF\">toAbsoluteUrl</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'/media/files/intro.zip'</span><span style=\"color:#E6EDF3\">),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      id: </span><span style=\"color:#A5D6FF\">'default-doc-3'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      name: </span><span style=\"color:#A5D6FF\">'conclusion.xlsx'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      size: </span><span style=\"color:#79C0FF\">353126</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      type: </span><span style=\"color:#A5D6FF\">'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      url: </span><span style=\"color:#D2A8FF\">toAbsoluteUrl</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'/media/files/conclusion.xlsx'</span><span style=\"color:#E6EDF3\">),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      id: </span><span style=\"color:#A5D6FF\">'default-doc-4'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      name: </span><span style=\"color:#A5D6FF\">'package.json'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      size: </span><span style=\"color:#79C0FF\">697</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      type: </span><span style=\"color:#A5D6FF\">'application/json'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      url: </span><span style=\"color:#D2A8FF\">toAbsoluteUrl</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'/media/files/package.json'</span><span style=\"color:#E6EDF3\">),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  ];</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">  // Convert default files to FileUploadItem format</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#79C0FF\"> defaultUploadFiles</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> FileUploadItem</span><span style=\"color:#E6EDF3\">[] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#E6EDF3\"> defaultFiles.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">file</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> ({</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    id: file.id,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    file: {</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      name: file.name,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      size: file.size,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      type: file.type,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    } </span><span style=\"color:#FF7B72\">as</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    preview: file.url,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    progress: </span><span style=\"color:#79C0FF\">100</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    status: </span><span style=\"color:#A5D6FF\">'completed'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  }));</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span><span style=\"color:#79C0FF\">uploadFiles</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">setUploadFiles</span><span style=\"color:#E6EDF3\">] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useState</span><span style=\"color:#E6EDF3\">&#x3C;</span><span style=\"color:#FFA657\">FileUploadItem</span><span style=\"color:#E6EDF3\">[]>(defaultUploadFiles);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#E6EDF3\"> [</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    { </span><span style=\"color:#79C0FF\">isDragging</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#79C0FF\">errors</span><span style=\"color:#E6EDF3\"> },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    {</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      removeFile</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      clearFiles</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDragEnter</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDragLeave</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDragOver</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      handleDrop</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      openFileDialog</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">      getInputProps</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  ] </span><span style=\"color:#FF7B72\">=</span><span style=\"color:#D2A8FF\"> useFileUpload</span><span style=\"color:#E6EDF3\">({</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    maxFiles,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    maxSize,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    accept,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    multiple,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    initialFiles: defaultFiles,</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    onFilesChange</span><span style=\"color:#E6EDF3\">: (</span><span style=\"color:#FFA657\">newFiles</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">      // Convert to upload items when files change, preserving existing status</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      const</span><span style=\"color:#79C0FF\"> newUploadFiles</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> newFiles.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">file</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">        // Check if this file already exists in uploadFiles</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        const</span><span style=\"color:#79C0FF\"> existingFile</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> uploadFiles.</span><span style=\"color:#D2A8FF\">find</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">existing</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> existing.id </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#E6EDF3\"> file.id);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">        if</span><span style=\"color:#E6EDF3\"> (existingFile) {</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">          // Preserve existing file status and progress</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          return</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            ...</span><span style=\"color:#E6EDF3\">existingFile,</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            ...</span><span style=\"color:#E6EDF3\">file, </span><span style=\"color:#8B949E\">// Update any changed properties from the file</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          };</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        } </span><span style=\"color:#FF7B72\">else</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">          // New file - set to uploading</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          return</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            ...</span><span style=\"color:#E6EDF3\">file,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            progress: </span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            status: </span><span style=\"color:#A5D6FF\">'uploading'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          };</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        }</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      });</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      setUploadFiles</span><span style=\"color:#E6EDF3\">(newUploadFiles);</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      onFilesChange</span><span style=\"color:#E6EDF3\">?.(newFiles);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    },</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  });</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#8B949E\">  // Simulate upload progress</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">  useEffect</span><span style=\"color:#E6EDF3\">(() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FF7B72\">!</span><span style=\"color:#E6EDF3\">simulateUpload) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> interval</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#D2A8FF\"> setInterval</span><span style=\"color:#E6EDF3\">(() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">      setUploadFiles</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        prev.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">file</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          if</span><span style=\"color:#E6EDF3\"> (file.status </span><span style=\"color:#FF7B72\">!==</span><span style=\"color:#A5D6FF\"> 'uploading'</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> file;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          const</span><span style=\"color:#79C0FF\"> increment</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">random</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">*</span><span style=\"color:#79C0FF\"> 15</span><span style=\"color:#FF7B72\"> +</span><span style=\"color:#79C0FF\"> 5</span><span style=\"color:#E6EDF3\">; </span><span style=\"color:#8B949E\">// 5-20% increment</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          const</span><span style=\"color:#79C0FF\"> newProgress</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">min</span><span style=\"color:#E6EDF3\">(file.progress </span><span style=\"color:#FF7B72\">+</span><span style=\"color:#E6EDF3\"> increment, </span><span style=\"color:#79C0FF\">100</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          if</span><span style=\"color:#E6EDF3\"> (newProgress </span><span style=\"color:#FF7B72\">>=</span><span style=\"color:#79C0FF\"> 100</span><span style=\"color:#E6EDF3\">) {</span></span>\n<span class=\"line\"><span style=\"color:#8B949E\">            // Randomly decide if upload succeeds or fails</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            const</span><span style=\"color:#79C0FF\"> shouldFail</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> Math.</span><span style=\"color:#D2A8FF\">random</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">&#x3C;</span><span style=\"color:#79C0FF\"> 0.1</span><span style=\"color:#E6EDF3\">; </span><span style=\"color:#8B949E\">// 10% chance to fail</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">            return</span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              ...</span><span style=\"color:#E6EDF3\">file,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              progress: </span><span style=\"color:#79C0FF\">100</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              status: shouldFail </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#A5D6FF\">'error'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#A5D6FF\">'completed'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\">),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              error: shouldFail </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'Upload failed. Please try again.'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#79C0FF\"> undefined</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            };</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">          return</span><span style=\"color:#E6EDF3\"> { </span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">file, progress: newProgress };</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        }),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      );</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    }, </span><span style=\"color:#79C0FF\">500</span><span style=\"color:#E6EDF3\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    return</span><span style=\"color:#E6EDF3\"> () </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> clearInterval</span><span style=\"color:#E6EDF3\">(interval);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  }, [simulateUpload]);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> removeUploadFile</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">fileId</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    setUploadFiles</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> prev.</span><span style=\"color:#D2A8FF\">filter</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">file</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> file.id </span><span style=\"color:#FF7B72\">!==</span><span style=\"color:#E6EDF3\"> fileId));</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    removeFile</span><span style=\"color:#E6EDF3\">(fileId);</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> retryUpload</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">fileId</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#79C0FF\"> string</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D2A8FF\">    setUploadFiles</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">prev</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      prev.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">file</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        file.id </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#E6EDF3\"> fileId </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#E6EDF3\"> { </span><span style=\"color:#FF7B72\">...</span><span style=\"color:#E6EDF3\">file, progress: </span><span style=\"color:#79C0FF\">0</span><span style=\"color:#E6EDF3\">, status: </span><span style=\"color:#A5D6FF\">'uploading'</span><span style=\"color:#FF7B72\"> as</span><span style=\"color:#FF7B72\"> const</span><span style=\"color:#E6EDF3\">, error: </span><span style=\"color:#79C0FF\">undefined</span><span style=\"color:#E6EDF3\"> } </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> file,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      ),</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    );</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> getFileIcon</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">file</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#FFA657\"> FileMetadata</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> type</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> file </span><span style=\"color:#FF7B72\">instanceof</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#FF7B72\"> ?</span><span style=\"color:#E6EDF3\"> file.type </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> file.type;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'image/'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">ImageIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'video/'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">VideoIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'audio/'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">HeadphonesIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'pdf'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">FileTextIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'word'</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">||</span><span style=\"color:#E6EDF3\"> type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'doc'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">FileTextIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'excel'</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">||</span><span style=\"color:#E6EDF3\"> type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'sheet'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">FileSpreadsheetIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'zip'</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">||</span><span style=\"color:#E6EDF3\"> type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'rar'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">FileArchiveIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    return</span><span style=\"color:#E6EDF3\"> &#x3C;</span><span style=\"color:#7EE787\">FileTextIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-4\"</span><span style=\"color:#E6EDF3\"> />;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  const</span><span style=\"color:#D2A8FF\"> getFileTypeLabel</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> (</span><span style=\"color:#FFA657\">file</span><span style=\"color:#FF7B72\">:</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#FF7B72\"> |</span><span style=\"color:#FFA657\"> FileMetadata</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> {</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    const</span><span style=\"color:#79C0FF\"> type</span><span style=\"color:#FF7B72\"> =</span><span style=\"color:#E6EDF3\"> file </span><span style=\"color:#FF7B72\">instanceof</span><span style=\"color:#FFA657\"> File</span><span style=\"color:#FF7B72\"> ?</span><span style=\"color:#E6EDF3\"> file.type </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> file.type;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'image/'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#A5D6FF\"> 'Image'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'video/'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#A5D6FF\"> 'Video'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">startsWith</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'audio/'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#A5D6FF\"> 'Audio'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'pdf'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#A5D6FF\"> 'PDF'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'word'</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">||</span><span style=\"color:#E6EDF3\"> type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'doc'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#A5D6FF\"> 'Word'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'excel'</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">||</span><span style=\"color:#E6EDF3\"> type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'sheet'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#A5D6FF\"> 'Excel'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'zip'</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">||</span><span style=\"color:#E6EDF3\"> type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'rar'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#A5D6FF\"> 'Archive'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'json'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#A5D6FF\"> 'JSON'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    if</span><span style=\"color:#E6EDF3\"> (type.</span><span style=\"color:#D2A8FF\">includes</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'text'</span><span style=\"color:#E6EDF3\">)) </span><span style=\"color:#FF7B72\">return</span><span style=\"color:#A5D6FF\"> 'Text'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">    return</span><span style=\"color:#A5D6FF\"> 'File'</span><span style=\"color:#E6EDF3\">;</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  };</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">  return</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span><span style=\"color:#A5D6FF\">'w-full space-y-4'</span><span style=\"color:#E6EDF3\">, className)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Upload Area */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;</span><span style=\"color:#7EE787\">div</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#A5D6FF\">          'relative rounded-lg border border-dashed p-6 text-center transition-colors'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          isDragging </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'border-primary bg-primary/5'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'border-muted-foreground/25 hover:border-muted-foreground/50'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragEnter</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragEnter</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragLeave</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragLeave</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDragOver</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDragOver</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">        onDrop</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">handleDrop</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">input</span><span style=\"color:#FF7B72\"> {...</span><span style=\"color:#D2A8FF\">getInputProps</span><span style=\"color:#E6EDF3\">()</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sr-only\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex flex-col items-center gap-4\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">            className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#A5D6FF\">              'flex h-12 w-12 items-center justify-center rounded-full bg-muted transition-colors'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              isDragging </span><span style=\"color:#FF7B72\">?</span><span style=\"color:#A5D6FF\"> 'border-primary bg-primary/10'</span><span style=\"color:#FF7B72\"> :</span><span style=\"color:#A5D6FF\"> 'border-muted-foreground/25'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">Upload</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-5 w-5 text-muted-foreground\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"space-y-2\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-sm font-medium\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              Drop files here or</span><span style=\"color:#FF7B72\">{</span><span style=\"color:#A5D6FF\">' '</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">button</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                type</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"button\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">openFileDialog</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"cursor-pointer text-primary underline-offset-4 hover:underline\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                browse files</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs text-muted-foreground\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              Maximum file size: </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#E6EDF3\">(maxSize)</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\"> â€¢ Maximum files: </span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">maxFiles</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Files Table */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">uploadFiles.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"space-y-4\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center justify-between\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">h3</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-sm font-medium\"</span><span style=\"color:#E6EDF3\">>Files (</span><span style=\"color:#FF7B72\">{</span><span style=\"color:#E6EDF3\">uploadFiles.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">)&#x3C;/</span><span style=\"color:#7EE787\">h3</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex gap-2\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">openFileDialog</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"outline\"</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">CloudUpload</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                Add files</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">clearFiles</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"outline\"</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">Trash2</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                Remove all</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"rounded-lg border\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">Table</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">TableHeader</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">TableRow</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">TableHead</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-9\"</span><span style=\"color:#E6EDF3\">>Name&#x3C;/</span><span style=\"color:#7EE787\">TableHead</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">TableHead</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-9\"</span><span style=\"color:#E6EDF3\">>Type&#x3C;/</span><span style=\"color:#7EE787\">TableHead</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">TableHead</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-9\"</span><span style=\"color:#E6EDF3\">>Size&#x3C;/</span><span style=\"color:#7EE787\">TableHead</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">TableHead</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"h-9 w-[100px] text-end\"</span><span style=\"color:#E6EDF3\">>Actions&#x3C;/</span><span style=\"color:#7EE787\">TableHead</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">TableRow</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">TableHeader</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;</span><span style=\"color:#7EE787\">TableBody</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                {</span><span style=\"color:#E6EDF3\">uploadFiles.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">fileItem</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;</span><span style=\"color:#7EE787\">TableRow</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">fileItem.id</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">TableCell</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"py-2 ps-1.5\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center gap-1\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        &#x3C;</span><span style=\"color:#7EE787\">div</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                          className</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#D2A8FF\">cn</span><span style=\"color:#E6EDF3\">(</span></span>\n<span class=\"line\"><span style=\"color:#A5D6FF\">                            'size-8 shrink-0 relative flex items-center justify-center text-muted-foreground/80'</span><span style=\"color:#E6EDF3\">,</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        ></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                          {</span><span style=\"color:#E6EDF3\">fileItem.status </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#A5D6FF\"> 'uploading'</span><span style=\"color:#FF7B72\"> ?</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"relative\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                              {</span><span style=\"color:#8B949E\">/* Circular progress background */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                              &#x3C;</span><span style=\"color:#7EE787\">svg</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-8 -rotate-90\"</span><span style=\"color:#79C0FF\"> viewBox</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"0 0 32 32\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                                &#x3C;</span><span style=\"color:#7EE787\">circle</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  cx</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"16\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  cy</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"16\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  r</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"14\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  fill</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"none\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  stroke</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"currentColor\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  strokeWidth</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"2\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-muted-foreground/20\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                                /></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                                {</span><span style=\"color:#8B949E\">/* Progress circle */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                                &#x3C;</span><span style=\"color:#7EE787\">circle</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  cx</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"16\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  cy</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"16\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  r</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"14\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  fill</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"none\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  stroke</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"currentColor\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  strokeWidth</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"2\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  strokeDasharray</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#A5D6FF\">`${</span><span style=\"color:#79C0FF\">2</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#E6EDF3\"> Math</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#79C0FF\">PI</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 14</span><span style=\"color:#A5D6FF\">}`</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  strokeDashoffset</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#A5D6FF\">`${</span><span style=\"color:#79C0FF\">2</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#E6EDF3\"> Math</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#79C0FF\">PI</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#79C0FF\"> 14</span><span style=\"color:#FF7B72\"> *</span><span style=\"color:#A5D6FF\"> (</span><span style=\"color:#79C0FF\">1</span><span style=\"color:#FF7B72\"> -</span><span style=\"color:#E6EDF3\"> fileItem</span><span style=\"color:#A5D6FF\">.</span><span style=\"color:#E6EDF3\">progress</span><span style=\"color:#FF7B72\"> /</span><span style=\"color:#79C0FF\"> 100</span><span style=\"color:#A5D6FF\">)</span><span style=\"color:#A5D6FF\">}`</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-primary transition-all duration-300\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                                  strokeLinecap</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"round\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                                /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                              &#x3C;/</span><span style=\"color:#7EE787\">svg</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                              {</span><span style=\"color:#8B949E\">/* File icon in center */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                              &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"absolute inset-0 flex items-center justify-center\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                                {</span><span style=\"color:#D2A8FF\">getFileIcon</span><span style=\"color:#E6EDF3\">(fileItem.file)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                              &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          ) </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"not-[]:size-8 flex items-center justify-center\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                              {</span><span style=\"color:#D2A8FF\">getFileIcon</span><span style=\"color:#E6EDF3\">(fileItem.file)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center gap-1 truncate text-sm font-medium\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                          {</span><span style=\"color:#E6EDF3\">fileItem.file.name</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                          {</span><span style=\"color:#E6EDF3\">fileItem.status </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#A5D6FF\"> 'error'</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;</span><span style=\"color:#7EE787\">Badge</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"destructive\"</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"sm\"</span><span style=\"color:#79C0FF\"> appearance</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"light\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                              Error</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;/</span><span style=\"color:#7EE787\">Badge</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;/</span><span style=\"color:#7EE787\">TableCell</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">TableCell</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"py-2\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">Badge</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"secondary\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"text-xs\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                        {</span><span style=\"color:#D2A8FF\">getFileTypeLabel</span><span style=\"color:#E6EDF3\">(fileItem.file)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;/</span><span style=\"color:#7EE787\">Badge</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;/</span><span style=\"color:#7EE787\">TableCell</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">TableCell</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"py-2 text-sm text-muted-foreground\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                      {</span><span style=\"color:#D2A8FF\">formatBytes</span><span style=\"color:#E6EDF3\">(fileItem.file.size)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;/</span><span style=\"color:#7EE787\">TableCell</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;</span><span style=\"color:#7EE787\">TableCell</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"py-2 pe-1\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;</span><span style=\"color:#7EE787\">div</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"flex items-center gap-1\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                        {</span><span style=\"color:#E6EDF3\">fileItem.preview </span><span style=\"color:#FF7B72\">&#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          &#x3C;</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"dim\"</span><span style=\"color:#79C0FF\"> size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"icon\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-8\"</span><span style=\"color:#79C0FF\"> asChild</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;</span><span style=\"color:#7EE787\">Link</span><span style=\"color:#79C0FF\"> href</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">fileItem.preview</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> target</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"_blank\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                              &#x3C;</span><span style=\"color:#7EE787\">Download</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-3.5\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;/</span><span style=\"color:#7EE787\">Link</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                        {</span><span style=\"color:#E6EDF3\">fileItem.status </span><span style=\"color:#FF7B72\">===</span><span style=\"color:#A5D6FF\"> 'error'</span><span style=\"color:#FF7B72\"> ?</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          &#x3C;</span><span style=\"color:#7EE787\">Button</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                            onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> retryUpload</span><span style=\"color:#E6EDF3\">(fileItem.id)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                            variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"dim\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                            size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"icon\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                            className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-8 text-destructive/80 hover:text-destructive\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;</span><span style=\"color:#7EE787\">RefreshCwIcon</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-3.5\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        ) </span><span style=\"color:#FF7B72\">:</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          &#x3C;</span><span style=\"color:#7EE787\">Button</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                            onClick</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">() </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#D2A8FF\"> removeUploadFile</span><span style=\"color:#E6EDF3\">(fileItem.id)</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                            variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"dim\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                            size</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"icon\"</span></span>\n<span class=\"line\"><span style=\"color:#79C0FF\">                            className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-8\"</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          ></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                            &#x3C;</span><span style=\"color:#7EE787\">Trash2</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"size-3.5\"</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                          &#x3C;/</span><span style=\"color:#7EE787\">Button</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                        )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                      &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                    &#x3C;/</span><span style=\"color:#7EE787\">TableCell</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                  &#x3C;/</span><span style=\"color:#7EE787\">TableRow</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              &#x3C;/</span><span style=\"color:#7EE787\">TableBody</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">Table</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#8B949E\">/* Error Messages */</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">      {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#79C0FF\">length</span><span style=\"color:#FF7B72\"> ></span><span style=\"color:#79C0FF\"> 0</span><span style=\"color:#FF7B72\"> &#x26;&#x26;</span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#79C0FF\"> variant</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"destructive\"</span><span style=\"color:#79C0FF\"> appearance</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"light\"</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"mt-5\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">TriangleAlert</span><span style=\"color:#E6EDF3\"> /></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertIcon</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">>File upload error(s)&#x3C;/</span><span style=\"color:#7EE787\">AlertTitle</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">              {</span><span style=\"color:#E6EDF3\">errors.</span><span style=\"color:#D2A8FF\">map</span><span style=\"color:#E6EDF3\">((</span><span style=\"color:#FFA657\">error</span><span style=\"color:#E6EDF3\">, </span><span style=\"color:#FFA657\">index</span><span style=\"color:#E6EDF3\">) </span><span style=\"color:#FF7B72\">=></span><span style=\"color:#E6EDF3\"> (</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;</span><span style=\"color:#7EE787\">p</span><span style=\"color:#79C0FF\"> key</span><span style=\"color:#FF7B72\">={</span><span style=\"color:#E6EDF3\">index</span><span style=\"color:#FF7B72\">}</span><span style=\"color:#79C0FF\"> className</span><span style=\"color:#FF7B72\">=</span><span style=\"color:#A5D6FF\">\"last:mb-0\"</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#FF7B72\">                  {</span><span style=\"color:#E6EDF3\">error</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">                &#x3C;/</span><span style=\"color:#7EE787\">p</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">              ))</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">            &#x3C;/</span><span style=\"color:#7EE787\">AlertDescription</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">          &#x3C;/</span><span style=\"color:#7EE787\">AlertContent</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">        &#x3C;/</span><span style=\"color:#7EE787\">Alert</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">      )</span><span style=\"color:#FF7B72\">}</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">    &#x3C;/</span><span style=\"color:#7EE787\">div</span><span style=\"color:#E6EDF3\">></span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E6EDF3\">}</span></span>\n<span class=\"line\"></span></code></pre>"
  }
}