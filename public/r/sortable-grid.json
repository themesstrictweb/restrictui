{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "sortable-grid",
  "dependencies": [
    "sonner",
    "clsx",
    "tailwind-merge",
    "class-variance-authority",
    "radix-ui",
    "@dnd-kit/core",
    "@dnd-kit/sortable",
    "@dnd-kit/utilities",
    "@radix-ui/react-slot",
    "lucide-react"
  ],
  "registryDependencies": [
    "https://restrictui.strict-web.com/r/badge.json",
    "https://restrictui.strict-web.com/r/sortable.json"
  ],
  "files": [
    {
      "path": "registry/default/components/sortable/grid.tsx",
      "content": "'use client';\n\nimport { useState } from 'react';\nimport { cn } from '@/registry/default/lib/utils';\nimport { Badge } from '@/registry/default/ui/badge';\nimport { Sortable, SortableItem, SortableItemHandle } from '@/registry/default/ui/sortable';\nimport { FileTextIcon, GripVertical, ImageIcon, MusicIcon, StarIcon, VideoIcon } from 'lucide-react';\nimport { toast } from 'sonner';\n\ninterface GridItem {\n  id: string;\n  title: string;\n  description: string;\n  type: 'image' | 'document' | 'audio' | 'video' | 'featured';\n  size: string;\n  priority: 'high' | 'medium' | 'low';\n}\n\nconst defaultGridItems: GridItem[] = [\n  {\n    id: '1',\n    title: 'Hero Image',\n    description: 'Main banner image',\n    type: 'image',\n    size: '2.4 MB',\n    priority: 'high',\n  },\n  {\n    id: '2',\n    title: 'Product Specs',\n    description: 'Technical documentation',\n    type: 'document',\n    size: '1.2 MB',\n    priority: 'medium',\n  },\n  {\n    id: '3',\n    title: 'Demo Video',\n    description: 'Product demonstration',\n    type: 'video',\n    size: '15.7 MB',\n    priority: 'high',\n  },\n  {\n    id: '4',\n    title: 'Audio Guide',\n    description: 'Voice instructions',\n    type: 'audio',\n    size: '8.3 MB',\n    priority: 'low',\n  },\n  {\n    id: '5',\n    title: 'Gallery Photo 1',\n    description: 'Product view 1',\n    type: 'image',\n    size: '3.1 MB',\n    priority: 'medium',\n  },\n  {\n    id: '6',\n    title: 'Gallery Photo 2',\n    description: 'Product view 2',\n    type: 'image',\n    size: '2.8 MB',\n    priority: 'medium',\n  },\n  {\n    id: '7',\n    title: 'User Manual',\n    description: 'Installation guide',\n    type: 'document',\n    size: '4.2 MB',\n    priority: 'high',\n  },\n  {\n    id: '8',\n    title: 'Background Music',\n    description: 'Ambient soundtrack',\n    type: 'audio',\n    size: '12.1 MB',\n    priority: 'low',\n  },\n  {\n    id: '9',\n    title: 'Feature Highlight',\n    description: 'Key product features',\n    type: 'featured',\n    size: 'N/A',\n    priority: 'high',\n  },\n];\n\nconst getTypeIcon = (type: GridItem['type']) => {\n  switch (type) {\n    case 'image':\n      return <ImageIcon className=\"h-4 w-4\" />;\n    case 'document':\n      return <FileTextIcon className=\"h-4 w-4\" />;\n    case 'audio':\n      return <MusicIcon className=\"h-4 w-4\" />;\n    case 'video':\n      return <VideoIcon className=\"h-4 w-4\" />;\n    case 'featured':\n      return <StarIcon className=\"h-4 w-4\" />;\n  }\n};\n\nconst getTypeColor = (type: GridItem['type']) => {\n  switch (type) {\n    case 'image':\n      return 'primary';\n    case 'document':\n      return 'success';\n    case 'audio':\n      return 'destructive';\n    case 'video':\n      return 'info';\n    case 'featured':\n      return 'warning';\n  }\n};\n\nconst getPriorityColor = (priority: GridItem['priority']) => {\n  switch (priority) {\n    case 'high':\n      return 'text-red-600 bg-red-50 border-red-200';\n    case 'medium':\n      return 'text-yellow-600 bg-yellow-50 border-yellow-200';\n    case 'low':\n      return 'text-green-600 bg-green-50 border-green-200';\n  }\n};\n\nconst getItemSize = (type: GridItem['type']) => {\n  switch (type) {\n    case 'featured':\n      return 'col-span-2 row-span-2';\n    case 'image':\n    case 'video':\n      return 'col-span-1 row-span-1';\n    case 'document':\n    case 'audio':\n      return 'col-span-1 row-span-1';\n    default:\n      return 'col-span-1 row-span-1';\n  }\n};\n\nexport default function SortableGrid() {\n  const [items, setItems] = useState<GridItem[]>(defaultGridItems);\n\n  const handleValueChange = (newItems: GridItem[]) => {\n    console.log('ðŸ”´ GRID VALUE CHANGED:', newItems);\n    setItems(newItems);\n\n    // Show toast with new order\n    toast.success('Grid items reordered successfully!', {\n      description: `New order: ${newItems.map((item, index) => `${index + 1}. ${item.title}`).join(', ')}`,\n      duration: 4000,\n    });\n  };\n\n  const getItemValue = (item: GridItem) => item.id;\n\n  return (\n    <div className=\"w-full max-w-5xl mx-auto p-4 space-y-6\">\n      <Sortable\n        value={items}\n        onValueChange={handleValueChange}\n        getItemValue={getItemValue}\n        strategy=\"grid\"\n        className=\"grid grid-cols-3 gap-3 auto-rows-fr\"\n      >\n        {items.map((item) => (\n          <SortableItem key={item.id} value={item.id}>\n            <div\n              className={cn(\n                'group relative p-3 bg-background border border-border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer',\n                getItemSize(item.type),\n                'min-h-[100px] flex flex-col',\n              )}\n              onClick={() => console.log('ðŸ”´ GRID ITEM CLICKED:', item.id)}\n            >\n              <SortableItemHandle className=\"absolute top-2.5 end-1.5 text-muted-foreground hover:text-foreground z-10 opacity-0 group-hover:opacity-100 transition-opacity\">\n                <GripVertical className=\"h-3.5 w-3.5\" />\n              </SortableItemHandle>\n\n              <div className=\"flex-1 min-w-0\">\n                <h4 className=\"font-medium text-sm truncate\">{item.title}</h4>\n                <p className=\"text-xs text-muted-foreground truncate mt-0.5\">{item.description}</p>\n              </div>\n\n              <div className=\"flex items-center justify-between mt-2\">\n                <Badge variant={getTypeColor(item.type)} appearance=\"outline\" size=\"sm\">\n                  {item.type}\n                </Badge>\n                {item.type !== 'featured' && <span className=\"text-xs text-muted-foreground\">{item.size}</span>}\n              </div>\n            </div>\n          </SortableItem>\n        ))}\n      </Sortable>\n    </div>\n  );\n}\n",
      "type": "registry:component"
    },
    {
      "path": "registry\\default\\components\\sortable\\grid.tsx",
      "content": "'use client';\n\nimport { useState } from 'react';\nimport { cn } from '@/registry/default/lib/utils';\nimport { Badge } from '@/registry/default/ui/badge';\nimport { Sortable, SortableItem, SortableItemHandle } from '@/registry/default/ui/sortable';\nimport { FileTextIcon, GripVertical, ImageIcon, MusicIcon, StarIcon, VideoIcon } from 'lucide-react';\nimport { toast } from 'sonner';\n\ninterface GridItem {\n  id: string;\n  title: string;\n  description: string;\n  type: 'image' | 'document' | 'audio' | 'video' | 'featured';\n  size: string;\n  priority: 'high' | 'medium' | 'low';\n}\n\nconst defaultGridItems: GridItem[] = [\n  {\n    id: '1',\n    title: 'Hero Image',\n    description: 'Main banner image',\n    type: 'image',\n    size: '2.4 MB',\n    priority: 'high',\n  },\n  {\n    id: '2',\n    title: 'Product Specs',\n    description: 'Technical documentation',\n    type: 'document',\n    size: '1.2 MB',\n    priority: 'medium',\n  },\n  {\n    id: '3',\n    title: 'Demo Video',\n    description: 'Product demonstration',\n    type: 'video',\n    size: '15.7 MB',\n    priority: 'high',\n  },\n  {\n    id: '4',\n    title: 'Audio Guide',\n    description: 'Voice instructions',\n    type: 'audio',\n    size: '8.3 MB',\n    priority: 'low',\n  },\n  {\n    id: '5',\n    title: 'Gallery Photo 1',\n    description: 'Product view 1',\n    type: 'image',\n    size: '3.1 MB',\n    priority: 'medium',\n  },\n  {\n    id: '6',\n    title: 'Gallery Photo 2',\n    description: 'Product view 2',\n    type: 'image',\n    size: '2.8 MB',\n    priority: 'medium',\n  },\n  {\n    id: '7',\n    title: 'User Manual',\n    description: 'Installation guide',\n    type: 'document',\n    size: '4.2 MB',\n    priority: 'high',\n  },\n  {\n    id: '8',\n    title: 'Background Music',\n    description: 'Ambient soundtrack',\n    type: 'audio',\n    size: '12.1 MB',\n    priority: 'low',\n  },\n  {\n    id: '9',\n    title: 'Feature Highlight',\n    description: 'Key product features',\n    type: 'featured',\n    size: 'N/A',\n    priority: 'high',\n  },\n];\n\nconst getTypeIcon = (type: GridItem['type']) => {\n  switch (type) {\n    case 'image':\n      return <ImageIcon className=\"h-4 w-4\" />;\n    case 'document':\n      return <FileTextIcon className=\"h-4 w-4\" />;\n    case 'audio':\n      return <MusicIcon className=\"h-4 w-4\" />;\n    case 'video':\n      return <VideoIcon className=\"h-4 w-4\" />;\n    case 'featured':\n      return <StarIcon className=\"h-4 w-4\" />;\n  }\n};\n\nconst getTypeColor = (type: GridItem['type']) => {\n  switch (type) {\n    case 'image':\n      return 'primary';\n    case 'document':\n      return 'success';\n    case 'audio':\n      return 'destructive';\n    case 'video':\n      return 'info';\n    case 'featured':\n      return 'warning';\n  }\n};\n\nconst getPriorityColor = (priority: GridItem['priority']) => {\n  switch (priority) {\n    case 'high':\n      return 'text-red-600 bg-red-50 border-red-200';\n    case 'medium':\n      return 'text-yellow-600 bg-yellow-50 border-yellow-200';\n    case 'low':\n      return 'text-green-600 bg-green-50 border-green-200';\n  }\n};\n\nconst getItemSize = (type: GridItem['type']) => {\n  switch (type) {\n    case 'featured':\n      return 'col-span-2 row-span-2';\n    case 'image':\n    case 'video':\n      return 'col-span-1 row-span-1';\n    case 'document':\n    case 'audio':\n      return 'col-span-1 row-span-1';\n    default:\n      return 'col-span-1 row-span-1';\n  }\n};\n\nexport default function SortableGrid() {\n  const [items, setItems] = useState<GridItem[]>(defaultGridItems);\n\n  const handleValueChange = (newItems: GridItem[]) => {\n    console.log('ðŸ”´ GRID VALUE CHANGED:', newItems);\n    setItems(newItems);\n\n    // Show toast with new order\n    toast.success('Grid items reordered successfully!', {\n      description: `New order: ${newItems.map((item, index) => `${index + 1}. ${item.title}`).join(', ')}`,\n      duration: 4000,\n    });\n  };\n\n  const getItemValue = (item: GridItem) => item.id;\n\n  return (\n    <div className=\"w-full max-w-5xl mx-auto p-4 space-y-6\">\n      <Sortable\n        value={items}\n        onValueChange={handleValueChange}\n        getItemValue={getItemValue}\n        strategy=\"grid\"\n        className=\"grid grid-cols-3 gap-3 auto-rows-fr\"\n      >\n        {items.map((item) => (\n          <SortableItem key={item.id} value={item.id}>\n            <div\n              className={cn(\n                'group relative p-3 bg-background border border-border rounded-lg hover:bg-accent/50 transition-colors cursor-pointer',\n                getItemSize(item.type),\n                'min-h-[100px] flex flex-col',\n              )}\n              onClick={() => console.log('ðŸ”´ GRID ITEM CLICKED:', item.id)}\n            >\n              <SortableItemHandle className=\"absolute top-2.5 end-1.5 text-muted-foreground hover:text-foreground z-10 opacity-0 group-hover:opacity-100 transition-opacity\">\n                <GripVertical className=\"h-3.5 w-3.5\" />\n              </SortableItemHandle>\n\n              <div className=\"flex-1 min-w-0\">\n                <h4 className=\"font-medium text-sm truncate\">{item.title}</h4>\n                <p className=\"text-xs text-muted-foreground truncate mt-0.5\">{item.description}</p>\n              </div>\n\n              <div className=\"flex items-center justify-between mt-2\">\n                <Badge variant={getTypeColor(item.type)} appearance=\"outline\" size=\"sm\">\n                  {item.type}\n                </Badge>\n                {item.type !== 'featured' && <span className=\"text-xs text-muted-foreground\">{item.size}</span>}\n              </div>\n            </div>\n          </SortableItem>\n        ))}\n      </Sortable>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": ""
    },
    {
      "path": "registry\\default\\lib\\utils.ts",
      "content": "import { clsx, type ClassValue } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\n/**\n * Merges Tailwind class names, resolving any conflicts.\n *\n * @param inputs - An array of class names to merge.\n * @returns A string of merged and optimized class names.\n */\nexport function cn(...inputs: ClassValue[]): string {\n  return twMerge(clsx(inputs));\n}\n",
      "type": "registry:lib",
      "target": ""
    },
    {
      "path": "registry\\default\\ui\\badge.tsx",
      "content": "import * as React from 'react';\nimport { cn } from '@/registry/default/lib/utils';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { Slot as SlotPrimitive } from 'radix-ui';\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {\n  asChild?: boolean;\n  dotClassName?: string;\n  disabled?: boolean;\n}\n\nexport interface BadgeButtonProps\n  extends React.ButtonHTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeButtonVariants> {\n  asChild?: boolean;\n}\n\nexport type BadgeDotProps = React.HTMLAttributes<HTMLSpanElement>;\n\nconst badgeVariants = cva(\n  'inline-flex items-center whitespace-nowrap justify-center border border-transparent font-medium focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 [&_svg]:-ms-px [&_svg]:shrink-0',\n  {\n    variants: {\n      variant: {\n        primary: 'bg-primary text-primary-foreground',\n        secondary: 'bg-secondary text-secondary-foreground',\n        success:\n          'bg-[var(--color-success-accent,var(--color-green-500))] text-[var(--color-success-foreground,var(--color-white))]',\n        warning:\n          'bg-[var(--color-warning-accent,var(--color-yellow-500))] text-[var(--color-warning-foreground,var(--color-white))]',\n        info: 'bg-[var(--color-info-accent,var(--color-violet-500))] text-[var(--color-info-foreground,var(--color-white))]',\n        outline: 'bg-transparent border border-border text-secondary-foreground',\n        destructive: 'bg-destructive text-destructive-foreground',\n      },\n      appearance: {\n        default: '',\n        light: '',\n        outline: '',\n        ghost: 'border-transparent bg-transparent',\n      },\n      disabled: {\n        true: 'opacity-50 pointer-events-none',\n      },\n      size: {\n        lg: 'rounded-md px-[0.5rem] h-7 min-w-7 gap-1.5 text-xs [&_svg]:size-3.5',\n        md: 'rounded-md px-[0.45rem] h-6 min-w-6 gap-1.5 text-xs [&_svg]:size-3.5 ',\n        sm: 'rounded-sm px-[0.325rem] h-5 min-w-5 gap-1 text-[0.6875rem] leading-[0.75rem] [&_svg]:size-3',\n        xs: 'rounded-sm px-[0.25rem] h-4 min-w-4 gap-1 text-[0.625rem] leading-[0.5rem] [&_svg]:size-3',\n      },\n      shape: {\n        default: '',\n        circle: 'rounded-full',\n      },\n    },\n    compoundVariants: [\n      /* Light */\n      {\n        variant: 'primary',\n        appearance: 'light',\n        className:\n          'text-[var(--color-primary-accent,var(--color-blue-700))] bg-[var(--color-primary-soft,var(--color-blue-50))] dark:bg-[var(--color-primary-soft,var(--color-blue-950))] dark:text-[var(--color-primary-soft,var(--color-blue-600))]',\n      },\n      {\n        variant: 'secondary',\n        appearance: 'light',\n        className: 'bg-secondary dark:bg-secondary/50 text-secondary-foreground',\n      },\n      {\n        variant: 'success',\n        appearance: 'light',\n        className:\n          'text-[var(--color-success-accent,var(--color-green-800))] bg-[var(--color-success-soft,var(--color-green-100))] dark:bg-[var(--color-success-soft,var(--color-green-950))] dark:text-[var(--color-success-soft,var(--color-green-600))]',\n      },\n      {\n        variant: 'warning',\n        appearance: 'light',\n        className:\n          'text-[var(--color-warning-accent,var(--color-yellow-700))] bg-[var(--color-warning-soft,var(--color-yellow-100))] dark:bg-[var(--color-warning-soft,var(--color-yellow-950))] dark:text-[var(--color-warning-soft,var(--color-yellow-600))]',\n      },\n      {\n        variant: 'info',\n        appearance: 'light',\n        className:\n          'text-[var(--color-info-accent,var(--color-violet-700))] bg-[var(--color-info-soft,var(--color-violet-100))] dark:bg-[var(--color-info-soft,var(--color-violet-950))] dark:text-[var(--color-info-soft,var(--color-violet-400))]',\n      },\n      {\n        variant: 'destructive',\n        appearance: 'light',\n        className:\n          'text-[var(--color-destructive-accent,var(--color-red-700))] bg-[var(--color-destructive-soft,var(--color-red-50))] dark:bg-[var(--color-destructive-soft,var(--color-red-950))] dark:text-[var(--color-destructive-soft,var(--color-red-600))]',\n      },\n      /* Outline */\n      {\n        variant: 'primary',\n        appearance: 'outline',\n        className:\n          'text-[var(--color-primary-accent,var(--color-blue-700))] border-[var(--color-primary-soft,var(--color-blue-100))] bg-[var(--color-primary-soft,var(--color-blue-50))] dark:bg-[var(--color-primary-soft,var(--color-blue-950))] dark:border-[var(--color-primary-soft,var(--color-blue-900))] dark:text-[var(--color-primary-soft,var(--color-blue-600))]',\n      },\n      {\n        variant: 'success',\n        appearance: 'outline',\n        className:\n          'text-[var(--color-success-accent,var(--color-green-700))] border-[var(--color-success-soft,var(--color-green-200))] bg-[var(--color-success-soft,var(--color-green-50))] dark:bg-[var(--color-success-soft,var(--color-green-950))] dark:border-[var(--color-success-soft,var(--color-green-900))] dark:text-[var(--color-success-soft,var(--color-green-600))]',\n      },\n      {\n        variant: 'warning',\n        appearance: 'outline',\n        className:\n          'text-[var(--color-warning-accent,var(--color-yellow-700))] border-[var(--color-warning-soft,var(--color-yellow-200))] bg-[var(--color-warning-soft,var(--color-yellow-50))] dark:bg-[var(--color-warning-soft,var(--color-yellow-950))] dark:border-[var(--color-warning-soft,var(--color-yellow-900))] dark:text-[var(--color-warning-soft,var(--color-yellow-600))]',\n      },\n      {\n        variant: 'info',\n        appearance: 'outline',\n        className:\n          'text-[var(--color-info-accent,var(--color-violet-700))] border-[var(--color-info-soft,var(--color-violet-100))] bg-[var(--color-info-soft,var(--color-violet-50))] dark:bg-[var(--color-info-soft,var(--color-violet-950))] dark:border-[var(--color-info-soft,var(--color-violet-900))] dark:text-[var(--color-info-soft,var(--color-violet-400))]',\n      },\n      {\n        variant: 'destructive',\n        appearance: 'outline',\n        className:\n          'text-[var(--color-destructive-accent,var(--color-red-700))] border-[var(--color-destructive-soft,var(--color-red-100))] bg-[var(--color-destructive-soft,var(--color-red-50))] dark:bg-[var(--color-destructive-soft,var(--color-red-950))] dark:border-[var(--color-destructive-soft,var(--color-red-900))] dark:text-[var(--color-destructive-soft,var(--color-red-600))]',\n      },\n      /* Ghost */\n      {\n        variant: 'primary',\n        appearance: 'ghost',\n        className: 'text-primary',\n      },\n      {\n        variant: 'secondary',\n        appearance: 'ghost',\n        className: 'text-secondary-foreground',\n      },\n      {\n        variant: 'success',\n        appearance: 'ghost',\n        className: 'text-[var(--color-success-accent,var(--color-green-500))]',\n      },\n      {\n        variant: 'warning',\n        appearance: 'ghost',\n        className: 'text-[var(--color-warning-accent,var(--color-yellow-500))]',\n      },\n      {\n        variant: 'info',\n        appearance: 'ghost',\n        className: 'text-[var(--color-info-accent,var(--color-violet-500))]',\n      },\n      {\n        variant: 'destructive',\n        appearance: 'ghost',\n        className: 'text-destructive',\n      },\n\n      { size: 'lg', appearance: 'ghost', className: 'px-0' },\n      { size: 'md', appearance: 'ghost', className: 'px-0' },\n      { size: 'sm', appearance: 'ghost', className: 'px-0' },\n      { size: 'xs', appearance: 'ghost', className: 'px-0' },\n    ],\n    defaultVariants: {\n      variant: 'primary',\n      appearance: 'default',\n      size: 'md',\n    },\n  },\n);\n\nconst badgeButtonVariants = cva(\n  'cursor-pointer transition-all inline-flex items-center justify-center leading-none size-3.5 [&>svg]:opacity-100! [&>svg]:size-3.5! p-0 rounded-md -me-0.5 opacity-60 hover:opacity-100',\n  {\n    variants: {\n      variant: {\n        default: '',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n);\n\nfunction Badge({\n  className,\n  variant,\n  size,\n  appearance,\n  shape,\n  asChild = false,\n  disabled,\n  ...props\n}: React.ComponentProps<'span'> & VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? SlotPrimitive.Slot : 'span';\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant, size, appearance, shape, disabled }), className)}\n      {...props}\n    />\n  );\n}\n\nfunction BadgeButton({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> & VariantProps<typeof badgeButtonVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? SlotPrimitive.Slot : 'span';\n  return (\n    <Comp\n      data-slot=\"badge-button\"\n      className={cn(badgeButtonVariants({ variant, className }))}\n      role=\"button\"\n      {...props}\n    />\n  );\n}\n\nfunction BadgeDot({ className, ...props }: React.ComponentProps<'span'>) {\n  return (\n    <span\n      data-slot=\"badge-dot\"\n      className={cn('size-1.5 rounded-full bg-[currentColor] opacity-75', className)}\n      {...props}\n    />\n  );\n}\n\nexport { Badge, BadgeButton, BadgeDot, badgeVariants };\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "registry\\default\\ui\\sortable.tsx",
      "content": "/* eslint-disable @typescript-eslint/no-explicit-any */\n'use client';\n\nimport * as React from 'react';\nimport { cn } from '@/registry/default/lib/utils';\nimport {\n  DndContext,\n  DragEndEvent,\n  DragOverlay,\n  DragStartEvent,\n  KeyboardSensor,\n  PointerSensor,\n  UniqueIdentifier,\n  useSensor,\n  useSensors,\n  type DraggableSyntheticListeners,\n} from '@dnd-kit/core';\nimport {\n  arrayMove,\n  rectSortingStrategy,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  useSortable,\n  verticalListSortingStrategy,\n} from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport { Slot } from '@radix-ui/react-slot';\n\n// Sortable Item Context\nconst SortableItemContext = React.createContext<{\n  listeners: DraggableSyntheticListeners | undefined;\n  isDragging?: boolean;\n  disabled?: boolean;\n}>({\n  listeners: undefined,\n  isDragging: false,\n  disabled: false,\n});\n\n// Multipurpose Sortable Component\nexport interface SortableRootProps<T> {\n  value: T[];\n  onValueChange: (value: T[]) => void;\n  getItemValue: (item: T) => string;\n  children: React.ReactNode;\n  className?: string;\n  onMove?: (event: { event: DragEndEvent; activeIndex: number; overIndex: number }) => void;\n  strategy?: 'horizontal' | 'vertical' | 'grid';\n  onDragStart?: (event: DragStartEvent) => void;\n  onDragEnd?: (event: DragEndEvent) => void;\n}\n\nfunction Sortable<T>({\n  value,\n  onValueChange,\n  getItemValue,\n  children,\n  className,\n  onMove,\n  strategy = 'vertical',\n  onDragStart,\n  onDragEnd,\n}: SortableRootProps<T>) {\n  const [activeId, setActiveId] = React.useState<UniqueIdentifier | null>(null);\n\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 10,\n      },\n    }),\n    useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates,\n    }),\n  );\n\n  const handleDragStart = React.useCallback(\n    (event: DragStartEvent) => {\n      setActiveId(event.active.id);\n      onDragStart?.(event);\n    },\n    [onDragStart],\n  );\n\n  const handleDragEnd = React.useCallback(\n    (event: DragEndEvent) => {\n      const { active, over } = event;\n      setActiveId(null);\n      onDragEnd?.(event);\n\n      if (!over) return;\n\n      // Handle item reordering\n      const activeIndex = value.findIndex((item: T) => getItemValue(item) === active.id);\n      const overIndex = value.findIndex((item: T) => getItemValue(item) === over.id);\n\n      if (activeIndex !== overIndex) {\n        if (onMove) {\n          onMove({ event, activeIndex, overIndex });\n        } else {\n          const newValue = arrayMove(value, activeIndex, overIndex);\n          onValueChange(newValue);\n        }\n      }\n    },\n    [value, getItemValue, onValueChange, onMove, onDragEnd],\n  );\n\n  const getStrategy = () => {\n    switch (strategy) {\n      case 'horizontal':\n        return rectSortingStrategy;\n      case 'grid':\n        return rectSortingStrategy;\n      case 'vertical':\n      default:\n        return verticalListSortingStrategy;\n    }\n  };\n\n  const itemIds = React.useMemo(() => value.map(getItemValue), [value, getItemValue]);\n\n  return (\n    <DndContext sensors={sensors} onDragStart={handleDragStart} onDragEnd={handleDragEnd}>\n      <SortableContext items={itemIds} strategy={getStrategy()}>\n        <div data-slot=\"sortable\" data-dragging={activeId !== null} className={cn(className)}>\n          {children}\n        </div>\n      </SortableContext>\n\n      <DragOverlay>\n        {activeId ? (\n          <div className=\"z-50\">\n            {React.Children.map(children, (child) => {\n              if (React.isValidElement(child) && (child.props as any).value === activeId) {\n                return React.cloneElement(child as React.ReactElement<any>, {\n                  ...(child.props as any),\n                  className: cn((child.props as any).className, 'z-50 shadow-lg'),\n                });\n              }\n              return null;\n            })}\n          </div>\n        ) : null}\n      </DragOverlay>\n    </DndContext>\n  );\n}\n\nexport interface SortableItemProps {\n  value: string;\n  asChild?: boolean;\n  className?: string;\n  children: React.ReactNode;\n  disabled?: boolean;\n}\n\nfunction SortableItem({ value, asChild = false, className, children, disabled }: SortableItemProps) {\n  const {\n    setNodeRef,\n    transform,\n    transition,\n    attributes,\n    listeners,\n    isDragging: isSortableDragging,\n  } = useSortable({\n    id: value,\n    disabled,\n  });\n\n  const style = {\n    transition,\n    transform: CSS.Translate.toString(transform),\n  } as React.CSSProperties;\n\n  const Comp = asChild ? Slot : 'div';\n\n  return (\n    <SortableItemContext.Provider value={{ listeners, isDragging: isSortableDragging, disabled }}>\n      <Comp\n        data-slot=\"sortable-item\"\n        data-value={value}\n        data-dragging={isSortableDragging}\n        data-disabled={disabled}\n        ref={setNodeRef}\n        style={style}\n        {...attributes}\n        className={cn(isSortableDragging && 'opacity-50 z-50', disabled && 'opacity-50', className)}\n      >\n        {children}\n      </Comp>\n    </SortableItemContext.Provider>\n  );\n}\n\nexport interface SortableItemHandleProps {\n  asChild?: boolean;\n  className?: string;\n  children?: React.ReactNode;\n  cursor?: boolean;\n}\n\nfunction SortableItemHandle({ asChild, className, children, cursor = true }: SortableItemHandleProps) {\n  const { listeners, isDragging, disabled } = React.useContext(SortableItemContext);\n\n  const Comp = asChild ? Slot : 'div';\n\n  return (\n    <Comp\n      data-slot=\"sortable-item-handle\"\n      data-dragging={isDragging}\n      data-disabled={disabled}\n      {...listeners}\n      className={cn(cursor && (isDragging ? '!cursor-grabbing' : '!cursor-grab'), className)}\n    >\n      {children}\n    </Comp>\n  );\n}\n\nexport { Sortable, SortableItem, SortableItemHandle };\n",
      "type": "registry:ui",
      "target": ""
    }
  ],
  "type": "registry:component"
}